/*! For license information please see schemio-standalone.js.LICENSE.txt */
(()=>{var e={7010:function(e){"undefined"!=typeof self&&self,e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=8)}([function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i);return[n].concat(i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}))).concat([r]).join("\n")}return""+n}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;this.length>r;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;e.length>r;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,aAUAAMQEAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAUdPJHwAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIFrAAAALwAAABgY21hcBdW0okAAAEcAAAAVGdhc3AAAAAQAAABcAAAAAhnbHlmpZ+jMAAAAXgAAAD8aGVhZA/FmAgAAAJ0AAAANmhoZWEHgAPIAAACrAAAACRobXR4EgABvgAAAtAAAAAcbG9jYQCSAOIAAALsAAAAEG1heHAACQAfAAAC/AAAACBuYW1lmUoJ+wAAAxwAAAGGcG9zdAADAAAAAASkAAAAIAADA4ABkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOkCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAA4AAAACgAIAAIAAgABACDpAv/9//8AAAAAACDpAP/9//8AAf/jFwQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAVgEBA74CgQAcAAABMhceARcWFwcmJy4BJyYjIgYHFyERFzY3PgE3NgIWSkNDbykpF2QQIB9VMzQ5P3AtnP6AmB0iIkspKAJVFxhSODlCIDMrKz4REislmgGAmhkVFBwICAABANYAgQMqAtUACwAAAQcXBycHJzcnNxc3Ayru7jzu7jzu7jzu7gKZ7u487u487u487u4AAQCSAIEDgAK9AAUAACUBFwEnNwGAAcQ8/gDuPPkBxDz+AO48AAAAAAEAAAAAAAAfydNRXw889QALBAAAAAAA1nUqGwAAAADWdSobAAAAAAO+AtUAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA74AAQAAAAAAAAAAAAAAAAAAAAcEAAAAAAAAAAAAAAACAAAABAAAVgQAANYEAACSAAAAAAAKABQAHgBQAGoAfgABAAAABwAdAAEAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},function(e,t,n){function i(e){for(var t=0;e.length>t;t++){var n=e[t],i=h[n.id];if(i){i.refs++;for(var r=0;i.parts.length>r;r++)i.parts[r](n.parts[r]);for(;n.parts.length>r;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;n.parts.length>r;r++)s.push(o(n.parts[r]));h[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function o(e){var t,n,i=document.querySelector("style["+v+'~="'+e.id+'"]');if(i){if(f)return m;i.parentNode.removeChild(i)}if(y){var o=p++;i=u||(u=r()),t=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),t=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}function s(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function a(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),g.ssrId&&e.setAttribute(v,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(15),h={},d=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,p=0,f=!1,m=function(){},g=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,r){f=n,g=r||{};var o=c(e,t);return i(o),function(t){for(var n=[],r=0;o.length>r;r++){var s=o[r];(a=h[s.id]).refs--,n.push(a)}for(t?i(o=c(e,t)):o=[],r=0;n.length>r;r++){var a;if(0===(a=n[r]).refs){for(var l=0;a.parts.length>l;l++)a.parts[l]();delete h[a.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,i,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,h="function"==typeof a?a.options:a;if(t&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0),n&&(h.functional=!0),r&&(h._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=c):i&&(c=i),c){var d=h.functional,u=d?h.render:h.beforeCreate;d?(h._injectStyles=c,h.render=function(e,t){return c.call(t),u(e,t)}):h.beforeCreate=u?[].concat(u,c):[c]}return{esModule:s,exports:a,options:h}}},function(e,t,n){"use strict";var i=n(16),r=n.n(i),o=n(5),s=n(6),a=n(20),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a={name:"VueTagsInput",components:{TagInput:s.a},props:a.a,data:function(){return{newTag:null,tagsCopy:null,tagsEditStatus:null,deletionMark:null,deletionMarkTime:null,selectedItem:null,focused:null}},computed:{autocompleteOpen:function(){return!!this.autocompleteAlwaysOpen||null!==this.newTag&&this.newTag.length>=this.autocompleteMinLength&&this.filteredAutocompleteItems.length>0&&this.focused},filteredAutocompleteItems:function(){var e=this,t=this.autocompleteItems.map((function(t){return Object(o.c)(t,e.tags,e.validation,e.isDuplicate)}));return this.autocompleteFilterDuplicates?t.filter(this.duplicateFilter):t}},methods:{createClasses:o.b,getSelectedIndex:function(e){var t=this.filteredAutocompleteItems,n=this.selectedItem,i=t.length-1;if(0!==t.length)return null===n?0:"before"===e&&0===n?i:"after"===e&&n===i?0:"after"===e?n+1:n-1},selectDefaultItem:function(){this.selectedItem=this.addOnlyFromAutocomplete&&this.filteredAutocompleteItems.length>0?0:null},selectItem:function(e,t){e.preventDefault(),this.selectedItem=this.getSelectedIndex(t)},isSelected:function(e){return this.selectedItem===e},isMarked:function(e){return this.deletionMark===e},invokeDelete:function(){var e=this;if(this.deleteOnBackslash&&0>=this.newTag.length){var t=this.tagsCopy.length-1;null===this.deletionMark?(this.deletionMarkTime=setTimeout((function(){return e.deletionMark=null}),1e3),this.deletionMark=t):this.performDeleteTag(t)}},addTagsFromPaste:function(){var e=this;this.addFromPaste&&setTimeout((function(){return e.performAddTags(e.newTag)}),10)},performEditTag:function(e){var t=this;this.allowEditTags&&(this._events["before-editing-tag"]||this.editTag(e),this.$emit("before-editing-tag",{index:e,tag:this.tagsCopy[e],editTag:function(){return t.editTag(e)}}))},editTag:function(e){this.allowEditTags&&(this.toggleEditMode(e),this.focus(e))},toggleEditMode:function(e){this.allowEditTags&&!this.disabled&&this.$set(this.tagsEditStatus,e,!this.tagsEditStatus[e])},createChangedTag:function(e,t){var n=this.tagsCopy[e];n.text=t?t.target.value:this.tagsCopy[e].text,this.$set(this.tagsCopy,e,Object(o.c)(n,this.tagsCopy,this.validation,this.isDuplicate))},focus:function(e){var t=this;this.$nextTick((function(){var n=t.$refs.tagCenter[e].querySelector("input.tag-input");n&&n.focus()}))},quote:function(e){return e.replace(/([()[{*+.$^\\|?])/g,"\\$1")},cancelEdit:function(e){this.tags[e]&&(this.tagsCopy[e]=Object(o.a)(Object(o.c)(this.tags[e],this.tags,this.validation,this.isDuplicate)),this.$set(this.tagsEditStatus,e,!1))},hasForbiddingAddRule:function(e){var t=this;return e.some((function(e){var n=t.validation.find((function(t){return e===t.type}));return!!n&&n.disableAdd}))},createTagTexts:function(e){var t=this;return e.split(RegExp(this.separators.map((function(e){return t.quote(e)})).join("|"))).map((function(e){return{text:e}}))},performDeleteTag:function(e){var t=this;this._events["before-deleting-tag"]||this.deleteTag(e),this.$emit("before-deleting-tag",{index:e,tag:this.tagsCopy[e],deleteTag:function(){return t.deleteTag(e)}})},deleteTag:function(e){this.disabled||(this.deletionMark=null,clearTimeout(this.deletionMarkTime),this.tagsCopy.splice(e,1),this._events["update:tags"]&&this.$emit("update:tags",this.tagsCopy),this.$emit("tags-changed",this.tagsCopy))},noTriggerKey:function(e,t){var n=-1!==this[t].indexOf(e.keyCode)||-1!==this[t].indexOf(e.key);return n&&e.preventDefault(),!n},performAddTags:function(e,t,n){var i=this;if(!(this.disabled||t&&this.noTriggerKey(t,"addOnKey")||"string"==typeof e&&0===e.trim().length)){var r=[];"object"===(void 0===e?"undefined":l(e))&&(r=[e]),"string"==typeof e&&(r=this.createTagTexts(e)),r.forEach((function(e){e=Object(o.c)(e,i.tags,i.validation,i.isDuplicate),i._events["before-adding-tag"]||i.addTag(e,n),i.$emit("before-adding-tag",{tag:e,addTag:function(){return i.addTag(e,n)}})}))}},duplicateFilter:function(e){return this.isDuplicate?!this.isDuplicate(this.tagsCopy,e):!this.tagsCopy.find((function(t){return t.text===e.text}))},addTag:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new-tag-input",i=this.filteredAutocompleteItems.map((function(e){return e.text}));this.addOnlyFromAutocomplete&&-1===i.indexOf(e.text)||this.$nextTick((function(){return t.maxTags&&t.tagsCopy.length>=t.maxTags?t.$emit("max-tags-reached",e):t.avoidAddingDuplicates&&!t.duplicateFilter(e)?t.$emit("adding-duplicate",e):void(!e.valid&&t.hasForbiddingAddRule(e.tiClasses)||(t.$emit("input",""),t.tagsCopy.push(e),t._events["update:tags"]&&t.$emit("update:tags",t.tagsCopy),"autocomplete"===n&&t.$refs.newTagInput.focus(),t.$emit("tags-changed",t.tagsCopy)))}))},performSaveTag:function(e,t){var n=this,i=this.tagsCopy[e];this.disabled||t&&this.noTriggerKey(t,"addOnKey")||0!==i.text.trim().length&&(this._events["before-saving-tag"]||this.saveTag(e,i),this.$emit("before-saving-tag",{index:e,tag:i,saveTag:function(){return n.saveTag(e,i)}}))},saveTag:function(e,t){if(this.avoidAddingDuplicates){var n=Object(o.a)(this.tagsCopy),i=n.splice(e,1)[0];if(this.isDuplicate?this.isDuplicate(n,i):-1!==n.map((function(e){return e.text})).indexOf(i.text))return this.$emit("saving-duplicate",t)}!t.valid&&this.hasForbiddingAddRule(t.tiClasses)||(this.$set(this.tagsCopy,e,t),this.toggleEditMode(e),this._events["update:tags"]&&this.$emit("update:tags",this.tagsCopy),this.$emit("tags-changed",this.tagsCopy))},tagsEqual:function(){var e=this;return!this.tagsCopy.some((function(t,n){return!r()(t,e.tags[n])}))},updateNewTag:function(e){var t=e.target.value;this.newTag=t,this.$emit("input",t)},initTags:function(){this.tagsCopy=Object(o.d)(this.tags,this.validation,this.isDuplicate),this.tagsEditStatus=Object(o.a)(this.tags).map((function(){return!1})),this._events["update:tags"]&&!this.tagsEqual()&&this.$emit("update:tags",this.tagsCopy)},blurred:function(e){this.$el.contains(e.target)||(this.addOnBlur&&this.focused&&this.performAddTags(this.newTag),this.focused=!1)}},watch:{value:function(e){this.addOnlyFromAutocomplete||(this.selectedItem=null),this.newTag=e},tags:{handler:function(){this.initTags()},deep:!0},autocompleteOpen:"selectDefaultItem"},created:function(){this.newTag=this.value,this.initTags()},mounted:function(){this.selectDefaultItem(),document.addEventListener("click",this.blurred)},destroyed:function(){document.removeEventListener("click",this.blurred)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i}));var i=function(e){return JSON.parse(JSON.stringify(e))},r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments[3];void 0===e.text&&(e={text:e});var o=function(e,t){return t.filter((function(t){return"string"==typeof t.rule?!RegExp(t.rule).test(e):t.rule instanceof RegExp?!t.rule.test(e):"[object Function]"==={}.toString.call(t.rule)?t.rule(e):void 0})).map((function(e){return e.type}))}(e.text,n),s=function(e,t){for(var n=0;e.length>n;){if(t(e[n],n,e))return n;n++}return-1}(t,(function(t){return t===e})),a=i(t),l=-1!==s?a.splice(s,1)[0]:i(e);return(r?r(a,l):-1!==a.map((function(e){return e.text})).indexOf(l.text))&&o.push("duplicate"),o.push(0===o.length?"valid":"invalid"),o},o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;t>o;o++)n[o-1]=arguments[o];void 0===e.text&&(e={text:e});var s=i(e);return s.tiClasses=r.apply(void 0,[e].concat(n)),s},s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return e.map((function(t){return o.apply(void 0,[t,e].concat(n))}))}},function(e,t,n){"use strict";var i=n(7),r=n(19);t.a=n(3)(i.a,r.a,!1,(function(e){n(17)}),"data-v-5d05513b",null).exports},function(e,t,n){"use strict";t.a={name:"TagInput",props:["scope"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(5),o=n(6);n.d(t,"VueTagsInput",(function(){return i.a})),n.d(t,"createClasses",(function(){return r.b})),n.d(t,"createTag",(function(){return r.c})),n.d(t,"createTags",(function(){return r.d})),n.d(t,"TagInput",(function(){return o.a})),i.a.install=function(e){return e.component(i.a.name,i.a)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(i.a),t.default=i.a},function(e,t,n){"use strict";var i=n(4),r=n(21);t.a=n(3)(i.a,r.a,!1,(function(e){n(10)}),"data-v-523b8ea9",null).exports},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(2)("3e3f1cb8",i,!0,{})},function(e,t,n){var i=n(12);(e.exports=n(0)(!1)).push([e.i,"@font-face{font-family:icomoon;src:url("+i(n(1))+");src:url("+i(n(1))+'#iefix) format("embedded-opentype"),url('+i(n(13))+') format("truetype"),url('+i(n(14))+') format("woff");font-weight:400;font-style:normal}[class*=" icon-"][data-v-523b8ea9],[class^=icon-][data-v-523b8ea9]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-check[data-v-523b8ea9]:before{content:"\\E902"}.icon-close[data-v-523b8ea9]:before{content:"\\E901"}.icon-undo[data-v-523b8ea9]:before{content:"\\E900"}ul[data-v-523b8ea9]{margin:0;padding:0;list-style-type:none}[data-v-523b8ea9],[data-v-523b8ea9]:after,[data-v-523b8ea9]:before{-webkit-box-sizing:border-box;box-sizing:border-box}input[data-v-523b8ea9]:focus{outline:none}input[disabled][data-v-523b8ea9]{background-color:transparent}.vue-tags-input[data-v-523b8ea9]{max-width:450px;position:relative;background-color:#fff}.vue-tags-input.vue-tags-input.disabled[data-v-523b8ea9]{opacity:.5}.vue-tags-input.vue-tags-input.disabled [data-v-523b8ea9]{cursor:default}.input[data-v-523b8ea9]{border:1px solid #ccc;padding:4px}.input[data-v-523b8ea9],.tags[data-v-523b8ea9]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.tags[data-v-523b8ea9]{width:100%}.tag[data-v-523b8ea9]{background-color:#5c6bc0;color:#fff;border-radius:2px;display:-webkit-box;display:-ms-flexbox;display:flex;padding:3px 5px;margin:2px;font-size:.85em}.tag[data-v-523b8ea9]:focus{outline:none}.tag .content[data-v-523b8ea9]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.tag .tag-center[data-v-523b8ea9]{position:relative}.tag span[data-v-523b8ea9]{line-height:inherit}.tag span.hidden[data-v-523b8ea9]{padding-left:14px;visibility:hidden;height:0;white-space:pre}.tag .actions[data-v-523b8ea9]{margin-left:2px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1.15em}.tag .actions i[data-v-523b8ea9]{cursor:pointer}.tag[data-v-523b8ea9]:last-child{margin-right:4px}.tag.invalid[data-v-523b8ea9],.tag.tag.deletion-mark[data-v-523b8ea9]{background-color:#e54d42}.new-tag-input-wrapper[data-v-523b8ea9]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;padding:3px 5px;margin:2px;font-size:.85em}.new-tag-input-wrapper input[data-v-523b8ea9]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;min-width:100px;border:none;padding:0;margin:0}.new-tag-input[data-v-523b8ea9]{line-height:inherit}.autocomplete[data-v-523b8ea9]{border:1px solid #ccc;border-top:none;position:absolute;width:100%;background-color:#fff;z-index:20}.item>div[data-v-523b8ea9]{cursor:pointer;padding:3px 6px;width:100%}.selected-item[data-v-523b8ea9]{background-color:#5c6bc0;color:#fff}',""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBawAAAC8AAAAYGNtYXAXVtKJAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZqWfozAAAAF4AAAA/GhlYWQPxZgIAAACdAAAADZoaGVhB4ADyAAAAqwAAAAkaG10eBIAAb4AAALQAAAAHGxvY2EAkgDiAAAC7AAAABBtYXhwAAkAHwAAAvwAAAAgbmFtZZlKCfsAAAMcAAABhnBvc3QAAwAAAAAEpAAAACAAAwOAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpAgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6QL//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAFYBAQO+AoEAHAAAATIXHgEXFhcHJicuAScmIyIGBxchERc2Nz4BNzYCFkpDQ28pKRdkECAfVTM0OT9wLZz+gJgdIiJLKSgCVRcYUjg5QiAzKys+ERIrJZoBgJoZFRQcCAgAAQDWAIEDKgLVAAsAAAEHFwcnByc3JzcXNwMq7u487u487u487u4Cme7uPO7uPO7uPO7uAAEAkgCBA4ACvQAFAAAlARcBJzcBgAHEPP4A7jz5AcQ8/gDuPAAAAAABAAAAAAAAH8nTUV8PPPUACwQAAAAAANZ1KhsAAAAA1nUqGwAAAAADvgLVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAO+AAEAAAAAAAAAAAAAAAAAAAAHBAAAAAAAAAAAAAAAAgAAAAQAAFYEAADWBAAAkgAAAAAACgAUAB4AUABqAH4AAQAAAAcAHQABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},function(e,t){e.exports="data:font/woff;base64,d09GRgABAAAAAAUQAAsAAAAABMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFrGNtYXAAAAFoAAAAVAAAAFQXVtKJZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAPwAAAD8pZ+jMGhlYWQAAALAAAAANgAAADYPxZgIaGhlYQAAAvgAAAAkAAAAJAeAA8hobXR4AAADHAAAABwAAAAcEgABvmxvY2EAAAM4AAAAEAAAABAAkgDibWF4cAAAA0gAAAAgAAAAIAAJAB9uYW1lAAADaAAAAYYAAAGGmUoJ+3Bvc3QAAATwAAAAIAAAACAAAwAAAAMDgAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkC//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQBWAQEDvgKBABwAAAEyFx4BFxYXByYnLgEnJiMiBgcXIREXNjc+ATc2AhZKQ0NvKSkXZBAgH1UzNDk/cC2c/oCYHSIiSykoAlUXGFI4OUIgMysrPhESKyWaAYCaGRUUHAgIAAEA1gCBAyoC1QALAAABBxcHJwcnNyc3FzcDKu7uPO7uPO7uPO7uApnu7jzu7jzu7jzu7gABAJIAgQOAAr0ABQAAJQEXASc3AYABxDz+AO48+QHEPP4A7jwAAAAAAQAAAAAAAB/J01FfDzz1AAsEAAAAAADWdSobAAAAANZ1KhsAAAAAA74C1QAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAADvgABAAAAAAAAAAAAAAAAAAAABwQAAAAAAAAAAAAAAAIAAAAEAABWBAAA1gQAAJIAAAAAAAoAFAAeAFAAagB+AAEAAAAHAB0AAQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;t.length>r;r++){var o=t[r],s=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}},function(e,t,n){"use strict";var i=Array.isArray,r=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,a,l,c=i(t),h=i(n);if(c&&h){if((a=t.length)!=n.length)return!1;for(s=a;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(c!=h)return!1;var d=t instanceof Date,u=n instanceof Date;if(d!=u)return!1;if(d&&u)return t.getTime()==n.getTime();var p=t instanceof RegExp,f=n instanceof RegExp;if(p!=f)return!1;if(p&&f)return""+t==""+n;var m=r(t);if((a=m.length)!==r(n).length)return!1;for(s=a;0!=s--;)if(!o.call(n,m[s]))return!1;for(s=a;0!=s--;)if(!e(t[l=m[s]],n[l]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){var i=n(18);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(2)("85656b4e",i,!0,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".tag-input[data-v-5d05513b]{background-color:transparent;color:inherit;border:none;padding:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;top:0;position:absolute;width:100%;line-height:inherit}.tag-input[data-v-5d05513b]::-ms-clear{display:none}input[data-v-5d05513b]:focus{outline:none}input[disabled][data-v-5d05513b]{background-color:transparent}",""])},function(e,t,n){"use strict";t.a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.scope.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:e.scope.tag.text,expression:"scope.tag.text"}],staticClass:"tag-input",attrs:{type:"text",maxlength:e.scope.maxlength,size:"1"},domProps:{value:e.scope.tag.text},on:{input:[function(t){t.target.composing||e.$set(e.scope.tag,"text",t.target.value)},function(t){e.scope.validateTag(e.scope.index,t)}],blur:function(t){e.scope.cancelEdit(e.scope.index)},keydown:function(t){e.scope.performSaveTag(e.scope.index,t)}}}):e._e()},staticRenderFns:[]}},function(e,t,n){"use strict";var i=function(e){return!e.some((function(e){var t=!e.text;t&&console.warn('Missing property "text"',e);var n=!1;return e.classes&&(n="string"!=typeof e.classes),n&&console.warn('Property "classes" must be type of string',e),t||n}))},r=function(e){return!e.some((function(e){if("number"==typeof e){var t=isFinite(e)&&Math.floor(e)===e;return t||console.warn("Only numerics are allowed for this prop. Found:",e),!t}if("string"==typeof e){var n=/\W|[a-z]|!\d/i.test(e);return n||console.warn("Only alpha strings are allowed for this prop. Found:",e),!n}return console.warn("Only numeric and string values are allowed. Found:",e),!1}))};t.a={value:{type:String,default:"",required:!0},tags:{type:Array,default:function(){return[]},validator:i},autocompleteItems:{type:Array,default:function(){return[]},validator:i},allowEditTags:{type:Boolean,default:!1},autocompleteFilterDuplicates:{default:!0,type:Boolean},addOnlyFromAutocomplete:{type:Boolean,default:!1},autocompleteMinLength:{type:Number,default:1},autocompleteAlwaysOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Add Tag"},addOnKey:{type:Array,default:function(){return[13]},validator:r},saveOnKey:{type:Array,default:function(){return[13]},validator:r},maxTags:{type:Number},maxlength:{type:Number},validation:{type:Array,default:function(){return[]},validator:function(e){return!e.some((function(e){var t=!e.rule;t&&console.warn('Property "rule" is missing',e);var n=e.rule&&("string"==typeof e.rule||e.rule instanceof RegExp||"[object Function]"==={}.toString.call(e.rule));n||console.warn("A rule must be type of string, RegExp or function. Found:",JSON.stringify(e.rule));var i=!e.type;i&&console.warn('Property "type" is missing',e);var r=e.type&&"string"!=typeof e.type;return r&&console.warn('Property "type" must be type of string. Found:',e),!n||t||i||r}))}},separators:{type:Array,default:function(){return[";"]},validator:function(e){return!e.some((function(e){var t="string"!=typeof e;return t&&console.warn("Separators must be type of string. Found:",e),t}))}},avoidAddingDuplicates:{type:Boolean,default:!0},addOnBlur:{type:Boolean,default:!0},isDuplicate:{type:Function,default:null},addFromPaste:{type:Boolean,default:!0},deleteOnBackslash:{default:!0,type:Boolean}}},function(e,t,n){"use strict";t.a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-tags-input",class:[{disabled:e.disabled},{"ti-focus":e.focused}]},[n("div",{staticClass:"input"},[e.tagsCopy?n("ul",{staticClass:"tags"},[e._l(e.tagsCopy,(function(t,i){return n("li",{key:i,staticClass:"tag",class:[{editing:e.tagsEditStatus[i]},t.tiClasses,t.classes,{"deletion-mark":e.isMarked(i)}],style:t.style,attrs:{tabindex:i+1},on:{click:function(n){e.$emit("tag-clicked",{tag:t,index:i})}}},[n("div",{staticClass:"content"},[e.$scopedSlots.tagLeft?n("div",{staticClass:"tag-left"},[e._t("tagLeft",null,{tag:t,index:i,edit:e.tagsEditStatus[i],performSaveEdit:e.performSaveTag,performDelete:e.performDeleteTag,performCancelEdit:e.cancelEdit,performOpenEdit:e.performEditTag,deletionMark:e.isMarked(i)})],2):e._e(),e._v(" "),n("div",{ref:"tagCenter",refInFor:!0,staticClass:"tag-center"},[e.$scopedSlots.tagCenter?e._e():n("span",{class:{hidden:e.tagsEditStatus[i]},on:{click:function(t){e.performEditTag(i)}}},[e._v(e._s(t.text))]),e._v(" "),e.$scopedSlots.tagCenter?e._e():n("tag-input",{attrs:{scope:{edit:e.tagsEditStatus[i],maxlength:e.maxlength,tag:t,index:i,validateTag:e.createChangedTag,cancelEdit:e.cancelEdit,performSaveTag:e.performSaveTag}}}),e._v(" "),e._t("tagCenter",null,{tag:t,index:i,maxlength:e.maxlength,edit:e.tagsEditStatus[i],performSaveEdit:e.performSaveTag,performDelete:e.performDeleteTag,performCancelEdit:e.cancelEdit,validateTag:e.createChangedTag,performSaveTag:e.performSaveTag,performOpenEdit:e.performEditTag,deletionMark:e.isMarked(i)})],2),e._v(" "),e.$scopedSlots.tagRight?n("div",{staticClass:"tag-right"},[e._t("tagRight",null,{tag:t,index:i,edit:e.tagsEditStatus[i],performSaveEdit:e.performSaveTag,performDelete:e.performDeleteTag,performCancelEdit:e.cancelEdit,performOpenEdit:e.performEditTag,deletionMark:e.isMarked(i)})],2):e._e()]),e._v(" "),n("div",{staticClass:"actions"},[e.$scopedSlots.tagActions?e._e():n("i",{directives:[{name:"show",rawName:"v-show",value:e.tagsEditStatus[i],expression:"tagsEditStatus[index]"}],staticClass:"icon-undo",on:{click:function(t){e.cancelEdit(i)}}}),e._v(" "),e.$scopedSlots.tagActions?e._e():n("i",{directives:[{name:"show",rawName:"v-show",value:!e.tagsEditStatus[i],expression:"!tagsEditStatus[index]"}],staticClass:"icon-close",on:{click:function(t){e.performDeleteTag(i)}}}),e._v(" "),e.$scopedSlots.tagActions?e._t("tagActions",null,{tag:t,index:i,edit:e.tagsEditStatus[i],performSaveEdit:e.performSaveTag,performDelete:e.performDeleteTag,performCancelEdit:e.cancelEdit,performOpenEdit:e.performEditTag,deletionMark:e.isMarked(i)}):e._e()],2)])})),e._v(" "),n("li",{staticClass:"new-tag-input-wrapper"},[n("input",e._b({ref:"newTagInput",staticClass:"new-tag-input",class:[e.createClasses(e.newTag,e.tags,e.validation,e.isDuplicate)],attrs:{type:"text",size:"1",placeholder:e.placeholder,maxlength:e.maxlength,disabled:e.disabled},domProps:{value:e.newTag},on:{paste:e.addTagsFromPaste,keydown:[function(t){e.performAddTags(e.filteredAutocompleteItems[e.selectedItem]||e.newTag,t)},function(t){return"button"in t||8===t.keyCode?e.invokeDelete(t):null},function(t){if(!("button"in t)&&38!==t.keyCode)return null;e.selectItem(t,"before")},function(t){if(!("button"in t)&&40!==t.keyCode)return null;e.selectItem(t,"after")}],input:e.updateNewTag,blur:function(t){e.$emit("blur",t)},focus:function(t){e.focused=!0,e.$emit("focus",t)},click:function(t){!e.addOnlyFromAutocomplete&&(e.selectedItem=null)}}},"input",e.$attrs,!1))])],2):e._e()]),e._v(" "),e._t("between-elements"),e._v(" "),e.autocompleteOpen?n("div",{staticClass:"autocomplete",on:{mouseout:function(t){e.selectedItem=null}}},[e._t("autocompleteHeader"),e._v(" "),n("ul",e._l(e.filteredAutocompleteItems,(function(t,i){return n("li",{key:i,staticClass:"item",class:[t.tiClasses,t.classes,{"selected-item":e.isSelected(i)}],style:t.style,on:{mouseover:function(t){!e.disabled&&(e.selectedItem=i)}}},[e.$scopedSlots.autocompleteItem?e._t("autocompleteItem",null,{item:t,index:i,performAdd:function(t){return e.performAddTags(t,void 0,"autocomplete")},selected:e.isSelected(i)}):n("div",{on:{click:function(n){e.performAddTags(t,void 0,"autocomplete")}}},[e._v(e._s(t.text)+"\n        ")])],2)}))),e._v(" "),e._t("autocompleteFooter")],2):e._e()],2)},staticRenderFns:[]}}])},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var i=n(4867),r=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),h=n(5061),d=n(5655),u=n(5263);e.exports=function(e){return new Promise((function(t,n){var p,f=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(f)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+x)}var w=a(e.baseURL,e.url);function A(){if(y){var i="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:i,config:e,request:y};r((function(e){t(e),v()}),(function(e){n(e),v()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(A)},y.onabort=function(){y&&(n(h("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(h("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",i=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(h(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},i.isStandardBrowserEnv()){var C=(e.withCredentials||c(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;C&&(m[e.xsrfHeaderName]=C)}"setRequestHeader"in y&&i.forEach(m,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(n(!e||e&&e.type?new u("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),y.send(f)}))}},1609:(e,t,n)=>{"use strict";var i=n(4867),r=n(1849),o=n(321),s=n(7185),a=function e(t){var n=new o(t),a=r(o.prototype.request,n);return i.extend(a,o.prototype,n),i.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5655));a.Axios=o,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var i=n(5263);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var i=n(4867),r=n(5327),o=n(782),s=n(3572),a=n(7185),l=n(4875),c=l.validators;function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!i){var h=[s,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(o),r=Promise.resolve(e);h.length;)r=r.then(h.shift(),h.shift());return r}for(var d=e;n.length;){var u=n.shift(),p=n.shift();try{d=u(d)}catch(e){p(e);break}}try{r=s(d)}catch(e){return Promise.reject(e)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},h.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){h.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}})),e.exports=h},782:(e,t,n)=>{"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},4097:(e,t,n)=>{"use strict";var i=n(1793),r=n(7303);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},5061:(e,t,n)=>{"use strict";var i=n(481);e.exports=function(e,t,n,r,o){var s=new Error(e);return i(s,t,n,r,o)}},3572:(e,t,n)=>{"use strict";var i=n(4867),r=n(8527),o=n(6502),s=n(5655),a=n(5263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},6026:(e,t,n)=>{"use strict";var i=n(5061);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var i=n(4867),r=n(5655);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5655:(e,t,n)=>{"use strict";var i=n(4867),r=n(6016),o=n(481),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(5448)),l),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(s)})),e.exports=c},7288:e=>{e.exports={version:"0.22.0"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var i=n(4867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},4109:(e,t,n)=>{"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var i=n(7288).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,s){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!o[i]&&(o[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],s=t[o];if(s){var a=e[o],l=void 0===a||s(a,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},4867:(e,t,n)=>{"use strict";var i=n(1849),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function h(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function e(){var t={};function n(n,i){l(t[i])&&l(n)?t[i]=e(t[i],n):l(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)h(arguments[i],n);return t},extend:function(e,t,n){return h(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2643:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var i=n(520);function r(e,t){if(e){for(let n in t)if(t.hasOwnProperty(n))if("*"===n)for(let n in e)r(e[n],t["*"]);else{const o=t[n];if(!e.hasOwnProperty(n)||null===e[n]||o&&typeof e[n]!=typeof o||Array.isArray(o)&&!Array.isArray(e[n]))Array.isArray(o)?e[n]=[]:e[n]=i.Z.clone(o);else if("object"!=typeof o||Array.isArray(o)){if(Array.isArray(o)&&1===o.length)for(let t=0;t<e[n].length;t++)r(e[n][t],o[0])}else r(e[n],o)}return e}}},3762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,v:()=>o});const i=n(1036);function r(e){const t=e.replaceAll(/<p>\s*<\/p>/g,"<br/>");return i(t,{allowedTags:["blockquote","code","div","em","li","ol","br","p","strong","b","sub","sup","s","i","u","ul","img","a","h1","h2","h3","h4","h5","h6"],allowedSchemes:["http","https"],allowedAttributes:{a:["href"],img:["src"]}})}function o(e){return i(e,{allowedTags:[]})}},9218:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>s,h4:()=>a});var i=n(6234);class r{constructor(e,t,n){this.storage=e,this.name=t,this.limit=n,this.items={},this.amountOfElements=0,this.revision=0,this.loadFromSettingsStorage()}_saveItem(e,t){this.storage.setItem(e,JSON.stringify(t))}_getItem(e,t){const n=this.storage.getItem(e);return n?JSON.parse(n):t}loadFromSettingsStorage(){const e=this._getItem(`LSS-${this.name}`);e&&e.items&&e.amountOfElements&&e.revision&&(this.items=e.items,this.amountOfElements=e.amountOfElements,this.revision=e.revision)}saveToSettingsStorage(){this._saveItem(`LSS-${this.name}`,{items:this.items,amountOfElements:this.amountOfElements,revision:this.revision})}save(e,t){if(this.items.hasOwnProperty(e))return this.makeMostRecent(this.items[e]),this.items[e].v=t,void this.saveToSettingsStorage();this.amountOfElements>=this.limit&&this.evict(),this.items[e]={r:this.getNewRevision(),v:t},this.amountOfElements+=1,this.saveToSettingsStorage()}get(e,t){const n=this.items[e];return n?n.v:t}makeMostRecent(e){e.r=this.getNewRevision()}evict(){let e=null,t=0;(0,i.Ed)(this.items,((n,i)=>{(!e||t>n.r)&&(e=i,t=n.r)})),e&&(delete this.items[e],this.amountOfElements-=1)}getElementsCount(){return this.amountOfElements}getNewRevision(){return this.revision+=1,this.revision}}const o={getItem:e=>window.localStorage.getItem(e),setItem(e,t){window.localStorage.setItem(e,t)}};function s(e,t){return new r(o,e,t)}class a{constructor(e=100){this.limit=e,this.items=new Map,this.counter=0}set(e,t){this._makeSpace(),this.counter+=1,this.items.set(e,{value:t,rev:this.counter})}getInstant(e,t){if(this.items.has(e)){const t=this.items.get(e);if(t)return t.value}return t}get(e,t){return this.items.has(e)?Promise.resolve(this.items.get(e).value):t().then((t=>(this._makeSpace(),this.counter+=1,this.items.set(e,{value:t,rev:this.counter}),t)))}_makeSpace(){if(this.items.size<this.limit)return;let e=null,t=0;this.items.forEach(((n,i)=>{(!e||t>n.rev)&&(e=i,t=n.rev)})),e&&this.items.delete(e)}}},2217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4670),r=n.n(i),o=n(6234);class s{constructor(){this.enabled=!0,this.entityId=null,this.id=r().generate()}init(){return!0}play(e){return!1}destroy(){}svg(e,t,n){const i=document.createElementNS("http://www.w3.org/2000/svg",e);return this._enrichDomElement(i,t,n),i}html(e,t,n){const i=document.createElement(e);return this._enrichDomElement(i,t,n),i}_enrichDomElement(e,t,n){t&&(0,o.Ed)(t,((t,n)=>{e.setAttribute(n,t)})),n&&(0,o.Ed)(n,(t=>{e.appendChild(t)}))}stop(){this.enabled=!1}}},9737:(e,t,n)=>{"use strict";n.d(t,{XS:()=>h,aG:()=>p,oK:()=>u});var i=n(4670),r=n.n(i),o=n(6234);const s=new Map,a=new Map;class l{constructor(e){this.id=r().generate(),this.editorId=e,this.animationsEnabled=!0,this.isAlreadyLooping=!1,this.animations=[]}play(e,t,n){for(let t=0;t<this.animations.length;t++)if(this.animations[t].id===e.id){this.animations[t].enabled=!1;try{this.animations[t].enabled=!1}catch(e){console.error(e),this.animations[t].destroy()}this.animations.splice(t,1);break}e.entityId=t,e.animationId=n,n&&function(e,t,n){(0,o.Ed)(e.animations,(e=>{e.entityId===t&&e.animationId===n&&(e.enabled=!1)}))}(this,t,n);let i=!1;try{e.enabled=!0,i=e.init()}catch(e){console.error("Could not initialize animation",e)}if(i)this.animations.push(e),(r=this).animationsEnabled&&!r.isAlreadyLooping&&(r.isAlreadyLooping=!0,window.requestAnimationFrame((()=>c(r,performance.now(),0))));else try{e.destroy()}catch(e){console.error(e)}var r}stopAllAnimations(){const e=this.animations;this.animations=[],(0,o.Ed)(e,(e=>{try{e.destroy()}catch(e){console.error(e)}}))}disableAnimations(){this.animationsEnabled=!1}enableAnimations(){this.animationsEnabled=!0}stopAllAnimationsForEntity(e){(0,o.Ed)(this.animations,(t=>{t.entityId===e&&(t.enabled=!1)}))}destroy(){this.stopAllAnimations(),s.has(this.id)&&s.delete(this.id)}}function c(e,t,n){if(0!==e.animations.length)if(e.animationsEnabled){let i=0;for(;i<e.animations.length;){let t=e.animations[i],r=!0;try{r=!!t.enabled&&t.play(Math.min(100,n))}catch(e){r=!1,console.error(e)}if(r)i+=1;else{try{t.destroy()}catch(e){console.error(e)}e.animations.splice(i,1)}}window.requestAnimationFrame((()=>{const n=performance.now();c(e,n,n-t)}))}else e.isAlreadyLooping=!1;else e.isAlreadyLooping=!1}function h(e){const t=new l(e);return s.set(t.id,t),a.set(e,t.id),t}function d(e,t){if(!a.has(e))return;const n=a.get(e);s.has(n)&&t(s.get(n))}function u(e,t,n,i){d(e,(e=>{e.play(t,n,i)}))}function p(e,t){d(e,(e=>{e.stopAllAnimationsForEntity(t)}))}},3805:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,jU:()=>r,rJ:()=>o});var i=n(2217);const r={LINEAR:"linear",STEP:"step",SMOOTH:"smooth",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",BOUNCE:"bounce",values(){return[this.LINEAR,this.STEP,this.SMOOTH,this.EASE_IN,this.EASE_OUT,this.EASE_IN_OUT,this.BOUNCE]}};function o(e,t){return t===r.SMOOTH?Math.sin(e*Math.PI/2):t===r.EASE_IN?e*e:t===r.EASE_OUT?1-(e-1)*(e-1):t===r.EASE_IN_OUT?.5-Math.cos(e*Math.PI)/2:"bounce"===t?1-Math.pow(3,-10*e)*Math.cos(10*Math.PI*e):e}class s extends i.Z{constructor(e){super(),this.updateCallback=null,this.durationMillis=1e3,this.elapsedTime=0,this.initCallback=null,this.destroyCallback=null,this.animationType="ease-out",e&&(e.durationMillis&&(this.durationMillis=e.durationMillis),e.update&&(this.updateCallback=e.update),e.init&&(this.initCallback=e.init),e.destroy&&(this.destroyCallback=e.destroy),e.animationType&&(this.animationType=e.animationType))}init(){return!!this.updateCallback&&(this.initCallback&&this.initCallback(),!0)}play(e){if(this.elapsedTime+=e,this.elapsedTime>=this.durationMillis){try{this.updateCallback(1)}catch(e){console.error(e)}return!1}const t=this.elapsedTime/this.durationMillis;try{this.updateCallback(o(t,this.animationType))}catch(e){return console.error(e),!1}return!0}destroy(){this.destroyCallback&&this.destroyCallback()}}},3277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(8595),r=n(9149),o=n(3590);const s={name:"Move along path",args:{item:{name:"Item",type:"element",value:null},path:{name:"Path",type:"element",value:null},rotateItem:{name:"Rotate item",type:"boolean",value:!1,description:"Adjust rotation of the item to path"},rotationOffset:{name:"Rotation offset",type:"number",value:0,description:"Rotation angle offset",depends:{rotateItem:!0}}},inputs:{distance:{name:"Distance (%)",type:"number",value:0,endValue:100}},create(e,t){const n=t.findFirstElementBySelector(e.item);if(!n)return null;const i=t.findFirstElementBySelector(e.path);if(!i)return null;if(!r.Z.find(i.shape))return null;const o=t.getSvgOutlineOfItem(i);return o?{path:o,item:n,pathItem:i,schemeContainer:t,totalLength:o.getTotalLength(),rotateItem:e.rotateItem,rotationOffset:e.rotationOffset}:null},getFullName(e,t){const n=e=>{const n=t.findFirstElementBySelector(e);return n?n.name:"unknown"};return`Move "${n(e.item)}" along the path of "${n(e.path)}"`},execute({path:e,item:t,pathItem:n,schemeContainer:r,totalLength:s,rotateItem:a,rotationOffset:l},{distance:c}){const h=c*s/100,d=e.getPointAtLength(h);let u=r.worldPointOnItem(d.x,d.y,n);if(a){const i=e.getPointAtLength(h+2),s=r.worldPointOnItem(i.x,i.y,n),a=s.x-u.x,c=s.y-u.y,d=a*a+c*c;if(!o.Z.tooSmall(d)){const e=Math.sqrt(d),n=a/e,i=c/e,r=180*o.Z.fullAngleForNormalizedVector(n,i)/Math.PI;t.area.r=r,isFinite(l)&&(t.area.r+=l)}}let p=u;if(t.meta&&t.meta.parentId){const e=r.findItemById(t.meta.parentId);e&&(p=r.localPointOnItem(u.x,u.y,e))}t.area.x=p.x-t.area.w/2,t.area.y=p.y-t.area.h/2,r.updateChildTransforms(t),i.Z.item.changed.specific.$emit(r.editorId,t.id)}}},6234:(e,t,n)=>{"use strict";function i(e,t){let n=-1;for(let i=0;i<t.length;i++){const r=t[i];if(r.startsWith(e)){const t=r.substring(e.length).trim();if(t.length>0){if(!isNaN(t)){const e=parseInt(t);e>n&&(n=e)}}else n<0&&(n=1)}}return n>=0?`${e}${n+1}`:e}function r(e,t){Array.isArray(e)?e.forEach(t):o(e,t)}function o(e,t){if(e&&"object"==typeof e)for(let n in e)e.hasOwnProperty(n)&&t(e[n],n)}function s(e,t){return Array.isArray(e)?e.map(t):a(e,t)}function a(e,t){if(!e)return e;if("object"!=typeof e)return e;const n={};for(let i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i));return n}function l(e,t){return Array.isArray(e)?e.filter(t):[]}function c(e,t){return Array.isArray(e)?e.find(t):null}function h(e,t){return Array.isArray(e)?e.findIndex(t):null}function d(e,t){if(!e)return e;if("object"!=typeof e)return e;for(let n in e)if(e.hasOwnProperty(n)&&t(e[n],n))return n;return null}function u(e,t){if(!Array.isArray(e))return-1;if("function"==typeof t){for(let n=0;n<e.length;n++)if(t(e[n],n))return n;return-1}return e.indexOf(t)}function p(e){if(!Array.isArray(e))return[];const t=new Set;return e.filter((e=>!t.has(e)&&(t.add(e),!0)))}n.d(t,{Ed:()=>r,O3:()=>a,UI:()=>s,b0:()=>o,cq:()=>u,cx:()=>h,hX:()=>l,jj:()=>p,lc:()=>i,sE:()=>c,w_:()=>d})},6012:(e,t,n)=>{"use strict";function i(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}function r(e){try{return function(e){const t=(e=e.toLowerCase()).indexOf("("),n=e.indexOf(")");if(t>0&&n>0){const i=e.substring(0,t).trim();if("rgb"===i||"rgba"===i)return function(e){const t=e.split(",");let n=0,i=0,r=0,o=1;return t.length>0&&(n=parseInt(t[0])),t.length>1&&(i=parseInt(t[1])),t.length>2&&(r=parseInt(t[2])),t.length>3&&(o=parseFloat(t[3])),{r:n,g:i,b:r,a:o}}(e.substring(t+1,n))}if("#"===e.charAt(0))return function(e){let t=0,n=0,i=0;return 3===e.length?(t=parseInt(`${e[0]}${e[0]}`,16),n=parseInt(`${e[1]}${e[1]}`,16),i=parseInt(`${e[2]}${e[2]}`,16)):(e.length>=2&&(t=parseInt(e.substring(0,2),16)),e.length>=4&&(n=parseInt(e.substring(2,4),16)),e.length>=6&&(i=parseInt(e.substring(4,6),16))),{r:t,g:n,b:i,a:1}}(e.substring(1));throw new Error("Cannot parse color: "+e)}(e)}catch(e){}return{r:0,g:0,b:0,a:1}}n.d(t,{N_:()=>i,lu:()=>r})},8595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(2934),r=n.n(i);const o=new(n(2017).Yd)("EditorEventBus"),s=new(r())({});function a(e,t,n){let i=e+"/"+t;return n&&n.length>0?i+"/"+n.join("/"):i}function l(e,t,n,i){if(!e)throw new Error("editorId should be specified, got: ",e);s.$on(a(e,t,n),i)}function c(e,t,n,i){if(!e)throw new Error("editorId should be specified, got: ",e);s.$off(a(e,t,n),i)}function h(e,t,n,...i){if(!e)throw new Error("editorId should be specified, got: ",e);const r=a(e,t,n);o.infoEvent(r,i),s.$emit(r,...i)}const d={custom:{$on:(e,t,n)=>l(e,`custom-${t}`,[],n),$off:(e,t,n)=>c(e,`custom-${t}`,[],n),$emit:(e,t,...n)=>h(e,`custom-${t}`,[],...n)},schemeChangeCommitted:{$on:(e,t)=>l(e,"scheme-change-committed",[],t),$off:(e,t)=>c(e,"scheme-change-committed",[],t),$emit:(e,t)=>h(e,"scheme-change-committed",[],t)},patchedSchemeUpdated:{$on:(e,t)=>l(e,"patched-scheme-updated",[],t),$off:(e,t)=>c(e,"patched-scheme-updated",[],t),$emit:(e,t)=>h(e,"patched-scheme-updated",[],t)},schemeRebased:{$on:(e,t)=>l(e,"scheme-rebased",[],t),$off:(e,t)=>c(e,"scheme-rebased",[],t),$emit:(e,t)=>h(e,"scheme-rebased",[],t)},item:{custom:{$on:(e,t,n,i)=>l(t,e,[n],i),$off:(e,t,n,i)=>c(t,e,[n],i),$emit:(e,t,n,...i)=>h(t,e,[n],...i)},userEvent:{$on:(e,t)=>l(e,"shape-custom-event",[],t),$off:(e,t)=>c(e,"shape-custom-event",[],t),$emit:(e,t,n,...i)=>{h(e,"shape-custom-event",[],...[t,n].concat(i))}},selected:{any:{$on:(e,t)=>l(e,"any-item-selected",[],t),$off:(e,t)=>c(e,"any-item-selected",[],t),$emit:(e,t)=>h(e,"any-item-selected",[],t)},specific:{$on:(e,t,n)=>l(e,"item-selected",[t],n),$off:(e,t,n)=>c(e,"item-selected",[t],n),$emit:(e,t)=>{d.item.selected.any.$emit(e,t),h(e,"item-selected",[t])}}},deselected:{any:{$on:(e,t)=>l(e,"any-item-deselected",[],t),$off:(e,t)=>c(e,"any-item-deselected",[],t),$emit:(e,t)=>h(e,"any-item-deselected",[],t)},specific:{$on:(e,t,n)=>l(e,"item-deselected",[t],n),$off:(e,t,n)=>c(e,"item-deselected",[t],n),$emit:(e,t)=>{d.item.deselected.any.$emit(e,t),h(e,"item-deselected",[t])}}},clicked:{any:{$on:(e,t)=>l(e,"any-item-clicked",[],t),$off:(e,t)=>c(e,"any-item-clicked",[],t),$emit:(e,t)=>h(e,"any-item-clicked",[],t)}},changed:{any:{$on:(e,t)=>l(e,"any-item-changed",[],t),$off:(e,t)=>c(e,"any-item-changed",[],t),$emit:(e,t,n)=>h(e,"any-item-changed",[],t,n)},specific:{$on:(e,t,n)=>l(e,"item-changed",[t],n),$off:(e,t,n)=>c(e,"item-changed",[t],n),$emit:(e,t,n)=>{d.item.changed.any.$emit(e,t,n),h(e,"item-changed",[t],t,n)}}},linksShowRequested:{any:{$on:(e,t)=>l(e,"item-links-show-requested",[],t),$off:(e,t)=>c(e,"item-links-show-requested",[],t),$emit:(e,t)=>h(e,"item-links-show-requested",[],t)}},templateSelected:{$on:(e,t)=>l(e,"item-template-selected",[],t),$off:(e,t)=>c(e,"item-template-selected",[],t),$emit:(e,t,n)=>{h(e,"item-template-selected",[],t,n)}},templateArgsUpdated:{specific:{$on:(e,t,n)=>l(e,"item-template-args-changed",[t],n),$off:(e,t,n)=>c(e,"item-template-args-changed",[t],n),$emit:(e,t)=>{h(e,"item-template-args-changed",[t],t)}}}},textSlot:{triggered:{any:{$on:(e,t)=>l(e,"any-text-slot-triggered",[],t),$off:(e,t)=>c(e,"any-text-slot-triggered",[],t),$emit:(e,t,n,i,r,o)=>{h(e,"any-text-slot-triggered",[],t,n,i,r,o)}},specific:{$on:(e,t,n)=>l(e,"text-slot-triggered",[t],n),$off:(e,t,n)=>c(e,"text-slot-triggered",[t],n),$emit:(e,t,n,i,r,o)=>{d.textSlot.triggered.any.$emit(e,t,n,i,r,o),h(e,"text-slot-triggered",[t.id],t,n,i,r,o)}}},canceled:{any:{$on:(e,t)=>l(e,"any-text-slot-canceled",[],t),$off:(e,t)=>c(e,"any-text-slot-canceled",[],t),$emit:(e,t,n)=>{h(e,"any-text-slot-canceled",[],t,n)}},specific:{$on:(e,t,n)=>l(e,"text-slot-canceled",[t],n),$off:(e,t,n)=>c(e,"text-slot-canceled",[t],n),$emit:(e,t,n)=>{d.textSlot.canceled.any.$emit(e,t,n),h(e,"text-slot-canceled",[t.id],t,n)}}},moved:{$on:(e,t)=>l(e,"text-slot-moved",[],t),$off:(e,t)=>c(e,"text-slot-moved",[],t),$emit:(e,t,n,i)=>{h(e,"text-slot-moved",[],t,n,i)}}},inPlaceTextEditor:{created:{$on:(e,t)=>l(e,"in-place-text-editor-created",[],t),$off:(e,t)=>c(e,"in-place-text-editor-created",[],t),$emit:(e,t)=>{h(e,"in-place-text-editor-created",[],t)}}},void:{clicked:{$on:(e,t)=>l(e,"void-clicked",[],t),$off:(e,t)=>c(e,"void-clicked",[],t),$emit:e=>h(e,"void-clicked",[])},doubleClicked:{$on:(e,t)=>l(e,"void-double-clicked",[],t),$off:(e,t)=>c(e,"void-double-clicked",[],t),$emit:(e,t,n,i,r)=>h(e,"void-double-clicked",[],t,n,i,r)}},component:{loadRequested:{any:{$on:(e,t)=>l(e,"any-component-load-requested",[],t),$off:(e,t)=>c(e,"any-component-load-requested",[],t),$emit:(e,t)=>h(e,"any-component-load-requested",[],t)},specific:{$on:(e,t,n)=>l(e,"component-load-requested",[t],n),$off:(e,t,n)=>c(e,"component-load-requested",[t],n),$emit:(e,t,n)=>{d.component.loadRequested.any.$emit(e,n),h(e,"component-load-requested",[t],n)}}},loadFailed:{any:{$on:(e,t)=>l(e,"any-component-load-failed",[],t),$off:(e,t)=>c(e,"any-component-load-failed",[],t),$emit:(e,t)=>h(e,"any-component-load-failed",[],t)},specific:{$on:(e,t,n)=>l(e,"component-load-failed",[t],n),$off:(e,t,n)=>c(e,"component-load-failed",[t],n),$emit:(e,t,n)=>{d.component.loadFailed.any.$emit(e,n),h(e,"component-load-failed",[t],n)}}},mounted:{any:{$on:(e,t)=>l(e,"any-component-mounted",[],t),$off:(e,t)=>c(e,"any-component-mounted",[],t),$emit:(e,t,n)=>h(e,"any-component-mounted",[],t,n)},specific:{$on:(e,t,n)=>l(e,"component-mounted",[t],n),$off:(e,t,n)=>c(e,"component-mounted",[t],n),$emit:(e,t,n,i)=>{d.component.mounted.any.$emit(e,n,i),h(e,"component-mounted",[t],n,i)}}}},zoomToAreaRequested:{$on:(e,t)=>l(e,"zoom-to-area-requested",[],t),$off:(e,t)=>c(e,"zoom-to-area-requested",[],t),$emit:(e,t,n)=>h(e,"zoom-to-area-requested",[],t,n)},elementPick:{requested:{$on:(e,t)=>l(e,"element-pick-requested",[],t),$off:(e,t)=>c(e,"element-pick-requested",[],t),$emit:(e,t)=>h(e,"element-pick-requested",[],t)},canceled:{$on:(e,t)=>l(e,"element-pick-canceled",[],t),$off:(e,t)=>c(e,"element-pick-canceled",[],t),$emit:e=>h(e,"element-pick-canceled",[])}},screenTransformUpdated:{$on:(e,t)=>l(e,"screen-transform-updated",[],t),$off:(e,t)=>c(e,"screen-transform-updated",[],t),$emit:(e,t)=>h(e,"screen-transform-updated",[],t)},itemSurround:{created:{$on:(e,t)=>l(e,"item-surround-created",[],t),$off:(e,t)=>c(e,"item-surround-created",[],t),$emit:(e,t,n,i)=>h(e,"item-surround-created",[],t,n,i)}},behaviorPanel:{requested:{$on:(e,t)=>l(e,"behavior-panel-requested",[],t),$off:(e,t)=>c(e,"behavior-panel-requested",[],t),$emit:e=>h(e,"behavior-panel-requested",[])}},editBox:{updated:{$on:(e,t)=>l(e,"edit-box-items-updated",[],t),$off:(e,t)=>c(e,"edit-box-items-updated",[],t),$emit:e=>h(e,"edit-box-items-updated",[])},fillEnabled:{$on:(e,t)=>l(e,"edit-box-fill-enabled",[],t),$off:(e,t)=>c(e,"edit-box-fill-enabled",[],t),$emit:e=>h(e,"edit-box-fill-enabled",[])},fillDisabled:{$on:(e,t)=>l(e,"edit-box-fill-disabled",[],t),$off:(e,t)=>c(e,"edit-box-fill-disabled",[],t),$emit:e=>h(e,"edit-box-fill-disabled",[])}},framePlayer:{prepared:{$on:(e,t)=>l(e,"frame-player-prepared",[],t),$off:(e,t)=>c(e,"frame-player-prepared",[],t),$emit:(e,t,n)=>h(e,"frame-player-prepared",[],t,n)}},clickableMarkers:{toggled:{$on:(e,t)=>l(e,"clickable-markers-toggled",[],t),$off:(e,t)=>c(e,"clickable-markers-toggled",[],t),$emit:e=>h(e,"clickable-markers-toggled",[])}},colorControlToggled:{$on:(e,t)=>l(e,"color-control-toggled",[],t),$off:(e,t)=>c(e,"color-control-toggled",[],t),$emit:(e,t)=>h(e,"color-control-toggled",[],t)},editorResized:{$on:(e,t)=>l(e,"editor-resized",[],t),$off:(e,t)=>c(e,"editor-resized",[],t),$emit:e=>h(e,"editor-resized",[])},scriptLog:{$on:(e,t)=>l(e,"script-log",[],t),$off:(e,t)=>c(e,"script-log",[],t),$emit:(e,t,n)=>h(e,"script-log",[],t,n)}},u=d},9874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(6234);const r=[{name:"default",fontAwesomeSymbol:"",cssClass:"fas fa-link"},{name:"doc",fontAwesomeSymbol:"",cssClass:"fas fa-project-diagram"},{name:"logs",fontAwesomeSymbol:"",cssClass:"fas fa-stream"},{name:"graphs",fontAwesomeSymbol:"",cssClass:"fas fa-chart-line"},{name:"video",fontAwesomeSymbol:"",cssClass:"fas fa-video"},{name:"file",fontAwesomeSymbol:"",cssClass:"fa-solid fa-file"}],o={default:{fontAwesomeSymbol:"",cssClass:"fa-solid fa-file"},pdf:{fontAwesomeSymbol:"",cssClass:"fa-solid fa-file-pdf"}};function s(e,t){t.forEach((t=>o[t]=e))}s({fontAwesomeSymbol:"",cssClass:"fa-regular fa-file-image"},["jpg","png","bmp","gif","tiff"]),s({fontAwesomeSymbol:"",cssClass:"fa-solid fa-file"},["doc","docx","odt","rtf"]),s({fontAwesomeSymbol:"",cssClass:"fa-solid fa-file-excel"},["xls","xlsx"]),s({fontAwesomeSymbol:"",cssClass:"fa-solid fa-file-zipper"},["zip","gz","bz2","iso"]);const a={knownTypes:r,findTypeByNameOrDefault:e=>(0,i.sE)(r,(t=>t.name===e))||r[0],findFileIcon:e=>o.hasOwnProperty(e)?o[e]:o.default}},4502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i={solid:()=>"",dotted:e=>`${e} ${2*e}`,dashed:e=>`${4*e} ${4*e}`,"dashed-2":e=>`${4*e} ${2*e}`,"dashed-3":e=>`${4*e} ${8*e}`,"dashed-dotted":e=>`${4*e} ${2*e} ${2*e} ${2*e}`,"dashed-dotted-2":e=>`${4*e} ${e} ${e} ${e}`,"dashed-dotted-3":e=>`${8*e} ${4*e} ${4*e} ${4*e}`,"dashed-dotted-4":e=>`${8*e} ${2*e} ${2*e} ${2*e}`},r={createDashArray(e,t){const n=i[e];return n?n(t):""},generateStrokeHtml(e,t,n,i,r){return`<svg width="${i}px" height="${r}px"><path d="M0 ${n} l ${i} 0" fill="none" stroke="#111111" stroke-width="${t}" stroke-dasharray="${this.createDashArray(e,t)}"/></svg>`},patterns:Object.keys(i),SOLID:"solid",DASHED:"dashed",DOTTED:"dotted"}},6942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={shapeConfig:{shapeType:"standard",id:"bracket",menuItems:[{name:"Curly Bracket",group:"General",iconUrl:"/assets/images/items/curly-bracket.svg",item:{shapeProps:{fill:{type:"none"},style:"curly"}},size:{w:20,h:200},previewArea:{x:5,y:30,w:130,h:15,r:0}},{name:"Square Bracket",group:"General",iconUrl:"/assets/images/items/square-bracket.svg",item:{shapeProps:{fill:{type:"none"},style:"square"}},size:{w:20,h:200},previewArea:{x:5,y:30,w:130,h:15,r:0}},{name:"Round Bracket",group:"General",iconUrl:"/assets/images/items/round-bracket.svg",item:{shapeProps:{fill:{type:"none"},style:"round"}},size:{w:20,h:200},previewArea:{x:5,y:30,w:130,h:15,r:0}}],getPins:e=>({}),getTextSlots:e=>[],computePath(e){const t={x:0,y:0},n={x:0,y:1};let i=e.area.h;const r={x:1,y:0};let o=e.area.w;e.area.w<e.area.h&&(n.x=1,n.y=0,i=e.area.w,r.x=0,r.y=-1,o=e.area.h,t.x=0,t.y=e.area.h);let s=[];s="curly"===e.shapeProps.style?function(e,t,n,i,r){const o=Math.min(40,.2*r),s=Math.min(20,.2*r);return[e,{type:"Q",x1:e.x+t.x*i/2,y1:e.y+t.y*i/2,x2:e.x+t.x*i/2+n.x*o,y2:e.y+t.y*i/2+n.y*o},{x:e.x+t.x*i/2+n.x*(r/2-s),y:e.y+t.y*i/2+n.y*(r/2-s)},{type:"Q",x1:e.x+t.x*i/2+n.x*(r/2),y1:e.y+t.y*i/2+n.y*r/2,x2:e.x+t.x*i+n.x*(r/2),y2:e.y+t.y*i+n.y*(r/2)},{type:"Q",x1:e.x+t.x*i/2+n.x*(r/2),y1:e.y+t.y*i/2+n.y*r/2,x2:e.x+t.x*i/2+n.x*(r/2+s),y2:e.y+t.y*i/2+n.y*(r/2+s)},{x:e.x+t.x*i/2+n.x*(r-o),y:e.y+t.y*i/2+n.y*(r-o)},{type:"Q",x1:e.x+n.x*r+t.x*i/2,y1:e.y+n.y*r+t.y*i/2,x2:e.x+n.x*r,y2:e.y+n.y*r}]}(t,n,r,i,o):"curly-sharp"===e.shapeProps.style?function(e,t,n,i,r){const o=Math.min(40,.2*r),s=Math.min(20,.2*r);return[e,{x:e.x+t.x*i/2+n.x*o,y:e.y+t.y*i/2+n.y*o},{x:e.x+t.x*i/2+n.x*(r/2-s),y:e.y+t.y*i/2+n.y*(r/2-s)},{x:e.x+t.x*i+n.x*(r/2),y:e.y+t.y*i+n.y*(r/2)},{x:e.x+t.x*i/2+n.x*(r/2+s),y:e.y+t.y*i/2+n.y*(r/2+s)},{x:e.x+t.x*i/2+n.x*(r-o),y:e.y+t.y*i/2+n.y*(r-o)},{x:e.x+n.x*r,y:e.y+n.y*r}]}(t,n,r,i,o):"round"===e.shapeProps.style?function(e,t,n,i,r){const o=.3;return[e,{type:"C",x1:e.x+t.x*i+n.x*o,y1:e.y+t.y*i+n.y*o,x2:e.x+t.x*i+n.x*(r-o),y2:e.y+t.y*i+n.y*(r-o),x3:e.x+n.x*r,y3:e.y+n.y*r}]}(t,n,r,i,o):function(e,t,n,i,r){return[e,{x:e.x+t.x*i,y:e.y+t.y*i},{x:e.x+t.x*i+n.x*r,y:e.y+t.y*i+n.y*r},{x:e.x+n.x*r,y:e.y+n.y*r}]}(t,n,r,i,o);let a=`M ${s[0].x} ${s[0].y}`;for(let e=1;e<s.length;e++)"C"===s[e].type?a+=` C ${s[e].x1} ${s[e].y1} ${s[e].x2} ${s[e].y2} ${s[e].x3} ${s[e].y3}`:"Q"===s[e].type?a+=` Q ${s[e].x1} ${s[e].y1} ${s[e].x2} ${s[e].y2}`:a+=` L ${s[e].x} ${s[e].y}`;return a},args:{style:{type:"choice",value:"curly",name:"Style",options:["curly","curly-sharp","square","round"]}}}}},1008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6234),r=n(3590);const o={tail:function(e){let t=0,n=0;return"top"===e.shapeProps.tailSide?(t=e.shapeProps.tailPosition,n=-e.shapeProps.tailLength):"bottom"===e.shapeProps.tailSide?(t=e.shapeProps.tailPosition,n=e.area.h+e.shapeProps.tailLength):"left"===e.shapeProps.tailSide?(t=-e.shapeProps.tailLength,n=e.shapeProps.tailPosition):"right"===e.shapeProps.tailSide&&(t=e.area.w+e.shapeProps.tailLength,n=e.shapeProps.tailPosition),{x:t,y:n}},tailWidth:function(e){const t=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4),n=e.area.w,i=e.area.h;let o=0,s=0;const a=Math.max(0,e.shapeProps.tailWidth);if("top"===e.shapeProps.tailSide){let i=0;const l=Math.max(0,n-2*t);l>0&&(i=r.Z.clamp(e.shapeProps.tailPosition/l,0,1)),o=t+a+(l-a)*i,s=0}else if("bottom"===e.shapeProps.tailSide){let l=0;const c=Math.max(0,n-2*t);c>0&&(l=1-r.Z.clamp(e.shapeProps.tailPosition/c,0,1)),o=n-t-a-(c-a)*l,s=i}else if("left"===e.shapeProps.tailSide){let n=0;const l=Math.max(0,i-2*t);l>0&&(n=1-r.Z.clamp(e.shapeProps.tailPosition/l,0,1)),o=0,s=i-t-a-(l-a)*n}else if("right"===e.shapeProps.tailSide){let l=0;const c=Math.max(0,i-2*t);c>0&&(l=r.Z.clamp(e.shapeProps.tailPosition/c,0,1)),o=n,s=t+a+(c-a)*l}return{x:o,y:s}},cornerRadius:function(e){return{x:Math.min(e.area.w,Math.max(e.area.w-e.shapeProps.cornerRadius,e.area.w/2)),y:0}}},s={shapeConfig:{shapeType:"standard",id:"comment",menuItems:[{group:"Basic Shapes",name:"Comment",iconUrl:"/assets/images/items/comment.svg",item:{shapeProps:{cornerRadius:5,tailLength:20,tailWidth:20,tailSide:"bottom",tailPosition:10}},previewArea:{x:5,y:5,w:130,h:60,r:0}}],computePath(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4);let o=`M 0 ${i} `,s=[{name:"top",length:t-2*i,invertT:!0,p1x:i,p1y:0,vx:1,vy:0,nx:0,ny:-1,ax:1,ay:-1},{name:"right",length:n-2*i,invertT:!0,p1x:t,p1y:i,vx:0,vy:1,nx:1,ny:0,ax:1,ay:1},{name:"bottom",length:t-2*i,invertT:!1,p1x:t-i,p1y:n,vx:-1,vy:0,nx:0,ny:1,ax:-1,ay:1},{name:"left",length:n-2*i,invertT:!1,p1x:0,p1y:n-i,vx:0,vy:-1,nx:-1,ny:0,ax:-1,ay:-1}];const a=Math.max(0,e.shapeProps.tailWidth);for(let t=0;t<s.length;t++){const n=s[t];if(o+=`a ${i} ${i} 0 0 1 ${i*n.ax} ${i*n.ay} `,e.shapeProps.tailSide===n.name){const t=e.shapeProps.tailLength,i=Math.min(Math.max(0,n.length-a),a);let s=0;n.length>0&&(s=r.Z.clamp(e.shapeProps.tailPosition/n.length,0,1)),n.invertT&&(s=1-s);const l=(n.length-i)*(1-s),c=(n.length-i)*s,h=l*n.vx,d=l*n.vy,u=n.p1x+h,p=n.p1y+d,f=u+i*n.vx,m=p+i*n.vy,g=f+c*n.vx,v=m+c*n.vy;let y=0,b=0;"bottom"===n.name||"top"===n.name?(y=e.shapeProps.tailPosition,b=n.p1y+t*n.ny):(b=e.shapeProps.tailPosition,y=n.p1x+t*n.nx),o+=`L ${n.p1x} ${n.p1y} L ${u} ${p} L ${y} ${b}  L ${f} ${m} L ${g} ${v} `}else o+=`l ${n.length*n.vx} ${n.length*n.vy} `}return o+=" z",o},controlPoints:{make(e,t){if(t)return o[t](e);{const t={};return(0,i.Ed)(o,((n,i)=>{t[i]=n(e)})),t}},handleDrag(e,t,n,i,o,s){"tail"===t?function(e,t,n,i,o){let s=t+i,a=n+o,l=3;r.Z.identifyPointSideAgainstLine(s,a,r.Z.createLineEquation(0,0,e.area.w,e.area.h))<0&&(l&=1),r.Z.identifyPointSideAgainstLine(s,a,r.Z.createLineEquation(0,e.area.h,e.area.w,0))<0&&(l&=2),0===l?(e.shapeProps.tailSide="top",e.shapeProps.tailPosition=s,e.shapeProps.tailLength=-a):3===l&&(e.shapeProps.tailSide="bottom",e.shapeProps.tailPosition=s,e.shapeProps.tailLength=a-e.area.h),2==l?(e.shapeProps.tailSide="left",e.shapeProps.tailPosition=a,e.shapeProps.tailLength=-s):1==l&&(e.shapeProps.tailSide="right",e.shapeProps.tailPosition=a,e.shapeProps.tailLength=s-e.area.w)}(e,n,i,o,s):"cornerRadius"===t?e.shapeProps.cornerRadius=Math.max(0,e.area.w-Math.max(e.area.w/2,n+o)):"tailWidth"===t&&function(e,t,n,i,o){const s=t+i,a=n+o,l=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4),c=e.area.w,h=e.area.h,d=Math.max(0,e.shapeProps.tailWidth);if("top"===e.shapeProps.tailSide){let t=0;const n=Math.max(0,c-2*l);n>0&&(t=r.Z.clamp(e.shapeProps.tailPosition/n,0,1));const i=l+(n-d)*t;e.shapeProps.tailWidth=r.Z.clamp(s-i,0,n/2)}else if("bottom"===e.shapeProps.tailSide){let t=0;const n=Math.max(0,c-2*l);n>0&&(t=1-r.Z.clamp(e.shapeProps.tailPosition/n,0,1));const i=c-l-(n-d)*t;e.shapeProps.tailWidth=r.Z.clamp(i-s,0,n/2)}else if("left"===e.shapeProps.tailSide){let t=0;const n=Math.max(0,h-2*l);n>0&&(t=1-r.Z.clamp(e.shapeProps.tailPosition/n,0,1));const i=h-l-(n-d)*t;e.shapeProps.tailWidth=r.Z.clamp(i-a,0,n/2)}else if("right"===e.shapeProps.tailSide){let t=0;const n=Math.max(0,h-2*l);n>0&&(t=r.Z.clamp(e.shapeProps.tailPosition/n,0,1));const i=l+(n-d)*t;e.shapeProps.tailWidth=r.Z.clamp(a-i,0,n/2)}}(e,n,i,o,s)}},args:{cornerRadius:{type:"number",value:10,name:"Corner radius",min:0},tailLength:{type:"number",value:30,name:"Tail Length"},tailWidth:{type:"number",value:40,name:"Tail Width"},tailSide:{type:"choice",value:"bottom",name:"Tail Side",options:["top","bottom","left","right"]},tailPosition:{type:"number",value:0,name:"Tail Position"}}}}},125:(e,t,n)=>{"use strict";function i(e){return{hollow:!1,renderFunc:e}}function r(e){return{hollow:!0,renderFunc:e}}n.d(t,{g:()=>l,j:()=>a});const o={empty:null,triangle:i(((e,t,n,i)=>h(e,t,n,i,1,2,!0))),"triangle-1":i(((e,t,n,i)=>h(e,t,n,i,1,1,!0))),"triangle-2":i(((e,t,n,i)=>h(e,t,n,i,1,3,!0))),arrow:i(((e,t,n,i)=>h(e,t,n,i,1,2,!1))),"arrow-1":i(((e,t,n,i)=>h(e,t,n,i,1,1,!1))),"arrow-2":i(((e,t,n,i)=>h(e,t,n,i,1,3,!1))),"triangle-h":r(((e,t,n,i)=>h(e,t,n,i,1,2,!0))),"triangle-h-1":r(((e,t,n,i)=>h(e,t,n,i,1,1,!0))),"triangle-h-2":r(((e,t,n,i)=>h(e,t,n,i,1,3,!0))),circle:i(((e,t,n,i)=>{const r=n*n+i*i;if(r>.01){let o=Math.sqrt(r)/2;return{path:` M ${e+n/2-o}, ${t+i/2} a ${o},${o} 0 1,0 ${2*o},0 a ${o},${o} 0 1,0 -${2*o},0`,hollow:!1,entryPoint:{x:e+n,y:t+i}}}return null})),"circle-cross":r(((e,t,n,i)=>{const r=n*n+i*i;if(r>.01){let o=Math.sqrt(r)/2;const s=e+n/2,a=t+i/2,l=Math.cos(Math.PI/4)*o;return{path:` M ${s-o}, ${a} a ${o},${o} 0 1,0 ${2*o},0 a ${o},${o} 0 1,0 -${2*o},0 z M ${s-l} ${a-l} L ${s+l} ${a+l}  M ${s+l} ${a-l} L ${s-l} ${a+l}`,hollow:!0,entryPoint:{x:e+n,y:t+i}}}return null})),"double-arrow":i(((e,t,n,i)=>h(e,t,n,i,2,2,!1))),"double-arrow-1":i(((e,t,n,i)=>h(e,t,n,i,2,1,!1))),"double-arrow-2":i(((e,t,n,i)=>h(e,t,n,i,2,3,!1))),"double-triangle":i(((e,t,n,i)=>h(e,t,n,i,2,2,!0))),"double-triangle-1":i(((e,t,n,i)=>h(e,t,n,i,2,1,!0))),"double-triangle-2":i(((e,t,n,i)=>h(e,t,n,i,2,3,!0))),"double-triangle-h":r(((e,t,n,i)=>h(e,t,n,i,2,2,!0))),"double-triangle-h-1":r(((e,t,n,i)=>h(e,t,n,i,2,1,!0))),"double-triangle-h-2":r(((e,t,n,i)=>h(e,t,n,i,2,3,!0))),diamond:i(((e,t,n,i)=>d(e,t,n,i,.5))),"diamond-1":i(((e,t,n,i)=>d(e,t,n,i,1))),"diamond-2":i(((e,t,n,i)=>d(e,t,n,i,1.5))),"diamond-h":r(((e,t,n,i)=>d(e,t,n,i,.5))),"diamond-h-1":r(((e,t,n,i)=>d(e,t,n,i,1))),"diamond-h-2":r(((e,t,n,i)=>d(e,t,n,i,1.5))),line:i(((e,t,n,i)=>c(e,t,n,i,1))),"double-line":i(((e,t,n,i)=>c(e,t,n,i,2))),"tripple-line":i(((e,t,n,i)=>c(e,t,n,i,3)))},s=Object.keys(o);function a(){return s}function l(e,t,n,i,r){const s=o[r];if(s){const r=s.renderFunc(e,t,n,i);return s.hollow&&(r.hollow=!0),r}return null}function c(e,t,n,i,r){let o="";const s=i/2,a=-n/2;for(let l=0;l<r;l++){const c=e+n*(l+1)/(r+1),h=t+i*(l+1)/(r+1);o+=`M ${c+s} ${h+a} L ${c-s} ${h-a} `}return{path:o,hollow:!0,prolongLine:!0,entryPoint:{x:e+n,y:t+i}}}function h(e,t,n,i,r,o,s){let a="";const l=i/(2*o),c=-n/(2*o);for(let o=0;o<r;o++){const h=e+n*o/r,d=t+i*o/r;a+=`M ${h+n/r+l} ${d+i/r+c} L ${h} ${d} L ${h+n/r-l} ${d+i/r-c} `,s&&(a+=" z ")}return{path:a,hollow:!s,prolongLine:!s,entryPoint:{x:e+n,y:t+i}}}function d(e,t,n,i,r){const o=r*i/2,s=-r*n/2;return{path:`M ${e} ${t} L ${e+n/2-o} ${t+i/2-s} L ${e+n} ${t+i} L ${e+n/2+o} ${t+i/2+s} z`,hollow:!1,entryPoint:{x:e+n,y:t+i}}}},1484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(3590);const r={shapeConfig:{shapeType:"standard",id:"donut_segment",menuItems:[{group:"Basic Shapes",name:"Donut Segment",iconUrl:"/assets/images/items/donut-segment.svg",size:{w:60,h:60},previewArea:{x:0,y:0,w:150,h:150,r:0}}],computePath(e){const t=e.area.w/2,n=e.area.h/2,r=Math.min(e.area.w,e.area.h)/2,o=r*i.Z.clamp(e.shapeProps.hole,0,100)/100;if(e.shapeProps.percent<1e-4)return`M ${t} ${n-o} L ${t} ${n-r}`;if(e.shapeProps.percent>99.99)return`M ${t-r} ${n}\n                    A ${r} ${r} 0 1 1 ${t+r} ${n}\n                    A ${r} ${r} 0 1 1 ${t-r} ${n}\n                    M ${t+o} ${n}\n                    A ${o} ${o} 0 1 0 ${t-o} ${n}\n                    A ${o} ${o} 0 1 0 ${t+o} ${n} Z`;const s=2*Math.PI*e.shapeProps.percent/100,a=t+Math.sin(s)*r,l=n-Math.cos(s)*r,c=t+Math.sin(s)*o,h=n-Math.cos(s)*o,d=e.shapeProps.percent<50?0:1;return`M ${t} ${n-o}\n                L ${t} ${n-r}\n                A ${r} ${r} 0 ${d} 1 ${a} ${l}\n                L ${c} ${h}\n                A ${o} ${o} 0 ${d} 0 ${t} ${n-o} Z`},args:{percent:{type:"number",value:75,min:0,max:100,name:"Segment Percent (%)",description:"Percent of the donut area that should be filled"},hole:{type:"number",value:75,min:0,max:100,name:"Donut Percent (%)"}}}}},8915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9498);const r={shapeConfig:{shapeType:"standard",id:"ellipse",menuItems:[{group:"Basic Shapes",name:"Ellipse",iconUrl:"/assets/images/items/ellipse.svg"}],getPins:e=>(0,i.Fb)(e),computePath:e=>(0,i.Iv)(e.area.w,e.area.h)}}},3860:(e,t,n)=>{"use strict";n.d(t,{NH:()=>s,Sn:()=>o,ZP:()=>a});var i=n(9498);const r=function(){const e=["Space","Left","Right","Up","Down","Enter","Escape"];for(let t=65;t<90;t++)e.push(String.fromCharCode(t));for(let t=48;t<58;t++)e.push(String.fromCharCode(t));return e}(),o="Key up",s="Key down",a={props:["item","mode"],shapeConfig:{shapeType:"standard",id:"key_bind",menuItems:[{group:"General",name:"Key",iconUrl:"/assets/images/items/key-bind.svg",description:"\n                Used for reacting on keyboard events\n            ",item:{name:"Key",shapeProps:{},textSlots:{body:{text:"Key"}}},previewArea:{x:3,y:30,w:100,h:100}}],computeOutline:e=>(0,i.Qb)(e.area.w,e.area.h,Math.min(e.area.w/4,e.area.h/4)),getTextSlots:e=>(Math.min(e.area.w/4,e.area.h/4),[{name:"body",area:{x:0,y:0,w:e.area.w,h:3*e.area.h/4}}]),computePath(e){const t=e.area.w,n=e.area.h,i=Math.min(e.area.w/4,e.area.h/4);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}   L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} ZM ${t} ${n-2*i} a ${i} ${i} 0 0 1 ${-i} ${i} L ${i} ${n-i} a ${i} ${i} 0 0 1 ${-i} ${-i}`},editorProps:{onlyEditMode:!0},getEvents(e){const t=[];return e.shapeProps.down&&t.push({name:s,description:"Triggered once when key is pressed"}),e.shapeProps.up&&t.push({name:o,description:"Triggered when key is being released"}),t},args:{key:{type:"choice",value:"Space",options:r,name:"Key",immutable:!0},down:{type:"boolean",value:!0,name:"Key down event",immutable:!0},up:{type:"boolean",value:!0,name:"Key up event",immutable:!0},active:{type:"boolean",value:!0,name:"Active"}}}}},5664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={shapeConfig:{shapeType:"standard",id:"npoly",menuItems:[{group:"Basic Shapes",name:"N-Polygon",iconUrl:"/assets/images/items/npolygon.svg",size:{w:60,h:60},previewArea:{x:0,y:0,w:150,h:150,r:0}}],computePath(e){const t=e.area.w/2,n=e.area.h/2,i=Math.max(3,e.shapeProps.corners);let r="";for(let o=0;o<i;o++){const s=e.area.w/2*Math.cos(2*o*Math.PI/i-Math.PI/2+e.shapeProps.angle*Math.PI/180)+t,a=e.area.h/2*Math.sin(2*o*Math.PI/i-Math.PI/2+e.shapeProps.angle*Math.PI/180)+n;0===o&&(r=`M ${s} ${a} `),r+=` L ${s} ${a}`}return r+" Z"},args:{corners:{type:"number",value:6,name:"Corners"},angle:{type:"number",value:0,name:"Angle"}}}}},9831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9498);const r={shapeConfig:{shapeType:"empty",id:"none",menuItems:[{group:"General",name:"Text",iconUrl:"/assets/images/items/text.svg",item:{textSlots:{body:{text:"Text ...",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}}}}],getPins:e=>(0,i.Fb)(e),computePath(e){const t=e.area.w,n=e.area.h;return`M 0 0  L ${t} 0  L ${t} ${n}  L 0 ${n} Z`},args:{}}}},6227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={shapeConfig:{shapeType:"standard",id:"pie_segment",menuItems:[{group:"Basic Shapes",name:"Pie Segment",iconUrl:"/assets/images/items/pie-segment.svg",size:{w:60,h:60},previewArea:{x:0,y:0,w:150,h:150,r:0}}],computePath(e){const t=e.area.w/2,n=e.area.h/2,i=Math.min(e.area.w,e.area.h)/2;if(e.shapeProps.percent<1e-4)return`M ${t} ${n} L ${t} ${n-i}`;if(e.shapeProps.percent>99.99)return`M ${t-i} ${n} A ${i} ${i} 0 1 1 ${t+i} ${n}  A ${i} ${i} 0 1 1 ${t-i} ${n} Z`;const r=2*Math.PI*e.shapeProps.percent/100,o=t+Math.sin(r)*i,s=n-Math.cos(r)*i;return`M ${t} ${n-i} A ${i} ${i} 0 ${e.shapeProps.percent<50?0:1} 1 ${o} ${s} L ${t} ${n} Z`},args:{percent:{type:"number",value:75,min:0,max:100,name:"Percent (%)",description:"Percent of the circle area that should be filled"}}}}},1969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"rect",menuItems:[{group:"Basic Shapes",name:"Rect",iconUrl:"/assets/images/items/rect.svg",item:{shapeProps:{cornerRadius:0}}},{group:"Basic Shapes",name:"Rounded Rect",iconUrl:"/assets/images/items/rounded-rect.svg",item:{shapeProps:{cornerRadius:20}}},{group:"General",name:"Overlay",iconUrl:"/assets/images/items/overlay.svg",description:"\n                It lets you create a clickable area on the image (or any other element of the scheme) and treat it like an object.\n                E.g. you can select it, trigger events or connect it to other items on the page.\n            ",item:{cursor:"pointer",opacity:5,shapeProps:{cornerRadius:0},behavior:{events:[{event:"mousein",actions:[{element:"self",method:"set",args:{field:"opacity",value:50,animated:!0,animationDuration:.2,transition:"ease-in-out"}}]},{event:"mouseout",actions:[{element:"self",method:"set",args:{field:"opacity",value:5,animated:!0,animationDuration:.2,transition:"ease-in-out"}}]}]}}},{group:"General",name:"Button",iconUrl:"/assets/images/items/button.svg",item:{cursor:"pointer",opacity:100,shapeProps:{cornerRadius:20,fill:{type:"gradient",color:"rgba(29, 108, 176, 1)",gradient:{colors:[{c:"rgba(25, 121, 204, 1)",p:0},{c:"rgba(86, 172, 246, 1)",p:100}],type:"linear",direction:0}},strokeColor:"rgba(39, 132, 211, 1)",strokeSize:2,strokePattern:"solid"},textSlots:{body:{bold:!0,text:"<p>Button</p>",color:"rgba(255, 255, 255, 1)",halign:"center",valign:"middle"}},behavior:{events:[{event:"mousein",actions:[{element:"self",method:"set",args:{field:"opacity",value:90}}]},{event:"mouseout",actions:[{element:"self",method:"set",args:{field:"opacity",value:100}}]}]}},previewArea:{x:0,y:0,w:140,h:60,r:0}}],getPins:e=>(0,r.Fb)(e),computePath:e=>(0,r.Qb)(e.area.w,e.area.h,e.shapeProps.cornerRadius),editorProps:{},controlPoints:{make:e=>({cornerRadius:{x:Math.min(e.area.w,Math.max(e.area.w-e.shapeProps.cornerRadius,e.area.w/2)),y:0}}),handleDrag(e,t,n,r,o,s){"cornerRadius"===t&&(e.shapeProps.cornerRadius=Math.max(0,i.Z.roundPrecise(e.area.w-Math.max(e.area.w/2,n+o),1)))}},args:{cornerRadius:{type:"number",value:0,name:"Corner radius",min:0}}}}},9149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var i=n(6234),r=n(3590),o=n(520),s=n(8814),a=n(8270);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return{name:e.name,width:e.area.w,height:e.area.h,args:e.shapeProps}}function u(e,t){const n=(0,s.nh)({"$-eval":e||[],controlPoints:t||[]}),i=e=>n(d(e)).controlPoints;return{make(e){const t={};return i(e).forEach((n=>{const i=(r.Z.clamp(e.shapeProps[n.updates],n.min,n.max)-n.min)/(n.max-n.min);t[n.id]={x:n.start.x*(1-i)+n.end.x*i,y:n.start.y*(1-i)+n.end.y*i}})),t},handleDrag(e,t,n,o,s,a){const l=i(e).find((e=>e.id===t));if(!l)return;const c=l.end.x-l.start.x,h=l.end.y-l.start.y,d=n+s-l.start.x,u=o+a-l.start.y,p=Math.abs(r.Z.projectVectorToVector(d,u,c,h)),f=c*c+h*h;if(r.Z.tooSmall(f))return;const m=r.Z.clamp(p/Math.sqrt(f),0,1);e.shapeProps[l.updates]=l.min*(1-m)+l.max*m}}}function p(e,t){if(!Array.isArray(t))return null;const n=(0,s.nh)({"$-eval":e||[],pins:t});return e=>{const t=n(d(e)),i={};return t.pins.forEach((e=>{const t=e.id;delete e.id,i[t]=e})),i}}function f(e,t){if(!t)return null;const n=(0,s.nh)({"$-eval":e||[],obj:t});return e=>n(d(e)).obj}function m(e,t){const n=(0,s.nh)({"$-eval":e||[],primitives:t});return e=>Array.isArray(t)?n(d(e)).primitives.map((t=>{if("text"===t.type){if("relative"===t.transformType){const{x:n,y:i,w:r,h:o}=t.area;t.area={x:n*e.area.w/100,y:i*e.area.h/100,w:r*e.area.w/100,h:o*e.area.h/100}}return{type:t.type,text:t.text||"",fontSize:t.fontSize||12,fontColor:t.fontColor||"rgba(0, 0, 0, 1.0)",area:t.area||{x:0,y:0,w:e.area.w,h:e.area.h}}}return{fill:t.fill||{type:"none"},strokeColor:t.strokeColor||"rgba(0,0,0,1.0)",strokeSize:t.hasOwnProperty("strokeSize")?t.strokeSize:0,strokePattern:t.hasOwnProperty("strokePattern")?t.strokePattern:"solid",type:t.type,svgPath:(0,a.VL)(e,t)}})):[]}function g(e,t){const n=(0,s.nh)({"$-eval":e||[],outlines:t});return e=>{if(!Array.isArray(t))return null;const i=n(d(e));let r="";return i.outlines.forEach((t=>{const n=(0,a.VL)(e,t);n&&(r+=n+" ")})),r}}const v=n(2291).Z,y=n(9849).Z;let b=[n(1969).Z,n(9831).Z,n(8915).Z,n(5664).Z,n(3941).Z,n(4773).Z,n(6942).Z,n(477).Z,n(1008).Z,n(1061).Z,n(1526).Z,n(1045).Z,n(5019).Z,n(929).Z,n(4530).Z,n(3860).ZP,n(2270).Z,n(5198).Z,n(7022).Z,n(6227).Z,n(1484).Z,n(9354).Z,n(6222).ZP,n(6453).Z,n(4643).Z,n(2476).Z,n(8733).Z,n(9078).Z,n(1533).Z,n(5845).Z,n(5906).Z,n(9699).Z,n(3652).Z,n(9880).Z,n(4437).Z,n(2517).Z,n(4387).Z,n(4358).Z,n(7569).Z,n(6852).Z,n(7153).Z,n(8396).Z,n(3486).Z,n(1693).Z,n(8723).Z,n(5576).Z,n(8398).Z,n(2401).Z];function x(e){return[]}b=b.concat(v.shapes).concat(y.shapes);const w={description:"rich",onlyEditMode:!1,customTextRendering:!1,disableEventLayer:!1},A={fill:{name:"Fill",type:"advanced-color"},strokeColor:{name:"Stroke",type:"color"},strokeSize:{name:"Stroke Size",type:"number"},strokePattern:{name:"Stroke Pattern",type:"stroke-pattern"}};function C(e){return[{name:"body",area:{x:0,y:0,w:e.area.w,h:e.area.h}}]}function k(e){return{c:{x:e.area.w/2,y:e.area.h/2}}}function S(e,t,n){return r.Z.worldPointInArea(e,t,n.area,n.meta&&n.meta.transformMatrix?n.meta.transformMatrix:null)}function P(e){const t=S(0,0,e),n=S(e.area.w,0,e),i=S(e.area.w,e.area.h,e),r=S(0,e.area.h,e),o=[];return e.area.w>1e-4&&(Math.abs(t.y-n.y)<1e-4&&o.push({item:e,snapperType:"horizontal",value:t.y}),Math.abs(i.y-r.y)<1e-4&&o.push({item:e,snapperType:"horizontal",value:i.y}),Math.abs(t.x-r.x)<1e-4&&o.push({item:e,snapperType:"vertical",value:t.x}),Math.abs(n.x-i.x)<1e-4&&o.push({item:e,snapperType:"vertical",value:n.x})),o}function I(e){return{x:r.Z.clamp(5,e.area.w-15-5,e.area.w-15),y:r.Z.clamp(5,0,e.area.h-15),w:15,h:15}}function E(e,t){let n={};e.shapeConfig&&(n=e.shapeConfig),n.shapeType||console.error(`Missing shapeType for shape "${t}"`);const r={};return"standard"===n.shapeType&&(0,i.Ed)(A,((e,t)=>{r[t]=o.Z.clone(e)})),n.args&&(0,i.Ed)(n.args,((e,t)=>{r[t]=o.Z.clone(e),e.onUpdate&&(r[t].onUpdate=e.onUpdate)})),{shapeType:n.shapeType,editorProps:n.editorProps||w,args:r,computePath:n.computePath,computePrimitives:n.computePrimitives,computeOutline:n.computeOutline||n.computePath,readjustItem:n.readjustItem,getTextSlots:n.getTextSlots||C,getEvents:n.getEvents||x,controlPoints:n.controlPoints||null,getDetailsMarker:n.getDetailsMarker||I,getPins:n.getPins||k,shapeEvents:{beforeCreate:n.beforeCreate,mounted:n.mounted},fixItem:n.fixItem,getSnappers:n.getSnappers||P,vueComponent:"vue"===n.shapeType?e:null,menuItems:n.menuItems||[],onMouseDown:n.onMouseDown,onMouseMove:n.onMouseMove,onMouseOut:n.onMouseOut,onTextSlotTextUpdate:n.onTextSlotTextUpdate,computeCustomAreas:n.computeCustomAreas,scriptFunctions:n.scriptFunctions||null,argType(e){return this.args&&this.args[e]?this.args[e].type:"standard"===this.shapeType&&A[e]?A[e].type:null}}}const _={};function T(e,t){const n=function(e){const t=e.args||{},n=e.includeStandardArgs?{fill:{type:"advanced-color",value:{type:"solid",color:"rgba(255,255,255,1)"},name:"Fill"},strokeColor:{type:"color",value:"#111111",name:"Stroke color"},strokeSize:{type:"number",value:2,name:"Stroke Size"},strokePattern:{type:"stroke-pattern",value:"solid",name:"Stroke pattern"}}:{};return{shapeConfig:{id:e.id,shapeType:"templated",menuItems:e.menuItems,computeOutline:g(e.init,e.outlines),computePrimitives:m(e.init,e.primitives),getPins:p(e.init,e.pins),getTextSlots:f(e.init,e.textSlots||[]),controlPoints:u(e.init,e.controlPoints),args:c(c({},n),t),editorProps:e.editorProps}}}(t);n.shapeConfig.id=e,_[e]=E(n)}(0,i.Ed)(b,(function(e){if(e.shapeConfig.id){if("raw"===e.shapeConfig.shapeType)throw new Error("Raw shapes are not supported");if("templated"===e.shapeConfig.shapeType)try{T(e.shapeConfig.id,e.shapeConfig)}catch(t){console.error(`Failed to register shape ${e.shapeConfig.id}`,t)}else _[e.shapeConfig.id]=E(e)}}));const $={getShapeIds:()=>Object.keys(_),find:e=>_[e],standardShapeProps:A,getShapePropDescriptor:function(e,t){return"standard"===e.shapeType&&A.hasOwnProperty(t)?A[t]:e.args&&e.args.hasOwnProperty(t)?e.args[t]:null},getRegistry:function(){return _},getShapeArgs:function(e){if(!e)return{};if("standard"===e.shapeType||e.includeStandardArgs){const t={},n=(e,n)=>t[n]=e;return(0,i.Ed)(A,n),(0,i.Ed)(e.args,n),t}return e.args},registerTemplatedShape:T}},9498:(e,t,n)=>{"use strict";function i(e){const t=e.area.w,n=e.area.h;return{c:{x:t/2,y:n/2},t:{x:t/2,y:0,nx:0,ny:-1},b:{x:t/2,y:n,nx:0,ny:1},l:{x:0,y:n/2,nx:-1,ny:0},r:{x:t,y:n/2,nx:1,ny:0}}}function r(e,t){const n=e/2,i=t/2;return`M 0 ${i} A ${n} ${i} 0 1 1 ${e} ${i}  A ${n} ${i} 0 1 1 0 ${i} Z`}function o(e,t,n){const i=Math.min(n,e/2,t/2);return`M ${e-i} ${t}  L ${i} ${t} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}   L ${e-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${e} ${t-i}   a ${i} ${i} 0 0 1 ${-i} ${i} Z`}function s(e,t){return`M ${e} ${t}  L 0 ${t}  L 0 0  L ${e} 0  L ${e} ${t} Z`}n.d(t,{Fb:()=>i,Iv:()=>r,Qb:()=>o,U6:()=>s})},8270:(e,t,n)=>{"use strict";n.d(t,{FI:()=>l,VL:()=>d,Vk:()=>c,oJ:()=>h});var i=n(6234),r=n(3590);function o(e){return r.Z.roundPrecise2(e)}const s=100;function a(e,t){return"A"===e.t?function(e,t,n,i,s){const a=r.Z.distanceBetweenPoints(e,t,n,i),l=a*s/100;if(r.Z.tooSmall(l)||r.Z.tooSmall(a))return`L ${o(n)} ${o(i)} `;const c=Math.abs(l/2+a*a/(8*l));let h=Math.abs(l)>a/2?1:0,d=s>0?1:0;return`A ${o(c)} ${o(c)} 0 ${h} ${d} ${o(n)} ${o(i)}`}(e.x,e.y,t.x,t.y,e.h):"L"===e.t&&"B"===t.t?`Q ${o(t.x1+t.x)} ${o(t.y1+t.y)} ${o(t.x)} ${o(t.y)} `:"B"===e.t&&"B"!==t.t?`Q ${o(e.x2+e.x)} ${o(e.y2+e.y)} ${o(t.x)} ${o(t.y)} `:"B"===e.t&&"B"===t.t?`C ${o(e.x2+e.x)} ${o(e.y2+e.y)} ${o(t.x1+t.x)} ${o(t.y1+t.y)} ${o(t.x)} ${o(t.y)} `:`L ${o(t.x)} ${o(t.y)} `}function l(e,t,n,r){if(n.length<2)return null;let s="",l=null,c=null;return(0,i.Ed)(n,(n=>{const i=h(n,e,t);c||(c=i),s+=l?a(l,i):`M ${o(i.x)} ${o(i.y)} `,l=i})),r&&l&&c&&(s+=a(l,c),s+=" Z"),s}function c(e,t,n){let i=1,o=1;return r.Z.tooSmall(t)&&(t=1,i=0),r.Z.tooSmall(n)&&(n=1,o=0),"B"===e.t?{t:"B",x:r.Z.roundPrecise2(e.x*s*i/t),y:r.Z.roundPrecise2(e.y*s*o/n),x1:r.Z.roundPrecise2(e.x1*s*i/t),y1:r.Z.roundPrecise2(e.y1*s*o/n),x2:r.Z.roundPrecise2(e.x2*s*i/t),y2:r.Z.roundPrecise2(e.y2*s*o/n)}:"A"===e.t?{t:e.t,x:r.Z.roundPrecise2(e.x*s*i/t),y:r.Z.roundPrecise2(e.y*s*o/n),h:e.h||50}:{t:"L",x:r.Z.roundPrecise2(e.x*s*i/t),y:r.Z.roundPrecise2(e.y*s*o/n)}}function h(e,t,n){return"B"===e.t?{t:e.t,x:r.Z.roundPrecise2(t*e.x/s),y:r.Z.roundPrecise2(n*e.y/s),x1:r.Z.roundPrecise2(t*e.x1/s),y1:r.Z.roundPrecise2(n*e.y1/s),x2:r.Z.roundPrecise2(t*e.x2/s),y2:r.Z.roundPrecise2(n*e.y2/s)}:"A"===e.t?{t:e.t,x:r.Z.roundPrecise2(t*e.x/s),y:r.Z.roundPrecise2(n*e.y/s),h:e.h}:{t:"L",x:r.Z.roundPrecise2(t*e.x/s),y:r.Z.roundPrecise2(n*e.y/s)}}function d(e,t){return"path"===t.type?function(e,t){if(!Array.isArray(t.paths))return null;let n=t.paths;"absolute"===t.transformType&&(n=t.paths.map((t=>({closed:t.closed,id:t.id,points:t.points.map((t=>c(t,e.area.w,e.area.h)))}))));let r="";return(0,i.Ed)(n,(t=>{const n=l(e.area.w,e.area.h,t.points,t.closed);r+=n+" "})),r}(e,t):"ellipse"===t.type?function(e,t){if(!t.area)return null;const{x:n,y:i,w:r,h:o}=t.area,s=r/2,a=o/2;return`M ${n} ${i+a} A ${s} ${a} 0 1 1 ${n+r} ${i+a}  A ${s} ${a} 0 1 1 ${n} ${i+a} Z`}(0,t):(console.error("Uknown raw shape type: "+t.type),null)}},5198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9498);const r={shapeConfig:{shapeType:"standard",id:"basic_diamond",menuItems:[{group:"Basic Shapes",name:"Diamond",iconUrl:"/assets/images/items/basic-diamond.svg"},{group:"UML",name:"Decision",iconUrl:"/assets/images/items/basic-diamond.svg"}],computePath:e=>function(e){const t=e.area.w,n=e.area.h;return`M ${t/2} 0  L ${t} ${n/2}  L ${t/2} ${n}  L 0 ${n/2} Z`}(e),getPins:e=>(0,i.Fb)(e),args:{}}}},2270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(3590);const r={shapeConfig:{shapeType:"standard",id:"basic_triangle",computePath(e){const t=e.area.w*e.shapeProps.skewP/100;return`M 0 ${e.area.h}  L ${t} 0  L ${e.area.w} ${e.area.h} Z`},controlPoints:{make:e=>({skewP:{x:e.area.w*e.shapeProps.skewP/100,y:0}}),handleDrag(e,t,n,r,o,s){"skewP"===t&&e.area.w>.01&&(e.shapeProps.skewP=i.Z.roundPrecise1(i.Z.clamp(100*(n+o)/e.area.w,0,100)))}},getPins(e){const t=e.area.w*e.shapeProps.skewP/100;return{c:{x:(t+e.area.w)/3,y:2*e.area.h/3},c1:{x:t,y:0},c2:{x:e.area.w,y:e.area.h},c3:{x:0,y:e.area.h},e1:{x:t/2,y:e.area.h/2},e2:{x:t+(e.area.w-t)/2,y:e.area.h/2},e3:{x:e.area.w/2,y:e.area.h}}},menuItems:[{group:"Basic Shapes",name:"Triangle",iconUrl:"/assets/images/items/basic-triangle.svg",item:{textSlots:{body:{valign:"bottom",halign:"center"}},shapeProps:{skewP:50}}},{group:"Basic Shapes",name:"Left Triangle",iconUrl:"/assets/images/items/basic-triangle-left.svg",item:{textSlots:{body:{valign:"bottom",halign:"center"}},shapeProps:{skewP:0}}},{group:"Basic Shapes",name:"Right Triangle",iconUrl:"/assets/images/items/basic-triangle-right.svg",item:{textSlots:{body:{valign:"bottom",halign:"center"}},shapeProps:{skewP:100}}}],args:{skewP:{type:"number",value:50,min:0,max:100,name:"Skew (%)"}}}}},2291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={group:"Basic Shapes",shapes:[{name:"Cloud",shapeConfig:{shapeType:"templated",pins:[],textSlots:[{name:"body",area:{x:0,y:0,w:{"$-expr":"width"},h:{"$-expr":"height"}}}],primitives:[{type:"path",transformType:"relative",paths:[{points:[{t:"B",x:14.78,y:99.73,x1:20.52,y1:-.26,x2:-4,y2:-.83},{t:"B",x:1.75,y:83.05,x1:2.27,y1:9.24,x2:-2.27,y2:-9.24},{t:"B",x:4.61,y:54.04,x1:-3.38,y1:6.25,x2:3.38,y2:-6.25},{t:"B",x:20.33,y:44.28,x1:-6.34,y1:-2.84,x2:-.13,y2:-4.08},{t:"B",x:26,y:25.05,x1:-4.97,y1:5.3,x2:4.97,y2:-5.3},{t:"B",x:40.28,y:23.09,x1:-5.33,y1:-3.41,x2:1.77,y2:-4},{t:"B",x:51,y:4.46,x1:-7.36,y1:6.04,x2:7.36,y2:-6.04},{t:"B",x:73.5,y:6.14,x1:-6.5,y1:-6.82,x2:6.5,y2:6.82},{t:"B",x:83.92,y:44,x1:1.06,y1:-18.27,x2:2.39,y2:.82},{t:"B",x:96.86,y:56.14,x1:-4.23,y1:-10.86,x2:4.23,y2:10.86},{t:"B",x:93.52,y:92.91,x1:5.91,y1:-6.68,x2:-5.91,y2:6.68},{t:"L",x:83.92,y:99.73}],closed:!0}],strokeColor:{"$-expr":"args.strokeColor"},strokeSize:{"$-expr":"1*args.strokeSize"},strokePattern:{"$-expr":"args.strokePattern"},fill:{"$-expr":"args.fill"}}],outlines:[{type:"path",transformType:"relative",paths:[{points:[{t:"B",x:14.78,y:99.72,x1:20.52,y1:-.26,x2:-4,y2:-.83},{t:"B",x:1.75,y:83.04,x1:2.27,y1:9.24,x2:-2.27,y2:-9.24},{t:"B",x:4.61,y:54.04,x1:-3.38,y1:6.25,x2:3.38,y2:-6.25},{t:"B",x:20.33,y:44.26,x1:-6.34,y1:-2.84,x2:-.13,y2:-4.08},{t:"B",x:26,y:25.05,x1:-4.97,y1:5.3,x2:4.97,y2:-5.3},{t:"B",x:40.28,y:23.09,x1:-5.33,y1:-3.41,x2:1.77,y2:-4},{t:"B",x:51,y:4.45,x1:-7.36,y1:6.04,x2:7.36,y2:-6.04},{t:"B",x:73.5,y:6.13,x1:-6.5,y1:-6.82,x2:6.5,y2:6.82},{t:"B",x:83.92,y:44,x1:1.06,y1:-18.28,x2:2.39,y2:.82},{t:"B",x:96.86,y:56.13,x1:-4.23,y1:-10.86,x2:4.23,y2:10.86},{t:"B",x:93.52,y:92.9,x1:5.91,y1:-6.69,x2:-5.91,y2:6.69},{t:"L",x:83.92,y:99.72}],closed:!0}]}],includeStandardArgs:!0,id:"basic_cloud",menuItems:[{group:"Basic Shapes",name:"Cloud",iconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDIgMjUuNjY2NjY2NjY2NjY2NjY0IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNDJweCIgaGVpZ2h0PSIyNS42NjY2NjY2NjY2NjY2NjRweCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMywgMykiPjxwYXRoIGQ9Ik0gNS4zMiAxOS42MSBDIDMuODggMTkuNDUgMS40NSAxOC4xNSAwLjYzIDE2LjMzIEMgLTAuMTkgMTQuNTEgMC40NCAxMS44NiAxLjY2IDEwLjYzIEMgMi44OCA5LjQgNS4wNCA4LjE1IDcuMzIgOC43MSBDIDcuMjcgNy45MSA3LjU3IDUuOTcgOS4zNiA0LjkzIEMgMTEuMTUgMy44OSAxMi41OCAzLjg3IDE0LjUgNC41NCBDIDE1LjE0IDMuNzUgMTUuNzEgMi4wNyAxOC4zNiAwLjg4IEMgMjEuMDEgLTAuMzEgMjQuMTIgLTAuMTMgMjYuNDYgMS4yMSBDIDI4LjggMi41NSAzMC41OSA1LjA2IDMwLjIxIDguNjUgQyAzMS4wNyA4LjgxIDMzLjM1IDguOSAzNC44NyAxMS4wNCBDIDM2LjM5IDEzLjE4IDM1LjggMTYuOTYgMzMuNjcgMTguMjcgUSAzMS41NCAxOS41OCAzMC4yMSAxOS42MSBRIDEyLjcxIDE5LjU2IDUuMzIgMTkuNjEgIFogIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMxMTExMTEiIHN0cm9rZS13aWR0aD0iMnB4IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9nPjwvc3ZnPg==",size:{w:80,h:48.9},previewArea:{x:0,y:0,w:150,h:91.7,r:0}}]}}],preview:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSItMTAgLTEwIDEyMCAxMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxMzBweCIgaGVpZ2h0PSIxMzBweCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMTUuNTU1NTU1NTU1NTU1NTU3KSI+PHBhdGggZD0iTSAxMS44MiA0OC43NiBDIDguNjIgNDguMzUgMy4yMiA0NS4xMiAxLjQgNDAuNiBDIC0wLjQyIDM2LjA4IDAuOTkgMjkuNDggMy42OSAyNi40MiBDIDYuMzkgMjMuMzYgMTEuMTkgMjAuMjYgMTYuMjYgMjEuNjUgQyAxNi4xNiAxOS42NiAxNi44MiAxNC44NCAyMC44IDEyLjI1IEMgMjQuNzggOS42NiAyNy45NiA5LjYyIDMyLjIyIDExLjI5IEMgMzMuNjQgOS4zMyAzNC45MSA1LjEzIDQwLjggMi4xOCBDIDQ2LjY5IC0wLjc3IDUzLjYgLTAuMzMgNTguOCAzIEMgNjQgNi4zMyA2Ny45OSAxMi41OCA2Ny4xNCAyMS41MSBDIDY5LjA1IDIxLjkxIDc0LjExIDIyLjE0IDc3LjQ5IDI3LjQ1IEMgODAuODcgMzIuNzYgNzkuNTUgNDIuMTUgNzQuODIgNDUuNDIgUSA3MC4wOSA0OC42OSA2Ny4xNCA0OC43NiBRIDI4LjI0IDQ4LjYzIDExLjgyIDQ4Ljc2ICBaICIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMTExMTExIiBzdHJva2Utd2lkdGg9IjJweCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvZz48L3N2Zz4="}},7022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={name:"Star",shapeConfig:{id:"basic_star",shapeType:"templated",init:["R = max(min(width, height) / 2, 0.0001)"],menuItems:[{group:"Basic Shapes",name:"Star",size:{w:80,h:80},previewArea:{x:0,y:0,w:130,h:130,r:0},iconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMsIDMpIj48cGF0aCBkPSJNIDEzIDAgTCAxNS40OSA3IEwgMjIuMTkgMy44MSBMIDE5LjAxIDEwLjUyIEwgMjYgMTMgTCAxOS4wMSAxNS40OCBMIDIyLjE5IDIyLjE5IEwgMTUuNDkgMTkuMDEgTCAxMyAyNiBMIDEwLjUyIDE5LjAxIEwgMy44MSAyMi4xOSBMIDYuOTkgMTUuNDggTCAwIDEzIEwgNi45OSAxMC41MiBMIDMuODEgMy44MSBMIDEwLjUyIDYuOTkgTCAxMyAwICBaICIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMTExMTExIiBzdHJva2Utd2lkdGg9IjJweCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvZz48L3N2Zz4="}],pins:[{id:"c",x:{"$-expr":"width/2"},y:{"$-expr":"height/2"}},{"$-for":{start:0,until:{"$-expr":"args.spikes*2"},it:"idx"},id:{"$-expr":"`p${idx}`"},x:{"$-expr":"width/2 + ifcond(idx%2 == 0, R, R*args.spikeHeight) * cos(PI()*(2*idx/(args.spikes*2)-0.5))*width/(2*R)"},y:{"$-expr":"height/2 + ifcond(idx%2 == 0, R, R*args.spikeHeight) * sin(PI()*(2*idx/(args.spikes*2)-0.5))*height/(2*R)"},nx:{"$-expr":"cos(2*PI()*idx/(args.spikes))"},ny:{"$-expr":"sin(2*PI()*idx/(args.spikes))"}}],includeStandardArgs:!0,args:{spikes:{type:"number",value:8,min:3,max:100,name:"Spikes"},spikeHeight:{type:"number",value:.5,min:0,max:1,name:"Spike height"}},primitives:[{type:"path",fill:{"$-expr":"args.fill"},strokeColor:{"$-expr":"args.strokeColor"},strokeSize:{"$-expr":"args.strokeSize"},strokePattern:{"$-expr":"args.strokePattern"},transformType:"absolute",paths:[{closed:!0,points:[{"$-for":{start:0,until:{"$-expr":"args.spikes * 2"},it:"idx"},x:{"$-expr":"width/2 + ifcond(idx%2 == 0, R, R*args.spikeHeight) * cos(PI()*(2*idx/(args.spikes*2)-0.5))*width/(2*R)"},y:{"$-expr":"height/2 + ifcond(idx%2 == 0, R, R*args.spikeHeight) * sin(PI()*(2*idx/(args.spikes*2)-0.5))*height/(2*R)"},t:"L"}]}]}],outlines:[{type:"path",transformType:"absolute",paths:[{closed:"true",points:[{"$-for":{start:0,until:{"$-expr":"args.spikes * 2"},it:"idx"},x:{"$-expr":"width/2 + ifcond(idx%2 == 0, R, R*args.spikeHeight) * cos(PI()*(2*idx/(args.spikes*2)-0.5))*width/(2*R)"},y:{"$-expr":"height/2 + ifcond(idx%2 == 0, R, R*args.spikeHeight) * sin(PI()*(2*idx/(args.spikes*2)-0.5))*height/(2*R)"},t:"L"}]}]}],controlPoints:[{id:"spikeHeight",min:0,max:1,start:{x:{"$-expr":"width/2"},y:{"$-expr":"height/2"}},end:{x:{"$-expr":"width/2"},y:{"$-expr":"0"}},updates:"spikeHeight"}],textSlots:[{name:"body",area:{x:0,y:0,w:{"$-expr":"width"},h:{"$-expr":"height"}}}]}}},9078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3590),r=n(9498);function o(e){return i.Z.clamp(i.Z.roundPrecise1(Math.max(e.shapeProps.headerHeight,e.shapeProps.cornerRadius)),0,e.area.h)}function s(e,t){return i.Z.clamp(i.Z.roundPrecise1((e.area.h-t)*Math.max(e.shapeProps.sectionRatio,10)/100+t),0,e.area.h)}const a={shapeConfig:{shapeType:"standard",id:"uml_class",menuItems:[{group:"UML",name:"Class",iconUrl:"/assets/images/items/uml-class.svg",item:{textSlots:{title:{text:"Class",bold:!0,fontSize:16,halign:"center",valign:"middle",paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},section1:{text:"",fontSize:14,font:"Courier New",halign:"left",valign:"top",paddingLeft:5,paddingTop:5,paddingRight:5,paddingBottom:5},section2:{text:"",fontSize:14,font:"Courier New",halign:"left",valign:"top",paddingLeft:5,paddingTop:5,paddingRight:5,paddingBottom:5}}},size:{w:140,h:100}}],getPins:e=>(0,r.Fb)(e),computePath(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4),r=o(e);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}  L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} ZM 0 ${r} l ${t} 0M 0 ${s(e,r)} l ${t} 0`},computeOutline(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}  L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} Z`},getTextSlots(e){const t=o(e),n=s(e,t);return[{name:"title",area:{x:0,y:0,w:e.area.w,h:t}},{name:"section1",area:{x:0,y:t,w:e.area.w,h:n-t}},{name:"section2",area:{x:0,y:n,w:e.area.w,h:e.area.h-n}}]},controlPoints:{make:e=>({sectionRatio:{x:e.area.w/2,y:s(e,o(e))},headerHeight:{x:e.area.w/2,y:e.shapeProps.headerHeight},cornerRadius:{x:e.area.w-e.shapeProps.cornerRadius,y:0}}),handleDrag(e,t,n,r,s,a){if("headerHeight"===t)e.shapeProps.headerHeight=i.Z.clamp(i.Z.roundPrecise1(r+a),0,e.area.h);else if("cornerRadius"===t)e.shapeProps.cornerRadius=i.Z.clamp(i.Z.roundPrecise1(e.area.w-n-s),0,Math.min(e.area.w/4,e.area.h/4));else if("sectionRatio"===t){const t=o(e),n=Math.max(0,e.area.h-t);n>0&&(e.shapeProps.sectionRatio=i.Z.clamp(i.Z.roundPrecise1(100*Math.max(0,r+a-t)/n),0,100))}}},args:{cornerRadius:{type:"number",value:0,name:"Corner radius",min:0},headerHeight:{type:"number",value:30,name:"Header Height",min:0},sectionRatio:{type:"number",value:50,name:"Section Ratio (%)",min:0,max:100}}}}},2517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_database",menuItems:[{group:"UML",name:"Database",iconUrl:"/assets/images/items/uml-database.svg",size:{w:100,h:130}}],computePath(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,e.area.h/3),o=r/2,s=e.area.w/4,a=t/2;return`M ${t} ${r} L ${t} ${n-r} C ${t} ${n-o}  ${t-s} ${n} ${a} ${n} C ${s} ${n} 0 ${n-o} 0 ${n-r} L 0 ${r}C 0 ${o} ${s} 0 ${a} 0  C ${t-s} 0 ${t} ${o} ${t} ${r}C ${t} ${r+o} ${t-s} ${2*r} ${a} ${2*r} C ${s} ${2*r} 0 ${r+o} 0 ${r}`},getPins:e=>(0,r.Fb)(e),computeOutline(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,e.area.h/3),o=r/2,s=e.area.w/4,a=t/2;return`M ${t} ${r} L ${t} ${n-r} C ${t} ${n-o}  ${t-s} ${n} ${a} ${n} C ${s} ${n} 0 ${n-o} 0 ${n-r} L 0 ${r}C 0 ${o} ${s} 0 ${a} 0  C ${t-s} 0 ${t} ${o} ${t} ${r}`},controlPoints:{make:e=>({skew:{x:e.area.w/2,y:2*i.Z.clamp(e.shapeProps.skew,0,e.area.h/3)}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp((r+s)/2,0,e.area.h/3))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},4437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_dataflow",menuItems:[{group:"UML",name:"Data Flow",iconUrl:"/assets/images/items/uml-dataflow.svg"}],getPins:e=>(0,r.Fb)(e),computePath(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),o=e.area.h/4,s=n/2;return`M ${t-r} ${n} L ${r} ${n}  Q 0 ${n-o} 0 ${s}  Q 0 ${o} ${r} 0 L ${t-r} 0 Q ${t} ${o} ${t} ${s} Q ${t} ${n-o} ${t-r} ${n} Q ${t-2*r} ${n-o} ${t-2*r} ${s} Q ${t-2*r} ${o} ${t-r} 0`},computeOutline(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),o=e.area.h/4,s=n/2;return`M ${t-r} ${n} L ${r} ${n}  Q 0 ${n-o} 0 ${s}  Q 0 ${o} ${r} 0 L ${t-r} 0 Q ${t} ${o} ${t} ${s} Q ${t} ${n-o} ${t-r} ${n}`},controlPoints:{make:e=>({skew:{x:e.area.w-2*i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),y:e.area.h/2}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp((e.area.w-n-o)/2,0,e.area.w/3))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},4387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_delay",menuItems:[{group:"UML",name:"Delay",iconUrl:"/assets/images/items/uml-delay.svg"}],getPins:e=>(0,r.Fb)(e),computePath:e=>function(e){const t=e.area.w,n=e.area.h,r=e.area.h/2,o=i.Z.clamp(t-r,0);return`M 0 0 L ${o} 0 A ${Math.min(r,t-o)} ${r} 0 0 1 ${o} ${n} L 0 ${n} Z`}(e),args:{}}}},9880:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={shapeConfig:{shapeType:"standard",id:"uml_document",menuItems:[{group:"UML",name:"Document",iconUrl:"/assets/images/items/uml-document.svg",size:{w:140,h:100}}],getPins(e){const t=e.area.h/8,n=e.area.w,i=e.area.h-t;return[{x:n/2,y:i/2},{x:n/2,y:0,nx:0,ny:-1},{x:n/2,y:i,nx:0,ny:1},{x:0,y:i/2,nx:-1,ny:0},{x:n,y:i/2,nx:1,ny:0}]},computePath:e=>function(e){const t=e.area.h/8,n=e.area.w,i=e.area.h-t,r=i/2;return`M 0 0 L ${n} 0 L ${n} ${i} C ${n/2} ${i-r} ${n/2} ${i+r} 0 ${i} Z`}(e),args:{}}}},8398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3590),r=n(7196),o=n(9498);const s={shapeConfig:{shapeType:"standard",id:"uml_group",menuItems:[{group:"UML",name:"Group",iconUrl:"/assets/images/items/uml-group.svg",item:{textSlots:{title:{text:"Group",bold:!0,color:"#969696",fontSize:16,halign:"center",valign:"middle",paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0}},shapeProps:{fill:{type:"none"},strokeSize:3,strokeColor:"rgba(160,160,160,1.0)"}},size:{w:140,h:100}}],getPins:e=>(0,o.Fb)(e),computePath(e){const t=e.area.w,n=e.area.h,r=Math.max(0,e.shapeProps.cornerRadius),o=Math.min(r,e.area.w/4,e.area.h/4),s=e.area.w-2*o,a=i.Z.clamp(e.shapeProps.gap,0,s);let l=0,c=0;return"begin"===e.shapeProps.align?(l=0,c=s-a):"middle"===e.shapeProps.align?(l=(s-a)/2,c=l):(l=s-a,c=0),"bottom"===e.shapeProps.pos?`M ${t-o} 0  a ${o} ${o} 0 0 1 ${o} ${o} L ${t} ${n-o} a ${o} ${o} 0 0 1 ${-o} ${o}L ${t-o-c} ${n} M ${o+l} ${n} L ${o} ${n} a ${o} ${o} 0 0 1 ${-o} ${-o} L 0 ${o}  a ${o} ${o} 0 0 1 ${o} ${-o} L ${t-o} 0`:`M ${t-o-c} 0  L ${t-o} 0 a ${o} ${o} 0 0 1 ${o} ${o} L ${t} ${n-o} a ${o} ${o} 0 0 1 ${-o} ${o}L ${o} ${n} a ${o} ${o} 0 0 1 ${-o} ${-o} L 0 ${o}  a ${o} ${o} 0 0 1 ${o} ${-o}  L ${o+l} 0`},computeOutline:r.bL,getTextSlots(e){const t=Math.min(Math.max(0,e.shapeProps.cornerRadius),e.area.w/4,e.area.h/4),n=e.area.w-2*t,r=i.Z.clamp(e.shapeProps.gap,0,n);let o=0;o="begin"===e.shapeProps.align?0:"middle"===e.shapeProps.align?(n-r)/2:n-r;const s=i.Z.clamp(e.area.h/2,10,50);return[{name:"title",area:{x:t+o,y:-s/2+("bottom"===e.shapeProps.pos?e.area.h:0),w:r,h:s}}]},controlPoints:{make(e){const t=Math.min(Math.max(0,e.shapeProps.cornerRadius),e.area.w/4,e.area.h/4),n=e.area.w-2*t,r=i.Z.clamp(e.shapeProps.gap,0,n);let o=0;return o="begin"===e.shapeProps.align?t+r:"middle"===e.shapeProps.align?(e.area.w+r)/2:e.area.w-t-r,{cornerRadius:{x:e.area.w-e.shapeProps.cornerRadius,y:0},gap:{x:o,y:"top"===e.shapeProps.pos?0:e.area.h}}},handleDrag(e,t,n,r,o,s){if("gap"===t){const t=Math.min(Math.max(0,e.shapeProps.cornerRadius),e.area.w/4,e.area.h/4),r=e.area.w-2*t;let s=0,a=n+o;s="begin"===e.shapeProps.align?a-t:"middle"===e.shapeProps.align?2*a-e.area.w:e.area.w-t-a,e.shapeProps.gap=i.Z.clamp(s,0,r)}else"cornerRadius"===t&&(e.shapeProps.cornerRadius=i.Z.clamp(e.area.w-n-o,0,Math.min(e.area.w/4,e.area.h/4)))}},args:{gap:{type:"number",value:150,name:"Gap size",min:0},pos:{type:"choice",value:"top",name:"Title placement",options:["top","bottom"]},align:{type:"choice",value:"middle",name:"Title alignment",options:["begin","middle","end"]},cornerRadius:{type:"number",value:20,name:"Corner radius",min:0}}}}},3652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590);function r(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,t/2);return`M ${r} 0 L ${t} 0 L ${t-r} ${n} L 0 ${n} Z`}const o={shapeConfig:{shapeType:"standard",id:"uml_input",menuItems:[{group:"UML",name:"Input/Output",iconUrl:"/assets/images/items/uml-input.svg",size:{w:140,h:100}}],getPins(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,e.area.w/2);return[{x:t/2,y:n/2},{x:t/2,y:0,nx:0,ny:-1},{x:t/2,y:n,nx:0,ny:1},{x:r/2,y:n/2,nx:-1,ny:0},{x:t-r/2,y:n/2,nx:1,ny:0}]},computePath:e=>r(e),computeOutline:e=>r(e),controlPoints:{make:e=>({skew:{x:i.Z.clamp(e.shapeProps.skew,0,e.area.w/2),y:0}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp(n+o,0,e.area.w/2))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},7569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_loop_limit",menuItems:[{group:"UML",name:"Loop Limit",iconUrl:"/assets/images/items/uml-loop-limit.svg"}],getPins:e=>(0,r.Fb)(e),computePath:e=>function(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,Math.min(t/4,n/2));return`M ${r} 0 L ${t-r} 0 L ${t} ${r} L ${t} ${n} L 0 ${n} L 0 ${r} Z`}(e),controlPoints:{make:e=>({skew:{x:e.area.w-i.Z.clamp(e.shapeProps.skew,0,Math.min(e.area.w/4,e.area.h/2)),y:0}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp(e.area.w-n-o,0,Math.min(e.area.w/4,e.area.h/2)))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},1533:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(3590);const r={shapeConfig:{shapeType:"standard",id:"uml_module",menuItems:[{group:"UML",name:"Module",iconUrl:"/assets/images/items/uml-module.svg",item:{textSlots:{title:{text:"Module",bold:!0,halign:"center"},body:{text:"",halign:"left"}}},size:{w:140,h:100}}],controlPoints:{make:e=>({brick:{x:Math.min(e.shapeProps.brickWidth,e.area.w/2),y:4*i.Z.clamp(e.shapeProps.brickHeight,0,e.area.h)}}),handleDrag(e,t,n,r,o,s){"brick"===t&&(e.shapeProps.brickWidth=i.Z.clamp(n+o,0,e.area.w/2),e.shapeProps.brickHeight=i.Z.clamp((r+s)/4,0,e.area.h/4))}},getPins(e){const t=Math.min(e.shapeProps.brickWidth,e.area.w/2)/2,n=e.area.w,i=e.area.h,r=e.area.w-t;return{c:{x:t+r/2,y:i/2},t:{x:t+r/2,y:0,nx:0,ny:-1},b:{x:t+r/2,y:i,nx:0,ny:1},r:{x:t,y:i/2,nx:-1,ny:0},l:{x:n,y:i/2,nx:1,ny:0}}},computePath(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.brickWidth,e.area.w/2),r=Math.min(e.shapeProps.brickHeight,e.area.h/4),o=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4,r,i);return`M ${t-o} ${n}  L ${i/2+o} ${n} a ${o} ${o} 0 0 1 ${-o} ${-o} L ${i/2} ${4*r} L ${i} ${4*r} L ${i} ${3*r} L ${i/2} ${3*r} L ${i/2} ${2*r} L ${i} ${2*r} L ${i} ${r} L ${i/2} ${r} L ${i/2} ${o}a ${o} ${o} 0 0 1 ${o} ${-o}   L ${t-o} 0   a ${o} ${o} 0 0 1 ${o} ${o}  L ${t} ${n-o}   a ${o} ${o} 0 0 1 ${-o} ${o} ZM 0 ${r} l ${i} 0  l 0 ${r} l ${-i} 0 ZM 0 ${3*r} l ${i} 0  l 0 ${r} l ${-i} 0 Z`},computeOutline(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.brickWidth,e.area.w/2),r=Math.min(e.shapeProps.brickHeight,e.area.h/4),o=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4,r,i);return`M ${t-o} ${n}  L ${i/2+o} ${n} a ${o} ${o} 0 0 1 ${-o} ${-o} L ${i/2} ${4*r} L 0 ${4*r} L 0 ${3*r} L ${i/2} ${3*r} L ${i/2} ${2*r} L 0 ${2*r} L 0 ${r} L ${i/2} ${r} L ${i/2} ${o}a ${o} ${o} 0 0 1 ${o} ${-o}   L ${t-o} 0   a ${o} ${o} 0 0 1 ${o} ${o}  L ${t} ${n-o}   a ${o} ${o} 0 0 1 ${-o} ${o} Z`},getTextSlots(e){const t=Math.max(e.shapeProps.brickWidth,0);return[{name:"body",area:{x:t,y:0,w:Math.max(0,e.area.w-t),h:e.area.h}}]},args:{cornerRadius:{type:"number",value:0,name:"Corner radius",min:0},brickWidth:{type:"number",value:70,name:"Brick Width",min:0},brickHeight:{type:"number",value:20,name:"Brick Height",min:0}}}}},5906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3590),r=n(9498);const o=e=>{let t=e.shapeProps.depth;const n=Math.min(e.area.w,e.area.h)/2;return t>n&&(t=n),t},s={shapeConfig:{shapeType:"standard",id:"uml_node",menuItems:[{group:"UML",name:"Node",iconUrl:"/assets/images/items/uml-node.svg",size:{w:140,h:100}}],controlPoints:{make(e){const t=o(e);return{depth:{x:i.Z.clamp(e.area.w-t,0,e.area.w),y:i.Z.clamp(t,0,e.area.h)}}},handleDrag(e,t,n,r,o,s){"depth"===t&&(e.shapeProps.depth=i.Z.clamp(r+s,0,Math.min(e.area.w,e.area.h)/2))}},getPins:e=>(0,r.Fb)(e),getTextSlots(e){const t=o(e);return[{name:"body",area:{x:0,y:t,w:e.area.w-t,h:e.area.h-t}}]},computePath(e){const t=e.area.w,n=e.area.h,i=o(e);return`M 0 ${i}  L ${t-i} ${i}  L ${t-i} ${n} L 0 ${n} ZM 0 ${i} L ${i} 0 L ${t} 0 L ${t-i} ${i} ZM ${t-i} ${i} L ${t} 0 L ${t} ${n-i} L ${t-i} ${n} Z`},computeOutline(e){const t=e.area.w,n=e.area.h,i=o(e);return`M 0 ${i}  L ${i} 0  L ${t} 0  L ${t} ${n-i} L ${t-i} ${n} L 0 ${n} Z`},args:{depth:{type:"number",value:20,name:"Depth"}}}}},6852:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_note",menuItems:[{group:"UML",name:"Note",iconUrl:"/assets/images/items/uml-note.svg"}],getPins:e=>(0,r.Fb)(e),computePath:e=>function(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,Math.min(t/2,n/2));return`M ${t} ${r} L ${t} ${n} L 0 ${n} L 0 0 L ${t-r} 0 L ${t} ${r} L ${t-r} ${r} L ${t-r} 0`}(e),computeOutline:e=>function(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,Math.min(t/2,n/2));return`M ${t} ${r} L ${t} ${n} L 0 ${n} L 0 0 L ${t-r} 0 Z`}(e),controlPoints:{make(e){const t=i.Z.clamp(e.shapeProps.skew,0,Math.min(e.area.w/2,e.area.h/2));return{skew:{x:e.area.w-t,y:t}}},handleDrag(e,t,n,r,o,s){const a=e.area.w-n-o,l=r+s;"skew"===t&&(e.shapeProps.skew=i.Z.clamp(Math.max(a,l),0,Math.min(e.area.w/2,e.area.h/2)))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},8733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_object",menuItems:[{group:"UML",name:"Object",iconUrl:"/assets/images/items/uml-object.svg",item:{textSlots:{title:{text:"Object",bold:!0,fontSize:16,halign:"center",valign:"middle",paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},body:{text:"",fontSize:14,font:"Courier New",halign:"left",valign:"top",paddingLeft:5,paddingTop:5,paddingRight:5,paddingBottom:5}}},size:{w:140,h:100}}],getPins:e=>(0,r.Fb)(e),computePath(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}  L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} ZM 0 ${Math.min(e.area.h,Math.max(e.shapeProps.headerHeight,e.shapeProps.cornerRadius))} l ${t} 0`},computeOutline(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}  L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} Z`},getTextSlots:e=>[{name:"title",area:{x:0,y:0,w:e.area.w,h:e.shapeProps.headerHeight}},{name:"body",area:{x:0,y:e.shapeProps.headerHeight,w:e.area.w,h:Math.max(10,e.area.h-e.shapeProps.headerHeight)}}],controlPoints:{make:e=>({headerHeight:{x:e.area.w/2,y:e.shapeProps.headerHeight},cornerRadius:{x:e.area.w-e.shapeProps.cornerRadius,y:0}}),handleDrag(e,t,n,r,o,s){"headerHeight"===t?e.shapeProps.headerHeight=i.Z.clamp(r+s,0,e.area.h):"cornerRadius"===t&&(e.shapeProps.cornerRadius=i.Z.clamp(e.area.w-n-o,0,Math.min(e.area.w/4,e.area.h/4)))}},args:{cornerRadius:{type:"number",value:0,name:"Corner radius",min:0},headerHeight:{type:"number",value:30,name:"Header Height",min:0}}}}},5845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(3590);const r={shapeConfig:{shapeType:"standard",id:"uml_package",menuItems:[{group:"UML",name:"Package",iconUrl:"/assets/images/items/uml-package.svg",size:{w:140,h:100}}],controlPoints:{make:e=>({brick:{x:Math.min(e.shapeProps.brickWidth,e.area.w/2),y:i.Z.clamp(e.shapeProps.brickHeight,0,e.area.h/2)}}),handleDrag(e,t,n,r,o,s){"brick"===t&&(e.shapeProps.brickWidth=i.Z.clamp(n+o,0,e.area.w/2),e.shapeProps.brickHeight=i.Z.clamp(r+s,0,e.area.h/2))}},getPins(e){const t=e.area.w,n=e.area.h,i=Math.min(Math.max(0,e.shapeProps.brickHeight),e.area.h/2),r=n-i;return{c:{x:t/2,y:i+r/2},t:{x:t/2,y:i,nx:0,ny:-1},b:{x:t/2,y:n,nx:0,ny:1},l:{x:0,y:i+r/2,nx:-1,ny:0},r:{x:t,y:i+r/2,nx:1,ny:0}}},computePath(e){const t=e.area.w,n=e.area.h,i=Math.min(Math.max(0,e.shapeProps.brickWidth),e.area.w/2),r=Math.min(Math.max(0,e.shapeProps.brickHeight),e.area.h/2);return`M 0 0  L ${i} 0 L ${i} ${r} L 0 ${r} ZM 0 ${r} L ${t} ${r} L ${t} ${n} L 0 ${n} Z`},computeOutline(e){const t=e.area.w,n=e.area.h,i=Math.min(Math.max(0,e.shapeProps.brickWidth),e.area.w/2),r=Math.min(Math.max(0,e.shapeProps.brickHeight),e.area.h/2);return`M 0 0  L ${i} 0 L ${i} ${r}  L ${t} ${r} L ${t} ${n} L 0 ${n} Z`},args:{brickWidth:{type:"number",value:60,name:"Brick width",min:0},brickHeight:{type:"number",value:20,name:"Brick height",min:0}}}}},4358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_preparation",menuItems:[{group:"UML",name:"Preparation",iconUrl:"/assets/images/items/uml-preparation.svg"}],getPins:e=>(0,r.Fb)(e),computePath:e=>function(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,t/3),o=n/2;return`M ${r} 0 L ${t-r} 0 L ${t} ${o} L ${t-r} ${n} L ${r} ${n} L 0 ${o} Z`}(e),controlPoints:{make:e=>({skew:{x:e.area.w-i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),y:0}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp(e.area.w-n-o,0,e.area.w/3))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},1693:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590),r=n(9498);const o={shapeConfig:{shapeType:"standard",id:"uml_process",menuItems:[{group:"UML",name:"Process",iconUrl:"/assets/images/items/uml-process.svg"}],getPins:e=>(0,r.Fb)(e),computePath:e=>function(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,t/4);return`M 0 0 L ${t} 0 L ${t} ${n} L 0 ${n} Z  M ${r} 0 L ${r} ${n} M ${t-r} 0 L ${t-r} ${n}`}(e),computeOutline:e=>function(e){const t=e.area.w,n=e.area.h;return`M 0 0 L ${t} 0 L ${t} ${n} L 0 ${n} Z`}(e),controlPoints:{make:e=>({skew:{x:e.area.w-i.Z.clamp(e.shapeProps.skew,0,e.area.w/4),y:0}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp(e.area.w-n-o,0,e.area.w/4))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},8396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590);function r(e){const t=e.area.w,n=e.area.h;return`M 0 0 L ${t} 0 L ${t} ${n} L 0 ${n} L ${i.Z.clamp(n/2,0,t)} ${n/2} Z`}const o={shapeConfig:{shapeType:"standard",id:"uml_receive_signal",menuItems:[{group:"UML",name:"Receive Signal",iconUrl:"/assets/images/items/uml-receive-signal.svg"}],getPins(e){const t=e.area.w,n=e.area.h;return{c:{x:t/2,y:n/2},t:{x:t/2,y:0,nx:0,ny:-1},b:{x:t/2,y:n,nx:0,ny:1},l:{x:i.Z.clamp(n/2,0,t),y:n/2,nx:-1,ny:0},r:{x:t,y:n/2,nx:1,ny:0}}},computePath:e=>r(e),computeOutline:e=>r(e),args:{}}}},7153:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3590),r=n(9498);function o(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(n/2,0,t);return`M 0 0 L ${t-r} 0 L ${t} ${n/2} L ${t-r} ${n} L 0 ${n} Z`}const s={shapeConfig:{shapeType:"standard",id:"uml_send_signal",menuItems:[{group:"UML",name:"Send Signal",iconUrl:"/assets/images/items/uml-send-signal.svg"}],getPins:e=>(0,r.Fb)(e),computePath:e=>o(e),computeOutline:e=>o(e),args:{}}}},9849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={group:"UML",shapes:[{name:"User",shapeConfig:{shapeType:"templated",pins:[],textSlots:[{name:"body",area:{x:{"$-expr":"width * 0"},y:{"$-expr":"height * 0"},w:{"$-expr":"width * 1"},h:{"$-expr":"height * 1"},r:0}}],primitives:[{type:"ellipse",area:{x:{"$-expr":"width * 0.5 - height * 0.4/2"},y:0,w:{"$-expr":"height*0.4"},h:{"$-expr":"height*0.4"}},strokeColor:{"$-expr":"args.strokeColor"},strokeSize:{"$-expr":"1*args.strokeSize"},strokePattern:{"$-expr":"args.strokePattern"},fill:{"$-expr":"args.fill"}},{type:"path",transformType:"relative",paths:[{points:[{t:"L",x:0,y:100},{t:"B",x:50,y:40,x1:-50,y1:0,x2:50,y2:0},{t:"L",x:100,y:100}],closed:!0}],strokeColor:{"$-expr":"args.strokeColor"},strokeSize:{"$-expr":"1*args.strokeSize"},strokePattern:{"$-expr":"args.strokePattern"},fill:{"$-expr":"args.fill"}}],outlines:[{type:"ellipse",area:{x:{"$-expr":"width * 0.5 - height * 0.4/2"},y:0,w:{"$-expr":"height*0.4"},h:{"$-expr":"height*0.4"}}},{type:"path",transformType:"relative",paths:[{points:[{t:"L",x:0,y:100},{t:"B",x:50,y:40,x1:-50,y1:0,x2:50,y2:0},{t:"L",x:100,y:100}],closed:!0}]}],includeStandardArgs:!0,id:"uml_user",menuItems:[{group:"UML",name:"User",iconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzIgMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMsIDMpIj48cGF0aCBkPSJNIDcuOCA1LjIgQSA1LjIgNS4yIDAgMSAxIDE4LjIgNS4yICBBIDUuMiA1LjIgMCAxIDEgNy44IDUuMiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMxMTExMTEiIHN0cm9rZS13aWR0aD0iMnB4IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTSAwIDI2IFEgMCAxMC40IDEzIDEwLjQgUSAyNiAxMC40IDI2IDI2IEwgMCAyNiAgWiAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzExMTExMSIgc3Ryb2tlLXdpZHRoPSIycHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L2c+PC9zdmc+",size:{w:80,h:80},previewArea:{x:0,y:0,w:150,h:150,r:0},item:{textSlots:{body:{valign:"bottom",paddingBottom:10}}}}]}}],preview:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSItMTAgLTEwIDEyMCAxMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxMzBweCIgaGVpZ2h0PSIxMzBweCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMCkiPjxwYXRoIGQ9Ik0gMjQgMTYgQSAxNiAxNiAwIDEgMSA1NiAxNiAgQSAxNiAxNiAwIDEgMSAyNCAxNiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMxMTExMTEiIHN0cm9rZS13aWR0aD0iMnB4IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTSAwIDgwIFEgMCAzMiA0MCAzMiBRIDgwIDMyIDgwIDgwIEwgMCA4MCAgWiAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzExMTExMSIgc3Ryb2tlLXdpZHRoPSIycHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L2c+PC9zdmc+"}},9699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9498);function r(e){const t=e.area.w,n=e.area.h,i=Math.min(t,n)/2;return`M ${i} 0 L ${t-i} 0 A ${i} ${i} 0 0 1 ${t-i} ${n} L ${i} ${n} A ${i} ${i} 0 0 1 ${i} 0 Z`}const o={shapeConfig:{shapeType:"standard",id:"uml_start",menuItems:[{group:"UML",name:"Start/End",iconUrl:"/assets/images/items/uml-start.svg"}],getPins:e=>(0,i.Fb)(e),computePath:e=>r(e),computeOutline:e=>r(e),args:{}}}},3486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3590);function r(e){const t=e.area.w,n=e.area.h,r=i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),o=e.area.h/4,s=n/2;return`M ${t} ${n} L ${r} ${n}  Q 0 ${n-o} 0 ${s}  Q 0 ${o} ${r} 0 L ${t} 0 Q ${t-r} ${o} ${t-r} ${s} Q ${t-r} ${n-o} ${t} ${n} Z`}const o={shapeConfig:{shapeType:"standard",id:"uml_storage",menuItems:[{group:"UML",name:"Storage",iconUrl:"/assets/images/items/uml-storage.svg"}],getPins(e){const t=e.area.w,n=e.area.h;return{c:{x:t/2,y:n/2},t:{x:t/2,y:0,nx:0,ny:-1},b:{x:t/2,y:n,nx:0,ny:1},l:{x:0,y:n/2,nx:-1,ny:0},r:{x:t-i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),y:n/2,nx:1,ny:0}}},computePath:e=>r(e),computeOutline:e=>r(e),controlPoints:{make:e=>({skew:{x:e.area.w-i.Z.clamp(e.shapeProps.skew,0,e.area.w/3),y:e.area.h/2}}),handleDrag(e,t,n,r,o,s){"skew"===t&&(e.shapeProps.skew=i.Z.clamp(e.area.w-n-o,0,e.area.w/3))}},args:{skew:{type:"number",value:20,name:"Skew"}}}}},5576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(3590),r=n(1377),o=n(8595);function s(e){return e.shapeProps.vertical?e.area.w:e.area.h}function a(e){return e.shapeProps.vertical?e.area.h:e.area.w}function l(e){return`M 0 0 L ${e.area.w} 0 L ${e.area.w} ${e.area.h} L 0 ${e.area.h} Z`}function c(e,t){let n=0;for(let i=1;i<=t;i++)n+=e.shapeProps[`colw${i}`]*s(e)/100;return e.shapeProps.vertical?{x:i.Z.clamp(n,0,s(e)),y:0}:{x:0,y:i.Z.clamp(n,0,s(e))}}function h(e,t,n){const i=t.shapeProps.columns;t.shapeProps.columns=n,d(0,t,n,i),o.Z.item.changed.specific.$emit(e,t.id,"shapeProps.column"),o.Z.schemeChangeCommitted.$emit(e,`item.${t.id}.shapeProps.columns`)}function d(e,t,n,o){const a=[];let l=0,c=s(t);for(let e=1;e<o;e++){const n=t.shapeProps[`colw${e}`]*c/100;a.push(n),l+=n}if(n>o&&n>1&&!i.Z.tooSmall(c)){const e=c/(n-1);t.shapeProps.vertical?t.area.w+=e:t.area.h+=e,c=s(t),t.shapeProps["colw"+(n-1)]=100*e/c;for(let e=1;e<o;e++)t.shapeProps[`colw${e}`]=100*a[e-1]/c;t.textSlots[`col${n}`]||(t.textSlots[`col${n}`]={text:`Title ${n}`,bold:!0},(0,r.q4)(t.textSlots[`col${n}`]))}if(n<o&&n>0&&!i.Z.tooSmall(c)&&(t.shapeProps.vertical?t.area.w=l:t.area.h=l,c=s(t),!i.Z.tooSmall(c)))for(let e=1;e<n;e++)t.shapeProps[`colw${e}`]=100*a[e-1]/c}const u={shapeConfig:{shapeType:"standard",id:"uml_swim_lane",menuItems:[{group:"Tables",name:"Swim Lane",iconUrl:"/assets/images/items/uml-swim-lane.svg",item:{shapeProps:{columns:3,colw1:33.33333,colw2:33.33333,colw3:33.33333},textSlots:{col1:{text:"Todo",bold:!0},col2:{text:"In Progress",bold:!0},col3:{text:"Done",bold:!0}}},previewArea:{x:5,y:5,w:200,h:100},size:{w:800,h:400}},{group:"Tables",name:"Swim Lane (Horizontal)",iconUrl:"/assets/images/items/uml-swim-lane-horizontal.svg",item:{shapeProps:{columns:3,vertical:!1,headerHeight:110,colw1:33.33333,colw2:33.33333,colw3:33.33333},textSlots:{col1:{text:"Todo",bold:!0},col2:{text:"In Progress",bold:!0},col3:{text:"Done",bold:!0}}},previewArea:{x:5,y:5,w:200,h:100},size:{w:800,h:400}}],computePath:function(e){const t=i.Z.clamp(e.shapeProps.headerHeight,0,a(e));let n=l(e);e.shapeProps.vertical?n+=` M 0 ${t} L ${e.area.w} ${t}`:n+=` M ${t} 0 L ${t} ${e.area.h}`;let r=0;for(let t=1;t<e.shapeProps.columns;t++){let o=i.Z.clamp(r+Math.abs(e.shapeProps[`colw${t}`]),0,100);const l=o*s(e)/100;e.shapeProps.vertical?n+=` M ${l} 0 L ${l} ${a(e)}`:n+=` M 0 ${l} L ${a(e)} ${l}`,r=o}return n},computeOutline:l,getTextSlots:function(e){const t=[],n=s(e);let r=0,o=0;for(let s=1;s<=e.shapeProps.columns;s++){let a=i.Z.clamp(r+Math.abs(e.shapeProps[`colw${s}`]),0,100);const l=a*n/100;let c=l-o;s===e.shapeProps.columns&&(c=n-o),e.shapeProps.vertical?t.push({name:`col${s}`,area:{x:o,y:0,w:c,h:e.shapeProps.headerHeight}}):t.push({name:`col${s}`,area:{x:0,y:o,w:e.shapeProps.headerHeight,h:c}}),r=a,o=l}return t},beforeCreate(e,t){const n=i.Z.clamp(t.shapeProps.columns,1,12),r=100/n;for(let e=0;e<n;e++)t.shapeProps[`colw${e}`]=r},editorProps:{textSlotTabsDisabled:!0,editBoxControls:(e,t)=>{const n=t.shapeProps.vertical,i=[];return t.shapeProps.columns<100&&i.push({name:"Add Column",type:"button",hPlace:n?"right":"center",vPlace:n?"center":"bottom",iconClass:"fa-solid fa-plus",position:n?{x:30,y:0}:{x:0,y:30},click:()=>{!function(e,t){t.shapeProps.columns>=100||h(e,t,t.shapeProps.columns+1)}(e,t)}}),t.shapeProps.columns>1&&i.push({name:"Remove Column",type:"button",hPlace:n?"right":"left",vPlace:n?"top":"bottom",iconClass:"fa-solid fa-minus",position:n?{x:0,y:30}:{x:30,y:0},click:()=>{!function(e,t){t.shapeProps.columns<=1||h(e,t,t.shapeProps.columns-1)}(e,t)}}),i}},controlPoints:{make(e){const t={};e.shapeProps.vertical?t.headerHeight={x:0,y:i.Z.clamp(e.shapeProps.headerHeight,0,e.area.h)}:t.headerHeight={x:i.Z.clamp(e.shapeProps.headerHeight,0,e.area.w),y:0};for(let n=e.shapeProps.columns-1;n>0;n--)t[`colw${n}`]=c(e,n);return t},handleDrag(e,t,n,r,o,l){if(0===t.indexOf("colw")){let a=n+o;e.shapeProps.vertical||(a=r+l);const c=s(e),h=Math.max(1,e.shapeProps.columns);if(i.Z.tooSmall(c))return;const d=parseInt(t.substr(4));let u=0;for(let t=1;t<d;t++)u+=e.shapeProps[`colw${t}`]*c/100;const p=Math.max(0,a-u),f=5/h,m=100-5/h;e.shapeProps[`colw${d}`]=i.Z.clamp(100*p/c,f,m)}else if("headerHeight"===t){let t=r+l;e.shapeProps.vertical||(t=n+o),e.shapeProps.headerHeight=i.Z.clamp(t,0,a(e))}}},args:{columns:{type:"number",value:3,name:"Columns",min:1,max:100,onUpdate:d},headerHeight:{type:"number",value:50,name:"Header Height",min:0,hidden:!0},vertical:{type:"boolean",value:!0,name:"Vertical"},colw1:{type:"number",value:20,name:"Column Width 1",min:0,max:100,hidden:!0},colw2:{type:"number",value:20,name:"Column Width 2",min:0,max:100,hidden:!0},colw3:{type:"number",value:20,name:"Column Width 3",min:0,max:100,hidden:!0},colw4:{type:"number",value:20,name:"Column Width 4",min:0,max:100,hidden:!0},colw5:{type:"number",value:20,name:"Column Width 5",min:0,max:100,hidden:!0},colw6:{type:"number",value:20,name:"Column Width 6",min:0,max:100,hidden:!0},colw7:{type:"number",value:20,name:"Column Width 7",min:0,max:100,hidden:!0},colw8:{type:"number",value:20,name:"Column Width 8",min:0,max:100,hidden:!0},colw9:{type:"number",value:20,name:"Column Width 9",min:0,max:100,hidden:!0},colw10:{type:"number",value:20,name:"Column Width 10",min:0,max:100,hidden:!0},colw11:{type:"number",value:20,name:"Column Width 11",min:0,max:100,hidden:!0},colw12:{type:"number",value:20,name:"Column Width 12",min:0,max:100,hidden:!0}}}}},5635:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(3086);function r(e){const t={color:e.color,"font-size":e.fontSize+"px","font-family":(0,i.It)(e.font),"padding-left":e.paddingLeft+"px","padding-right":e.paddingRight+"px","padding-top":e.paddingTop+"px","padding-bottom":e.paddingBottom+"px","text-align":e.halign,"vertical-align":e.valign,"white-space":e.whiteSpace,display:"table-cell","box-sizing":"border-box","line-height":""+e.lineHeight};return e.letterSpacing>0&&(t["letter-spacing"]=e.letterSpacing+"px"),e.bold&&(t["font-weight"]="bold"),t}},8113:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>p,ao:()=>u,g1:()=>d,hT:()=>f});var i=n(520),r=n(6234),o=n(9149),s=n(4502),a=n(9421);function l(e,t,n){const i=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&(0,r.Ed)(t,((e,t)=>{i.setAttribute(t,e)})),n&&(0,r.Ed)(n,(e=>{i.appendChild(e)})),i}const c=l,h={"drop-shadow":{name:"Drop Shadow",args:{color:{type:"color",value:"rgba(0,0,0,1.0)",name:"Color"},dx:{type:"number",value:10,name:"Offset X"},dy:{type:"number",value:10,name:"Offset Y"},blur:{type:"number",value:5,name:"Blur",min:0,max:100},opacity:{type:"number",value:50,name:"Opacity (%)",min:0,max:100},inside:{type:"boolean",value:!1,name:"Inside"}},applyEffect(e,t,n){const i=o.Z.find(e.shape);if(!i)return null;const r=i.computeOutline(e);if(!r)return null;const s=`item-effect-drop-shadow-${e.id}-${t}`;return n.inside?{kind:"svg-filter",html:c("g",{},[c("feComponentTransfer",{in:"SourceAlpha"},[c("feFuncA",{type:"table",tableValues:"1 0"})]),c("feGaussianBlur",{stdDeviation:n.blur}),c("feOffset",{dx:n.dx,dy:n.dy,result:"offsetblur"}),c("feFlood",{"flood-color":n.color,result:"color","flood-opacity":n.opacity/100}),c("feComposite",{in2:"offsetblur",operator:"in"}),c("feComposite",{in2:"SourceAlpha",operator:"in"}),c("feMerge",{},[c("feMergeNode",{in:"SourceGraphic"}),c("feMergeNode")])]).innerHTML}:{kind:"back",html:c("g",{},[c("defs",{},[c("filter",{id:s,x:"-500%",y:"-500%",width:"2000%",height:"2000%"},[c("feGaussianBlur",{in:"SourceGraphic",stdDeviation:n.blur})])]),c("path",{d:r,stroke:"none",fill:n.color,transform:`translate(${n.dx} ${n.dy})`,style:"opacity: "+n.opacity/100,filter:`url(#${s})`})]).innerHTML}}},blur:{name:"Blur",args:{size:{type:"number",value:5,name:"Size"}},applyEffect:(e,t,n)=>({kind:"svg-filter",html:c("feGaussianBlur",{in:"SourceGraphic",stdDeviation:n.size}).outerHTML})},glow:{name:"Glow",description:"Some shapes do not support this effect",args:{color:{type:"color",value:"rgba(126,237,255,1.0)",name:"Color"},size:{type:"number",value:3,name:"Size",min:0,max:100},blur:{type:"number",value:5,name:"Blur",min:0,max:100},opacity:{type:"number",value:50,name:"Opacity (%)",min:0,max:100}},applyEffect(e,t,n){const i=o.Z.find(e.shape);if(!i)return null;const r=i.computeOutline(e);if(!r)return null;const s=`item-effect-glow-${e.id}-${t}`;let a=n.size;const l=o.Z.getShapePropDescriptor(i,"strokeSize");return l&&"number"===l.type&&(a=n.size+e.shapeProps.strokeSize),{kind:"front",html:c("g",{},[c("defs",{},[c("filter",{id:s,x:"-500%",y:"-500%",width:"2000%",height:"2000%"},[c("feGaussianBlur",{in:"SourceGraphic",stdDeviation:n.blur})])]),c("path",{d:r,"data-item-id":e.id,stroke:n.color,"stroke-width":`${a}px`,fill:"none",style:"opacity: "+n.opacity/100,filter:`url(#${s})`})]).innerHTML}}},repeat:{name:"Repeat",description:"Some shapes do not support this effect",args:{repeat:{type:"number",value:3,name:"Repeat",min:1,max:20},dx:{type:"number",value:10,name:"Offset X"},dy:{type:"number",value:-10,name:"Offset Y"},fade:{type:"number",value:0,name:"Fade (%)",min:0,max:100}},applyEffect(e,t,n){const i=o.Z.find(e.shape);if(!i||!i.computeOutline)return null;const r=i.computeOutline(e);if(!r)return null;const c=o.Z.getShapeArgs(i);let h="none";c.fill&&"advanced-color"===c.fill.type?h=(0,a.pz)(e.shapeProps.fill,`effect-fill-${e.id}`):c.fill&&"color"===c.fill.type&&(h=e.shapeProps.fill);const d=c.strokeColor&&"color"===c.strokeColor.type?e.shapeProps.strokeColor:"#111111",u=c.strokeSize&&"number"===c.strokeSize.type?e.shapeProps.strokeSize:1;let p="";c.strokePattern&&"stroke-pattern"===c.strokePattern.type&&(p=s.Z.createDashArray(e.shapeProps.strokePattern,u));const f=l("g",{});for(let t=0;t<n.repeat;t++){const i=(n.repeat-t)*n.dx,o=(n.repeat-t)*n.dy;let s=100,a=100-n.fade,c=(t+1)/n.repeat;const m=l("g",{transform:`translate(${i}, ${o})`,style:"opacity: "+(s*c+a*(1-c))/100});m.appendChild(l("path",{d:r,fill:h,stroke:d,"stroke-width":`${u}px`,"stroke-dasharray":p,"stroke-linejoin":"round","data-item-id":e.id})),f.appendChild(m)}return{kind:"back",html:f.innerHTML}}},"adjust-color":{name:"Adjust Color",args:{matrix:{type:"color-matrix",name:"Color matrix",value:[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0]]}},applyEffect(e,t,n){let i="1 0 0 0 00 1 0 0 00 0 1 0 00 0 0 1 0";return Array.isArray(n.matrix)&&(i="",n.matrix.forEach((e=>{Array.isArray(e)?i+=e.join(" "):i+="0 0 0 0 0",i+=" "}))),{kind:"svg-filter",html:c("feColorMatrix",{type:"matrix",values:i}).outerHTML}}}};function d(e){if(!e)return{};const t={};return(0,r.Ed)(e.args,((e,n)=>{t[n]=i.Z.clone(e.value)})),t}function u(){return h}function p(e){return h[e]}function f(){return"drop-shadow"}},1068:(e,t,n)=>{"use strict";function i(e){return e.changedTouches&&e.changedTouches.length>0?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY}:e.touches&&e.touches.length>0?{pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}:{pageX:e.pageX,pageY:e.pageY}}function r(e){const t=i(e);return{originalEvent:e,originalPageX:t.pageX,originalPageY:t.pageY,draggedElement:null,droppableClass:null,scrollableElemet:null,callbacks:{onDrag:()=>{},onDragOver:()=>{},onDrop:()=>{},onDragStart:()=>{},onSimpleClick:()=>{},onDone:()=>{}},withScrollableElement(e){return this.scrollableElemet=e,this},withDraggedElement(e){return this.draggedElement=e,this},withDroppableClass(e){return this.droppableClass=e,this},onDragStart(e){return this.callbacks.onDragStart=e,this},onDrag(e){return this.callbacks.onDrag=e,this},onDragOver(e){return this.callbacks.onDragOver=e,this},onDrop(e){return this.callbacks.onDrop=e,this},onSimpleClick(e){return this.callbacks.onSimpleClick=e,this},onDone(e){return this.callbacks.onDone=e,this},build(){let t=0,n=!1,r=e.touches?"touchmove":"mousemove",o=e.touches?"touchend":"mouseup";const s=t=>{document.removeEventListener(r,m),document.removeEventListener(o,g),n||2===e.button||this.callbacks.onSimpleClick(t),n=!1,this.callbacks.onDone()},a=(e,t)=>{if(this.droppableClass){const n=e.target.closest(`.${this.droppableClass}`);n&&t(n)}};let l=null,c=0;const h=e=>{l&&c===e||(d(),c=e,l=setInterval((()=>{this.scrollableElemet.scrollTop+=e}),10))},d=()=>{l&&(clearInterval(l),l=null,c=0)},u=i(this.originalEvent),p=u.pageX,f=u.pageY,m=e=>{if(0===e.buttons)return void s(e);const{pageX:r,pageY:o}=i(e);if(t+=Math.abs(r-this.originalPageX)+Math.abs(o-this.originalPageY),n){if(this.draggedElement&&(this.draggedElement.style.left=`${r+4}px`,this.draggedElement.style.top=`${o+4}px`),this.callbacks.onDrag(e,r,o,p,f),a(e,(t=>this.callbacks.onDragOver(e,t,r,o))),this.scrollableElemet){const e=this.scrollableElemet.getBoundingClientRect();e.bottom-o<20?h(2):e.top-o>-20?h(-2):d()}}else t>5&&(n=!0,this.callbacks.onDragStart(e,p,f))},g=e=>{const{pageX:t,pageY:r}=i(e);d();try{n&&a(e,(n=>this.callbacks.onDrop(e,n,t,r)))}catch(e){console.error(e)}s(e)};document.addEventListener(r,m),document.addEventListener(o,g)}}}n.d(t,{E:()=>r})},2017:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>l,qc:()=>c});var i=n(6234);function r(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function o(){const e=new Date;return e.toLocaleTimeString()+"."+e.getMilliseconds()}const s={loggers:{},filterRegex:null,registerLogger(e){const t=Math.abs(r(e))%360;let n=!1;this.loggers.hasOwnProperty(e)&&(n=this.loggers[e].enabled),this.loggers[e]={enabled:n,background:`hsl(${t}, 75%, 35%)`}},showLoggers(){console.log("%cSchemio Log Config!","color: white; display: inline-block; padding: 5px 10px; background: #00aaff; font-family: Helvetica; font-size: 20px; font-weight: bold"),(0,i.Ed)(this.loggers,((e,t)=>{console.log(t)}))},enable(e){this.loggers[e]||console.error("Unknown logger: "+e),this.loggers[e].enabled=!0,d()},disable(e){this.loggers[e]||console.error("Unknown logger: "+e),this.loggers[e].enabled=!1,d()},filter(e){this.filterRegex=e?new RegExp(e):null,d()}};function a(e,t){if(e){let n="";for(let e=0;e<t.length;e++){const i=t[e];"string"==typeof i&&(n=n+" "+i)}return e.test(n)}return!0}class l{constructor(e){this.name=e,this.timers={},s.registerLogger(e)}info(...e){const t=s.loggers[this.name];if(t&&t.enabled&&a(s.filterRegex,e)){const n=o();console.log.apply(console,[`${n} %c${this.name}`,`display: inline-block; font-weight: bold; background: ${t.background}; text-shadow: 0 0 4px rgba(0, 0, 0, 0.5); padding: 2px 5px; border-radius: 2px; color: white`,...e])}}time(e){this.timers[e]=performance.now()}timeEnd(e){const t=s.loggers[this.name];if(t&&t.enabled)if(this.timers[e]){if(a(s.filterRegex,`${this.name} ${e}`)){const n=performance.now()-this.timers[e],i=o();console.log.apply(console,[`${i} %c${this.name}%c Timer: %c${e}%c took ${n} ms`,`display: inline-block; font-weight: bold; background: ${t.background}; text-shadow: 0 0 4px rgba(0, 0, 0, 0.5); padding: 2px 5px; border-radius: 2px; color: white`,"","display: inline-block; font-weight: bold; background: hsl(142, 45%, 30%); padding: 2px 5px; border-radius: 2px; color: white",""])}}else console.error(`Could not measure time in ${this.name}. Missing timer ${e} initialisation`)}infoEvent(e,t){const n=s.loggers[this.name];if(n&&n.enabled&&a(s.filterRegex,t)){const i=Math.abs(r(e))%360,s=o();console.log.apply(console,[`${s} %c${this.name} %c${e}`,`display: inline-block; font-weight: bold; background: ${n.background}; text-shadow: 0 0 4px rgba(0, 0, 0, 0.5) padding: 2px 5px; padding: 2px 5px; border-radius: 2px; color: white; margin-right: 10px`,`display: inline-block; font-weight: bold; background: hsl(${i}, 70%, 30%); padding: 2px 5px; border-radius: 2px; color: white;`,...t])}}}const c={objects:[],register(e,t){this.objects.push({type:e,obj:t})}},h="SchemioLogConfig";function d(){"undefined"==typeof window&&window.localStorage&&window.localStorage.setItem(h,JSON.stringify(s))}!function(){if(!window||!window.localStorage)return;const e=window.localStorage.getItem(h);if(e)try{const t=JSON.parse(e);if(!t.loggers)return;(0,i.Ed)(t.loggers,((e,t)=>{s.loggers[t]={enabled:e.enabled||!1}}))}catch(e){}}();"undefined"!=typeof window&&(window.SchemioDebugger=c,window.SchemioLogConfig=()=>{})},3590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});const i=1e-5;function r(e){return Math.abs(e)<i}function o(e,t,n,i){const o=e*e+t*t;if(!r(o)){const s=n*n+i*i;if(!r(s)){const r=Math.sqrt(o),a=Math.sqrt(s);return Math.asin((e*i-t*n)/(r*a))}}return 0}function s(e,t){return t>=0?Math.acos(e):-Math.acos(e)}function a(e,t,n,i){return{a:t-i,b:n-e,c:e*i-n*t}}function l(e,t,{a:n,b:i,c:o}){return r(n)&&r(i)?0:Math.abs(n*e+i*t+o)/Math.sqrt(n*n+i*i)}function c(e,t,n,i){if(i-n<2)return[e[n],e[i]];const r=a(e[n].x,e[n].y,e[i].x,e[i].y);let o=n+1,s=0;for(let t=n+1;t<i;t++){const n=l(e[t].x,e[t].y,r);n>s&&(s=n,o=t)}if(s>t){const r=c(e,t,n,o),s=c(e,t,o,i);return s.splice(0,1),r.concat(s)}return[e[n],e[i]]}const h={sameFloatingValue:(e,t,n)=>(null==n&&(n=1e-4),Math.abs(e-t)<n),tooSmall:r,roundPrecise(e,t){if(t>0){const n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},roundPrecise1(e){return this.roundPrecise(e,1)},roundPrecise2(e){return this.roundPrecise(e,2)},clamp:(e,t,n)=>e<t?t:e>n?n:e,vectorLength:(e,t)=>Math.sqrt(e*e+t*t),vectorPlusVector:(e,t)=>({x:e.x+t.x,y:e.y+t.y}),vectorMinusVector:(e,t)=>({x:e.x-t.x,y:e.y-t.y}),distanceBetweenPoints:(e,t,n,i)=>Math.sqrt((n-e)*(n-e)+(i-t)*(i-t)),normalizedVector(e,t){const n=e*e+t*t;if(this.tooSmall(n))return null;const i=Math.sqrt(n);return{x:e/i,y:t/i}},angleBetweenVectors:o,cosineAngleBetweenVectors:function(e,t,n,i){const r=e*e+t*t;if(r>.001){const o=n*n+i*i;if(o>.001){const s=Math.sqrt(r),a=Math.sqrt(o);return Math.acos((e*n+t*i)/(s*a))}}return 0},fullAngleForNormalizedVector:s,fullAngleForVector:function(e,t){const n=e*e+t*t;if(!r(n)){const i=Math.sqrt(n);return s(e/i,t/i)}return 0},createLineEquation:a,distanceFromPointToLine:l,linesIntersection(e,t){const n=e.a*t.b-t.a*e.b;if(this.tooSmall(n))return null;const i=(t.a*e.c-e.a*t.c)/n;let r=0;if(this.tooSmall(e.a)){if(this.tooSmall(t.a))return null;r=(-t.b*i-t.c)/t.a}else r=(-e.b*i-e.c)/e.a;return{x:r,y:i}},identifyPointSideAgainstLine:(e,t,{a:n,b:i,c:r})=>n*e+i*t+r>=0?1:-1,isPointInArea:(e,t,n)=>e>=n.x&&e<=n.x+n.w&&t>=n.y&&t<=n.y+n.h,isAreaInArea:(e,t)=>e.x>=t.x&&e.y>=t.y&&e.x+e.w<t.x+t.w&&e.y+e.h<t.y+t.h,overlappingArea(e,t){const n=e.x,i=e.y,r=e.x+e.w,o=e.y+e.h,s=t.x,a=t.y,l=t.x+t.w,c=t.y+t.h;let h=0,d=0,u=0,p=0;return u=s>=n?s:n,p=l>=r?r:l,h=a>=i?a:i,d=c>=o?o:c,d>=h&&p>=u?{x:u,y:h,w:p-u,h:d-h}:null},isPointWithinLineSegment(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=n.x-e.x,s=n.y-e.y,a=n.x-t.x,l=n.y-t.y;return a*a+l*l>(i+o)*(i+o)+(r+s)*(r+s)},worldPointInArea(e,t,n,i){if(!n)return{x:0,y:0};i||(i=this.identityMatrix());const r=this.standardTransformWithArea(i,n);return this.transformPoint(r,e,t)},localPointInArea(e,t,n,i){if(!n)return{x:0,y:0};i||(i=this.identityMatrix());const r=this.standardTransformWithArea(i,n),o=this.inverseMatrix3x3(r);return o?this.transformPoint(o,e,t):{x:0,y:0}},closestPointOnPath(e,t,n,i){let r,o,s=2,a=.5;i&&void 0!==i.startDistance&&(r=i.startDistance),i&&void 0!==i.stopDistance&&(o=i.stopDistance),i&&void 0!==i.precision&&(s=i.precision),a=1/Math.max(s,2);const l=n.getTotalLength();if(l<1e-7){const e=n.getPointAtLength(0);return e.distance=0,e}let c=0,h=0;if(void 0===r||void 0===o){const i=Math.max(8,Math.min(l/40,20)),r=l/i;let o=0,s=0;for(let a=0;a<i;a++){const i=n.getPointAtLength(a*r+r/2),l=(e-i.x)*(e-i.x)+(t-i.y)*(t-i.y);0===a?(o=a,s=l):s>l&&(s=l,o=a)}c=o*r,h=(o+1)*r}else c=Math.min(r,l),h=Math.min(o,l);const d=(c+h)/2,u=[c,d],p=[d,h];let f=(h-c)/2,m=n.getPointAtLength(c);for(m.distance=c;f>a;){const i=f/2;let r=n.getPointAtLength(u[0]+i);r.distance=u[0]+i;let o=n.getPointAtLength(p[0]+i);o.distance=p[0]+i,f=i,(e-r.x)*(e-r.x)+(t-r.y)*(t-r.y)<(e-o.x)*(e-o.x)+(t-o.y)*(t-o.y)?(m=r,u[1]=u[0]+f):(m=o,u[0]=p[0],u[1]=u[0]+f),p[0]=u[1],p[1]=p[0]+f}return m},worldPointToViewport:(e,t,n)=>({x:(t+e.x)/e.scale,y:(n+e.y)/e.scale}),viewportPointToWorld:(e,t,n)=>({x:t*e.scale-e.x,y:n*e.scale-e.y}),_snapScales:[500,100,20,5,1,.2,.04,.008],getSnappingWidthForScale(e){const t=Math.round(Math.log(e)/Math.log(5))+2;return t>0&&t<this._snapScales.length?this._snapScales[t]:t>this._snapScales.length?this._snapScales[this._snapScales.length-1]:this._snapScales[0]},simplifyPathPointsUsingRDP:(e,t)=>c(e,t,0,e.length-1),smoothPathPoints(e){if(e.length<=2)return e;const t=[e[0]];for(let n=1;n<e.length-1;n++){let i=e[n-1],r=e[n],s=e[n+1];const a=(r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y),l=(r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y),c=o(i.x-r.x,i.y-r.y,s.x-r.x,s.y-r.y);if(a<1e4&&l<1e4||Math.abs(c)<.1){const e=s.x-i.x,n=s.y-i.y;t.push({t:"B",x:r.x,y:r.y,x1:-e/8,y1:-n/8,x2:e/8,y2:n/8})}else t.push(r)}return t.push(e[e.length-1]),t},multiplyMatrices(...e){if(0===e.length)return this.identityMatrix();let t=e[0];for(let n=1;n<e.length;n++)t=this.multiplyTwoMatrices(t,e[n]);return t},multiplyTwoMatrices(e,t){let n=e.length,i=e[0].length,r=t[0].length,o=new Array(n);for(let s=0;s<n;s++){o[s]=new Array(r);for(let n=0;n<r;n++){o[s][n]=0;for(let r=0;r<i;r++)o[s][n]+=e[s][r]*t[r][n]}}return o},translationMatrix:(e,t)=>[[1,0,e],[0,1,t],[0,0,1]],rotationMatrixInDegrees(e){return this.rotationMatrixInRadians(e*Math.PI/180)},rotationMatrixInRadians:e=>[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]],scaleMatrix(e,t){if(isNaN(e))throw new Error("nan");return[[e,0,0],[0,t,0],[0,0,1]]},identityMatrix:()=>[[1,0,0],[0,1,0],[0,0,1]],pointMatrix:(e,t)=>[[e],[t],[1]],standardTransformWithArea(e,t){const n=t.w*t.px,i=t.h*t.py,r=Math.cos(t.r*Math.PI/180),o=Math.sin(t.r*Math.PI/180),s=[[0,0,0],[0,0,0],[0,0,0]],a=t.x+n,l=t.y+i,c=-n,h=-i,d=e;for(let e=0;e<3;e++)s[e][0]=t.sx*(d[e][0]*r+d[e][1]*o),s[e][1]=t.sy*(d[e][1]*r-d[e][0]*o),s[e][2]=s[e][0]*c+s[e][1]*h+d[e][0]*a+d[e][1]*l+d[e][2];return s},transformPoint(e,t,n){const i=this.multiplyMatrices(e,[[t],[n],[1]]);return{x:i[0][0],y:i[1][0]}},transformVector(e,t,n){const i=this.transformPoint(e,0,0),r=this.transformPoint(e,t,n);return{x:r.x-i.x,y:r.y-i.y}},inverseMatrix3x3(e){const t=(t,n)=>{const i=[0,1,2],r=[0,1,2];return i.splice(t,1),r.splice(n,1),e[i[0]][r[0]]*e[i[1]][r[1]]-e[i[0]][r[1]]*e[i[1]][r[0]]},n=e[0][0]*t(0,0)-e[0][1]*t(0,1)+e[0][2]*t(0,2);if(this.tooSmall(n))return null;const i=[[0,0,0],[0,0,0],[0,0,0]];let r=2;for(let e=0;e<3;e++)for(let o=0;o<3;o++){const s=r%2==0?1:-1;i[o][e]=s*t(e,o)/n,r++}return i},findTranslationMatchingWorldPoint(e,t,n,i,r,o){let s=this.identityMatrix();if(o&&(s=this.inverseMatrix3x3(o)),s){const o=r.px*r.w,a=r.py*r.h,l=s,c=this.multiplyMatrices(this.translationMatrix(o,a),this.rotationMatrixInDegrees(r.r),this.scaleMatrix(r.sx,r.sy),this.translationMatrix(-o,-a)),h=n*c[2][0]+i*c[2][1]+c[2][2];if(!this.tooSmall(h)){const r=n*c[0][0]+i*c[0][1]+c[0][2],o=n*c[1][0]+i*c[1][1]+c[1][2];return{x:(l[0][0]*e+l[0][1]*t+l[0][2]-r)/h,y:(l[1][0]*e+l[1][1]*t+l[1][2]-o)/h}}}return null},nonNullNumber:e=>null==e?0:e,averagePoint(...e){let t=0,n=0;return e.forEach((e=>{t+=e.x,n+=e.y})),e.length>0?{x:t/e.length,y:n/e.length}:{x:t,y:n}},calculateRotationOffsetForSameCenter(e,t,n,i,r){const o=e-n,s=t-i,a=Math.cos(r),l=Math.sin(r);return{x:n+(o*a-s*l),y:i+(o*l+s*a)}},rotateVector90Clockwise:(e,t)=>({x:-t,y:e}),rotateVector90CounterClockwise:(e,t)=>({x:t,y:-e}),projectVectorToVector(e,t,n,i){const r=n*n+i*i;return this.tooSmall(r)?0:(e*n+t*i)/Math.sqrt(r)},stringHash(e,t=0){let n=3735928559^t,i=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),n=Math.imul(n^t,2654435761),i=Math.imul(i^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&i)+(n>>>0)},stringHash(e){var t=2166136261;for(let n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0},solveQuadratic(e,t,n){const i=t*t-4*e*n;if(i<=0)return null;const r=Math.sqrt(i);return{v1:(-t-r)/(2*e),v2:(r-t)/(2*e)}}}},9087:(e,t,n)=>{"use strict";n.d(t,{A9:()=>P,BH:()=>m,RL:()=>v,SU:()=>S,So:()=>o,X9:()=>a,Xs:()=>h,Yn:()=>b,ZU:()=>f,bn:()=>I,ks:()=>g,o0:()=>C,qO:()=>A,rh:()=>c,s0:()=>s,sM:()=>k,tA:()=>u,u1:()=>p,vZ:()=>d,vf:()=>w,wK:()=>l,xH:()=>y,zD:()=>x});var i=n(3590),r=n(2644);function o(e,t){const n={left:i.Z.roundPrecise1(e.area.x),top:i.Z.roundPrecise1(e.area.y),right:i.Z.roundPrecise1(t.area.w-e.area.x-e.area.w),bottom:i.Z.roundPrecise1(t.area.h-e.area.y-e.area.h)};return e.area.x>.6*t.area.w&&(n.width=i.Z.roundPrecise1(e.area.w),delete n.left),e.area.y>.6*t.area.h&&(n.height=i.Z.roundPrecise1(e.area.h),delete n.top),e.area.w+e.area.x<.4*t.area.w&&(n.width=i.Z.roundPrecise1(e.area.w),delete n.right),e.area.h+e.area.y<.4*t.area.h&&(n.height=i.Z.roundPrecise1(e.area.h),delete n.bottom),{on:!0,rules:n}}function s(e,t,n){const r={x:0,y:0,w:10,h:10,r:0,px:.5,py:.5,sx:1,sy:1};if(n.hasOwnProperty("width")?r.w=i.Z.roundPrecise1(n.width):n.hasOwnProperty("relWidth")&&(r.w=i.Z.roundPrecise1(n.relWidth*t.area.w/100)),n.hasOwnProperty("height")?r.h=i.Z.roundPrecise1(n.height):n.hasOwnProperty("relHeight")&&(r.h=i.Z.roundPrecise1(n.relHeight*t.area.h/100)),n.hcenter)r.x=i.Z.roundPrecise1(t.area.w/2-r.w/2);else{let e=!1;if(n.hasOwnProperty("left")?(e=!0,r.x=i.Z.roundPrecise1(n.left)):n.hasOwnProperty("relLeft")&&(e=!0,r.x=i.Z.roundPrecise1(n.relLeft*t.area.w/100)),n.hasOwnProperty("right"))e?r.w=i.Z.roundPrecise1(t.area.w-n.right-r.x):r.x=i.Z.roundPrecise1(t.area.w-n.right-r.w);else if(n.hasOwnProperty("relRight")){const o=n.relRight*t.area.w/100;e?r.w=i.Z.roundPrecise1(t.area.w-o-r.x):r.x=i.Z.roundPrecise1(t.area.w-o-r.w)}}if(n.vcenter)r.y=i.Z.roundPrecise1(t.area.h/2-r.h/2);else{let e=!1;if(n.hasOwnProperty("top")?(e=!0,r.y=i.Z.roundPrecise1(n.top)):n.hasOwnProperty("relTop")&&(e=!0,r.y=i.Z.roundPrecise1(n.relTop*t.area.h/100)),n.hasOwnProperty("bottom"))e?r.h=i.Z.roundPrecise1(t.area.h-n.bottom-r.y):r.y=i.Z.roundPrecise1(t.area.h-n.bottom-r.h);else if(n.hasOwnProperty("relBottom")){const o=n.relBottom*t.area.h/100;e?r.h=i.Z.roundPrecise1(t.area.h-o-r.y):r.y=i.Z.roundPrecise1(t.area.h-o-r.h)}}return r.w<0&&(r.w=0),r.h<0&&(r.h=0),r}function a(e,t){if(e.autoLayout.rules.hcenter)return;let n=0,r=t.area.w;e.autoLayout.rules.hasOwnProperty("left")?(n=e.autoLayout.rules.left,delete e.autoLayout.rules.left):e.autoLayout.rules.hasOwnProperty("relLeft")&&(n=i.Z.roundPrecise1(e.autoLayout.rules.relLeft*t.area.w/100),delete e.autoLayout.rules.relLeft),e.autoLayout.rules.hasOwnProperty("right")?(r=t.area.w-e.autoLayout.rules.right,delete e.autoLayout.rules.right):e.autoLayout.rules.hasOwnProperty("relRight")&&(r=t.area.w-i.Z.roundPrecise1(e.autoLayout.rules.relRight*t.area.w/100),delete e.autoLayout.rules.relRight),e.autoLayout.rules.hasOwnProperty("width")||(e.autoLayout.rules.width=Math.abs(i.Z.roundPrecise1(r-n))),e.autoLayout.rules.hcenter=!0}function l(e,t){if(e.autoLayout.rules.vcenter)return;let n=0,r=t.area.w;e.autoLayout.rules.hasOwnProperty("top")?(n=e.autoLayout.rules.top,delete e.autoLayout.rules.top):e.autoLayout.rules.hasOwnProperty("relTop")&&(n=i.Z.roundPrecise1(e.autoLayout.rules.relTop*t.area.w/100),delete e.autoLayout.rules.relTop),e.autoLayout.rules.hasOwnProperty("bottom")?(r=t.area.h-e.autoLayout.rules.bottom,delete e.autoLayout.rules.bottom):e.autoLayout.rules.hasOwnProperty("relBottom")&&(r=t.area.h-i.Z.roundPrecise1(e.autoLayout.rules.relBottom*t.area.w/100),delete e.autoLayout.rules.relBottom),e.autoLayout.rules.hasOwnProperty("height")||(e.autoLayout.rules.height=Math.abs(i.Z.roundPrecise1(r-n))),e.autoLayout.rules.vcenter=!0}function c(e,t){e.autoLayout.rules.vcenter?(e.autoLayout.rules.bottom=i.Z.roundPrecise1(t.area.h-e.area.y-e.area.h),e.autoLayout.rules.height=i.Z.roundPrecise1(e.area.h),e.autoLayout.rules.vcenter=!1):(e.autoLayout.rules.hasOwnProperty("top")||e.autoLayout.rules.hasOwnProperty("relTop"))&&(e.autoLayout.rules.hasOwnProperty("height")||e.autoLayout.rules.hasOwnProperty("relHeight")?e.autoLayout.rules.bottom=i.Z.roundPrecise1(t.area.h-e.area.y-e.area.h):(e.autoLayout.rules.height=i.Z.roundPrecise1(e.area.h),e.autoLayout.rules.hasOwnProperty("bottom")&&e.autoLayout.rules.hasOwnProperty("relBottom")||(e.autoLayout.rules.bottom=i.Z.roundPrecise1(t.area.h-e.area.y-e.area.h)))),delete e.autoLayout.rules.top,delete e.autoLayout.rules.relTop}function h(e,t){e.autoLayout.rules.vcenter&&(e.autoLayout.rules.vcenter=!1),e.autoLayout.rules.top=i.Z.roundPrecise1(e.area.y),(e.autoLayout.rules.hasOwnProperty("bottom")||e.autoLayout.rules.hasOwnProperty("relBottom"))&&(delete e.autoLayout.rules.height,delete e.autoLayout.rules.relHeight)}function d(e,t){e.autoLayout.rules.vcenter&&(e.autoLayout.rules.vcenter=!1);let n=0;i.Z.tooSmall(t.area.h)||(n=i.Z.roundPrecise1(100*e.area.y/t.area.h)),e.autoLayout.rules.relTop=n,delete e.autoLayout.rules.top,(e.autoLayout.rules.hasOwnProperty("bottom")||e.autoLayout.rules.hasOwnProperty("relBottom"))&&(delete e.autoLayout.rules.height,delete e.autoLayout.rules.relHeight)}function u(e,t){e.autoLayout.rules.vcenter?(e.autoLayout.rules.top=i.Z.roundPrecise1(e.area.x),e.autoLayout.rules.height=i.Z.roundPrecise1(e.area.h),e.autoLayout.rules.vcenter=!1):(e.autoLayout.rules.hasOwnProperty("bottom")||e.autoLayout.rules.hasOwnProperty("relBottom"))&&(e.autoLayout.rules.hasOwnProperty("height")||e.autoLayout.rules.hasOwnProperty("relHeight")?e.autoLayout.rules.top=i.Z.roundPrecise1(e.area.x):(e.autoLayout.rules.height=i.Z.roundPrecise1(e.area.h),e.autoLayout.rules.hasOwnProperty("top")&&e.autoLayout.rules.hasOwnProperty("relTop")||(e.autoLayout.rules.top=i.Z.roundPrecise1(e.area.x)))),delete e.autoLayout.rules.bottom,delete e.autoLayout.rules.relBottom}function p(e,t){e.autoLayout.rules.vcenter&&(e.autoLayout.rules.vcenter=!1),e.autoLayout.rules.bottom=i.Z.roundPrecise1(t.area.h-e.area.y-e.area.h),(e.autoLayout.rules.hasOwnProperty("top")||e.autoLayout.rules.hasOwnProperty("relTop"))&&(delete e.autoLayout.rules.height,delete e.autoLayout.rules.relHeight)}function f(e,t){e.autoLayout.rules.vcenter&&(e.autoLayout.rules.vcenter=!1);let n=0;i.Z.tooSmall(t.area.h)||(n=i.Z.roundPrecise1(100*(t.area.h-e.area.y-e.area.h)/t.area.h)),e.autoLayout.rules.relBottom=n,delete e.autoLayout.rules.bottom,(e.autoLayout.rules.hasOwnProperty("top")||e.autoLayout.rules.hasOwnProperty("relTop"))&&(delete e.autoLayout.rules.height,delete e.autoLayout.rules.relHeight)}function m(e,t){e.autoLayout.rules.hcenter?(e.autoLayout.rules.right=i.Z.roundPrecise1(t.area.w-e.area.x-e.area.w),e.autoLayout.rules.width=i.Z.roundPrecise1(e.area.w),e.autoLayout.rules.hcenter=!1):(e.autoLayout.rules.hasOwnProperty("left")||e.autoLayout.rules.hasOwnProperty("relLeft"))&&(e.autoLayout.rules.hasOwnProperty("width")||e.autoLayout.rules.hasOwnProperty("relWidth")?e.autoLayout.rules.right=i.Z.roundPrecise1(t.area.w-e.area.x-e.area.w):(e.autoLayout.rules.width=i.Z.roundPrecise1(e.area.w),e.autoLayout.rules.hasOwnProperty("right")&&e.autoLayout.rules.hasOwnProperty("relRight")||(e.autoLayout.rules.right=i.Z.roundPrecise1(t.area.w-e.area.x-e.area.w)))),delete e.autoLayout.rules.left,delete e.autoLayout.rules.relLeft}function g(e,t){e.autoLayout.rules.hcenter&&(e.autoLayout.rules.hcenter=!1),e.autoLayout.rules.left=i.Z.roundPrecise1(e.area.x),(e.autoLayout.rules.hasOwnProperty("right")||e.autoLayout.rules.hasOwnProperty("relRight"))&&(delete e.autoLayout.rules.width,delete e.autoLayout.rules.relWidth)}function v(e,t){e.autoLayout.rules.hcenter&&(e.autoLayout.rules.hcenter=!1);let n=0;i.Z.tooSmall(t.area.w)||(n=i.Z.roundPrecise1(100*e.area.x/t.area.w)),e.autoLayout.rules.relLeft=n,delete e.autoLayout.rules.left,(e.autoLayout.rules.hasOwnProperty("right")||e.autoLayout.rules.hasOwnProperty("relRight"))&&(delete e.autoLayout.rules.width,delete e.autoLayout.rules.relWidth)}function y(e,t){e.autoLayout.rules.hcenter?(e.autoLayout.rules.left=i.Z.roundPrecise1(e.area.x),e.autoLayout.rules.width=i.Z.roundPrecise1(e.area.w),e.autoLayout.rules.hcenter=!1):(e.autoLayout.rules.hasOwnProperty("right")||e.autoLayout.rules.hasOwnProperty("relRight"))&&(e.autoLayout.rules.hasOwnProperty("width")||e.autoLayout.rules.hasOwnProperty("relWidth")?e.autoLayout.rules.left=i.Z.roundPrecise1(e.area.x):(e.autoLayout.rules.width=i.Z.roundPrecise1(e.area.w),e.autoLayout.rules.hasOwnProperty("left")&&e.autoLayout.rules.hasOwnProperty("relLeft")||(e.autoLayout.rules.left=i.Z.roundPrecise1(e.area.x)))),delete e.autoLayout.rules.right,delete e.autoLayout.rules.relRight}function b(e,t){e.autoLayout.rules.hcenter&&(e.autoLayout.rules.hcenter=!1),e.autoLayout.rules.right=i.Z.roundPrecise1(t.area.w-e.area.x-e.area.w),(e.autoLayout.rules.hasOwnProperty("left")||e.autoLayout.rules.hasOwnProperty("relLeft"))&&(delete e.autoLayout.rules.width,delete e.autoLayout.rules.relWidth)}function x(e,t){e.autoLayout.rules.hcenter&&(e.autoLayout.rules.hcenter=!1);let n=0;i.Z.tooSmall(t.area.w)||(n=i.Z.roundPrecise1(100*(t.area.w-e.area.x-e.area.w)/t.area.w)),e.autoLayout.rules.relRight=n,delete e.autoLayout.rules.right,(e.autoLayout.rules.hasOwnProperty("left")||e.autoLayout.rules.hasOwnProperty("relLeft"))&&(delete e.autoLayout.rules.width,delete e.autoLayout.rules.relWidth)}function w(e,t){e.autoLayout.rules.hcenter=!1,e.autoLayout.rules.hasOwnProperty("left")||e.autoLayout.rules.hasOwnProperty("relLeft")||(e.autoLayout.rules.left=i.Z.roundPrecise1(e.area.x)),e.autoLayout.rules.hasOwnProperty("right")||e.autoLayout.rules.hasOwnProperty("relRight")||(e.autoLayout.rules.right=i.Z.roundPrecise1(t.area.w-e.area.x-e.area.w)),delete e.autoLayout.rules.width,delete e.autoLayout.rules.relWidth}function A(e,t){if(delete e.autoLayout.rules.relWidth,e.autoLayout.rules.width=i.Z.roundPrecise1(e.area.w),e.autoLayout.rules.hcenter)return;const n=e.autoLayout.rules.hasOwnProperty("left")||e.autoLayout.rules.hasOwnProperty("relLeft"),r=e.autoLayout.rules.hasOwnProperty("right")||e.autoLayout.rules.hasOwnProperty("relRight");n&&r&&(delete e.autoLayout.rules.right,delete e.autoLayout.rules.relRight)}function C(e,t){if(delete e.autoLayout.rules.width,e.autoLayout.rules.relWidth=i.Z.tooSmall(t.area.w)?0:i.Z.roundPrecise1(100*e.area.w/t.area.w),e.autoLayout.rules.hcenter)return;const n=e.autoLayout.rules.hasOwnProperty("left")||e.autoLayout.rules.hasOwnProperty("relLeft"),r=e.autoLayout.rules.hasOwnProperty("right")||e.autoLayout.rules.hasOwnProperty("relRight");n&&r&&(delete e.autoLayout.rules.right,delete e.autoLayout.rules.relRight)}function k(e,t){e.autoLayout.rules.vcenter=!1,e.autoLayout.rules.hasOwnProperty("top")||e.autoLayout.rules.hasOwnProperty("relTop")||(e.autoLayout.rules.top=i.Z.roundPrecise1(e.area.y)),e.autoLayout.rules.hasOwnProperty("bottom")||e.autoLayout.rules.hasOwnProperty("relBottom")||(e.autoLayout.rules.bottom=i.Z.roundPrecise1(t.area.h-e.area.y-e.area.h)),delete e.autoLayout.rules.height,delete e.autoLayout.rules.relHeight}function S(e,t){if(delete e.autoLayout.rules.relHeight,e.autoLayout.rules.height=i.Z.roundPrecise1(e.area.h),e.autoLayout.rules.vcenter)return;const n=e.autoLayout.rules.hasOwnProperty("top")||e.autoLayout.rules.hasOwnProperty("relTop"),r=e.autoLayout.rules.hasOwnProperty("bottom")||e.autoLayout.rules.hasOwnProperty("relBottom");n&&r&&(delete e.autoLayout.rules.bottom,delete e.autoLayout.rules.relBottom)}function P(e,t){if(delete e.autoLayout.rules.height,e.autoLayout.rules.relHeight=i.Z.tooSmall(t.area.h)?0:i.Z.roundPrecise1(100*e.area.h/t.area.h),e.autoLayout.rules.hcenter)return;const n=e.autoLayout.rules.hasOwnProperty("top")||e.autoLayout.rules.hasOwnProperty("relTop"),r=e.autoLayout.rules.hasOwnProperty("bottom")||e.autoLayout.rules.hasOwnProperty("relBottom");n&&r&&(delete e.autoLayout.rules.bottom,delete e.autoLayout.rules.relBottom)}function I(e,t){if(!e.autoLayout||!e.autoLayout.on||!e.autoLayout.rules)return[];const n=[],o=(0,r.rs)(e.area.w/2,0,e),s=(0,r.rs)(e.area.x+e.area.w/2,0,t),a=(0,r.rs)(e.area.w,e.area.h/2,e),l=(0,r.rs)(t.area.w,e.area.y+e.area.h/2,t),c=(0,r.rs)(e.area.w/2,e.area.h,e),h=(0,r.rs)(e.area.x+e.area.w/2,t.area.h,t),d=(0,r.rs)(0,e.area.h/2,e),u=(0,r.rs)(0,e.area.y+e.area.h/2,t),p=e.autoLayout.rules;return p.hcenter?(n.push({t:"line",p1:d,p2:u}),n.push({t:"line",p1:a,p2:l}),n.push({t:"label",text:"center",x:(d.x+u.x)/2,y:(d.y+u.y)/2,limit:i.Z.distanceBetweenPoints(d.x,d.y,u.x,u.y)}),n.push({t:"label",text:"center",x:(a.x+l.x)/2,y:(a.y+l.y)/2,limit:i.Z.distanceBetweenPoints(a.x,a.y,l.x,l.y)})):((p.hasOwnProperty("left")||p.hasOwnProperty("relLeft"))&&(n.push({t:"line",p1:d,p2:u}),p.hasOwnProperty("relLeft")?n.push({t:"label",text:i.Z.roundPrecise1(p.relLeft)+" %",x:(d.x+u.x)/2,y:(d.y+u.y)/2,limit:i.Z.distanceBetweenPoints(d.x,d.y,u.x,u.y)}):n.push({t:"label",text:""+i.Z.roundPrecise1(p.left),x:(d.x+u.x)/2,y:(d.y+u.y)/2,limit:i.Z.distanceBetweenPoints(d.x,d.y,u.x,u.y)})),(p.hasOwnProperty("right")||p.hasOwnProperty("relRight"))&&(n.push({t:"line",p1:a,p2:l}),p.hasOwnProperty("relRight")?n.push({t:"label",text:i.Z.roundPrecise1(p.relRight)+" %",x:(a.x+l.x)/2,y:(a.y+l.y)/2,limit:i.Z.distanceBetweenPoints(a.x,a.y,l.x,l.y)}):n.push({t:"label",text:""+i.Z.roundPrecise1(p.right),x:(a.x+l.x)/2,y:(a.y+l.y)/2,limit:i.Z.distanceBetweenPoints(a.x,a.y,l.x,l.y)}))),p.vcenter?(n.push({t:"line",p1:o,p2:s}),n.push({t:"line",p1:c,p2:h}),n.push({t:"label",text:"center",x:(o.x+s.x)/2,y:(o.y+s.y)/2,limit:i.Z.distanceBetweenPoints(o.x,o.y,s.x,s.y)}),n.push({t:"label",text:"center",x:(c.x+h.x)/2,y:(c.y+h.y)/2,limit:i.Z.distanceBetweenPoints(c.x,c.y,h.x,h.y)})):((p.hasOwnProperty("top")||p.hasOwnProperty("relTop"))&&(n.push({t:"line",p1:o,p2:s}),p.hasOwnProperty("relTop")?n.push({t:"label",text:i.Z.roundPrecise1(p.relTop)+" %",x:(o.x+s.x)/2,y:(o.y+s.y)/2,limit:i.Z.distanceBetweenPoints(o.x,o.y,s.x,s.y)}):n.push({t:"label",text:""+i.Z.roundPrecise1(p.top),x:(o.x+s.x)/2,y:(o.y+s.y)/2,limit:i.Z.distanceBetweenPoints(o.x,o.y,s.x,s.y)})),(p.hasOwnProperty("bottom")||p.hasOwnProperty("relBottom"))&&(n.push({t:"line",p1:c,p2:h}),p.hasOwnProperty("relBottom")?n.push({t:"label",text:i.Z.roundPrecise1(p.relBottom)+" %",x:(c.x+h.x)/2,y:(c.y+h.y)/2,limit:i.Z.distanceBetweenPoints(c.x,c.y,h.x,h.y)}):n.push({t:"label",text:""+i.Z.roundPrecise1(p.bottom),x:(c.x+h.x)/2,y:(c.y+h.y)/2,limit:i.Z.distanceBetweenPoints(c.x,c.y,h.x,h.y)}))),n}},3086:(e,t,n)=>{"use strict";n.d(t,{It:()=>a,_W:()=>l,vq:()=>s});const i=["Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif','"Book Antiqua", Palatino, serif','"Comic Sans MS", cursive, sans-serif','"Courier New", Courier, monospace',"Georgia, serif","Helvetica, sans-serif","Impact, Charcoal, sans-serif",'"Lucida Grande", sans-serif','"Lucida Sans Unicode", "Lucida Grande", sans-serif','"Lucida Console", Monaco, monospace',"Monaco, monospace",'"Palatino Linotype", "Book Antiqua", Palatino, serif',"Tahoma, Geneva, sans-serif",'"Times New Roman", Times, serif','"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif","Alfa Slab One","Cherry Swash","Caveat Brush","Heebo","Carter One","Permanent Marker","Josefin Sans","Cherry Swash","Josefin Sans","Knewave","Nunito","Caveat","Indie-Flower","Single-Day"],r=function(){const e={};for(let t=0;t<i.length;t++){let n=i[t].indexOf(","),r=i[t].trim();n>0&&(r=i[t].substring(0,n).trim()),'"'===r.charAt(0)&&'"'===r.charAt(r.length-1)&&(r=r.substring(1,r.length-1)),e[r]=i[t]}return e}(),o=function(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({name:n,family:e[n]});return t.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),t}(r);function s(){return"Arial"}function a(e){return r[e]||"Arial, Helvetica, sans-serif"}function l(){return o}},7196:(e,t,n)=>{"use strict";n.d(t,{$9:()=>d,DD:()=>p,Hp:()=>g,U3:()=>x,XZ:()=>m,_U:()=>A,bL:()=>C,eN:()=>l,f0:()=>b,kT:()=>f,pp:()=>a,qv:()=>c,tb:()=>v,td:()=>h,u2:()=>w});var i=n(520),r=n(9149),o=n(3086),s=n(6234);n(2643);const a={NONE:"none",SIDE_PANEL:"side-panel",TOOLTIP:"tooltip",values(){return i.Z.enumerateConstants(this)}},l=[{field:"color",name:"Color",type:"color"},{field:"bold",name:"Bold",type:"boolean"},{field:"halign",name:"Horizontal Align",type:"choice",options:["left","center","right"]},{field:"valign",name:"Vertical Align",type:"choice",options:["top","middle","bottom"]},{field:"fontSize",name:"Font Size",type:"number"},{field:"whiteSpace",name:"White Space",type:"choice",options:[{name:"Wrap",value:"normal"},{name:"No Wrap",value:"nowrap"},{name:"Preserved",value:"pre"},{name:"Preserved + Wrap",value:"pre-wrap"}].map((e=>e.value))},{field:"font",name:"Font",type:"choice",options:(0,s.UI)((0,o._W)(),(e=>e.name))},{field:"paddingLeft",name:"Padding Left",type:"number"},{field:"paddingRight",name:"Padding Right",type:"number"},{field:"paddingTop",name:"Padding Top",type:"number"},{field:"paddingBottom",name:"Padding Bottom",type:"number"},{field:"letterSpacing",name:"Letter spacing",type:"number",min:0},{field:"lineHeight",name:"Line height",type:"number",min:0}],c={none:{id:"none",name:"None",description:"Cannot be dragged"},free:{id:"free",name:"Free",description:"Can be dragged and dropped anywhere on the scene"},path:{id:"path",name:"Path",description:"Can be dragged only along specified path"},dragndrop:{id:"dragndrop",name:"Drag-n-drop",description:"Can be dragged but has to be dropped to designated drop area, otherwise the item will return to its original position"}},h={text:"",bold:!1,color:"rgba(0,0,0,1.0)",halign:"center",valign:"middle",fontSize:14,whiteSpace:"normal",font:(0,o.vq)(),paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,letterSpacing:0,lineHeight:1},d={fill:{type:"solid",color:"rgba(240,240,240,1.0)"},strokeColor:"rgba(30,30,30,1.0)",strokeSize:2,strokePattern:"solid"},u={x:0,y:0,w:0,h:0,r:0,px:.5,py:.5,sx:1,sy:1},p={opacity:{type:"number",name:"Opacity"},selfOpacity:{type:"number",name:"Self opacity"},visible:{type:"boolean",name:"Visible"},clip:{type:"boolean",name:"Clip"},"behavior.dragging":{type:"choice",name:"Dragging",options:["none","free","path","dragndrop"]}},f={area:u,opacity:100,selfOpacity:100,visible:!0,tags:[],links:[],blendMode:"normal",cursor:"default",shape:"none",clip:!1,mount:!0,effects:[],textSlots:{"*":h},description:"",interactionMode:a.TOOLTIP,autoLayout:{on:!1,rules:{}},behavior:{events:[],dragging:"none",dropTo:"",dragPath:"",dragPathAlign:!1,dragPathRotation:0},shapeProps:{},tooltipBackground:"rgba(230,230,230,1.0)",tooltipColor:"rgba(30,30,30,1.0)"},m={cursor:"default",area:u,shape:"empty",opacity:100,blendMode:"normal",name:"",description:"",links:[],textSlots:{},autoLayout:{on:!1},behavior:{events:[],dragging:"none",dropTo:"",dragPath:""}};function g(e,t){y(e,null,t)}function v(e,t){y(e,null,t,!0)}function y(e,t,n,i){Array.isArray(e)&&e.forEach(((e,r)=>{const o=n(e,t,r);i&&!o||(e.childItems&&y(e.childItems,e,n,i),e._childItems&&y(e._childItems,e,n,i))}))}function b(e,t){let n=[].concat(e);for(;n.length>0;){const e=n.shift();if(t(e))return e;e.childItems&&e.childItems.length>0&&(n=n.concat(e.childItems)),e._childItems&&e._childItems.length>0&&(n=n.concat(e._childItems))}return null}function x(e){return e.description.trim().length>8}function w(e,t){const n=p[t];if(n)return n;if(e&&0===t.indexOf("shapeProps.")){const n=t.substr(11);if("standard"===e.shapeType&&r.Z.standardShapeProps.hasOwnProperty(n))return r.Z.standardShapeProps[n];if(e.args.hasOwnProperty(n))return e.args[n]}else if(0===t.indexOf("textSlots.")){const e=t.indexOf(".",11),n=t.substr(e+1),i=(0,s.sE)(l,(e=>e.field===n));if(i)return i}return null}function A(e){const t=e.area.w,n=e.area.h;return`M ${t} ${n}  L 0 ${n} L 0 0  L ${t} 0  L ${t} ${n} Z`}function C(e){const t=e.area.w,n=e.area.h;return`M 0 0 L ${t} 0  M ${t} 0 L ${t} ${n} M ${t} ${n} L 0 ${n} M 0 ${n} L 0 0`}new Set(["color","advanced-color","stroke-pattern","path-cap","number"])},1179:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});const i=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","difference","exclusion","hue","saturation","color","luminosity"]},1377:(e,t,n)=>{"use strict";n.d(t,{q4:()=>m,z9:()=>f});var i=n(7196),r=n(9149),o=n(4670),s=n.n(o),a=n(2643),l=n(8270),c=n(8145),h=n(6234),d=n(520);function u(e){e.id||(e.id=s().generate())}function p(e){u(e),e.hasOwnProperty("on")||(e.on=!0);const t=c.Z.main[e.method];return!!t&&(e.args||(e.args={}),(0,h.Ed)(t.args,((t,n)=>{e.args.hasOwnProperty(n)||(e.args[n]=t.value)})),(0,h.Ed)(e.args,((n,i)=>{t.args.hasOwnProperty(i)||delete e.args[i]})),!0)}function f(e){var t;e.textSlots||(e.textSlots={}),e.shape||(e.shape="none"),e.meta||(e.meta={strokeOffset:0}),"curve"===e.shape&&function(e){e.shape="path",!Array.isArray(e.shapeProps.paths)&&Array.isArray(e.shapeProps.points)&&(e.shapeProps.paths=[{points:e.shapeProps.points,closed:e.shapeProps.closed}],delete e.shapeProps.points,delete e.shapeProps.closed)}(e),"connector"===e.shape&&function(e){e.shapeProps&&Array.isArray(e.shapeProps.points)&&e.shapeProps.points.forEach((e=>{e.hasOwnProperty("id")||(e.id=s().generate()),(e.hasOwnProperty("bx")||e.hasOwnProperty("by"))&&(e.nx=e.bx,e.ny=e.by,delete e.bx,delete e.by)}))}(e),"path"===e.shape&&function(e){Array.isArray(e.shapeProps.paths)&&e.shapeProps.paths.forEach((t=>{t.id||(t.id=s().generate()),Array.isArray(t.points)||(t.points=[]),"relative"!==t.pos&&(t.pos="relative",t.points=t.points.map((t=>(0,l.Vk)(t,e.area.w,e.area.h)))),t.points.forEach((e=>{e.hasOwnProperty("id")||(e.id=s().generate())}))}))}(e),"frame_player"===e.shape&&function(e){e.shapeProps||(e.shapeProps={}),Array.isArray(e.shapeProps.animations)||(e.shapeProps.animations=[]),e.shapeProps.animations.forEach((e=>{"item"===e.kind?(e.hasOwnProperty("itemId")||(e.itemId=e.id,e.id=s().generate()),e.hasOwnProperty("id")||(e.id=s().generate())):"function"===e.kind&&(e.hasOwnProperty("funcId")||(e.funcId=e.id,e.id=s().generate()),e.hasOwnProperty("id")||(e.id=s().generate()))}))}(e),(0,a.I)(e,i.kT),function(e){if(Array.isArray(e.groups)){const t=new Set(e.groups);Array.isArray(e.tags)&&e.tags.forEach((e=>t.add(e))),e.tags=Array.from(t),delete e.groups}}(e),t=e.behavior,(0,h.Ed)(t.events,(e=>{u(e),(0,h.Ed)(e.actions,p);for(let t=e.actions.length-1;t>=0;t--)(e.actions[t].method||"").startsWith("function:")||p(e.actions[t])||e.actions.splice(t,1)})),(0,h.Ed)(e.links,u);let n=r.Z.find(e.shape);if(!n)return;e.shapeProps||(e.shapeProps={}),n.fixItem&&n.fixItem(e),(0,h.Ed)(e.shapeProps,((t,i)=>{n.args&&n.args.hasOwnProperty(i)||delete e.shapeProps[i]})),(0,h.Ed)(n.args,((t,i)=>{e.shapeProps.hasOwnProperty(i)?"object"==typeof e.shapeProps[i]&&(0,a.I)(e.shapeProps[i],n.args[i].value):e.shapeProps[i]=d.Z.clone(t.value)})),"standard"===n.shapeType&&function(e){(0,a.I)(e.shapeProps,i.$9)}(e);const o=n.getTextSlots(e);o&&(0,h.Ed)(o,(t=>{e.textSlots.hasOwnProperty(t.name)||(e.textSlots[t.name]={},m(e.textSlots[t.name]))}))}function m(e){return(0,a.I)(e,i.td)}},2644:(e,t,n)=>{"use strict";n.d(t,{$o:()=>h,Ls:()=>y,N5:()=>u,PR:()=>c,aR:()=>v,av:()=>m,mo:()=>p,pD:()=>g,rs:()=>d,uI:()=>f,wW:()=>l});var i=n(6234),r=n(9149),o=n(2017),s=n(3590);const a=new o.Yd("ItemMath");function l(e){return(0,i.hX)(e,(e=>"hud"!==e.shape&&!e.meta.isInHUD))}function c(e,t){if("view"===t&&(e=l(e)),!e||0===e.length)return null;let n=(0,i.hX)(e,(e=>("view"!==t||"dummy"!==e.shape)&&e.visible&&e.meta.calculatedVisibility));return 0===n.length&&e.length>0&&(n=e),m(n)}function h(e,t,n){let i=1;return e.w>0&&e.h>0&&t>0&&n>0&&(i=Math.floor(100*Math.min(t/e.w,n/e.h))/100,i=Math.max(1e-4,i)),{x:t/2-(e.x+e.w/2)*i,y:n/2-(e.y+e.h/2)*i,scale:i}}function d(e,t,n){return s.Z.worldPointInArea(e,t,n.area,n.meta&&n.meta.transformMatrix?n.meta.transformMatrix:null)}function u(e,t,n){return s.Z.localPointInArea(e,t,n.area,n.meta&&n.meta.transformMatrix?n.meta.transformMatrix:null)}function p(e){const t=f(e.area.w,0,e);return 180*s.Z.fullAngleForVector(t.x,t.y)/Math.PI}function f(e,t,n){const i=d(0,0,n),r=d(e,t,n);return{x:r.x-i.x,y:r.y-i.y}}function m(e){if(!e||0===e.length)return{x:0,y:0,w:0,h:0};let t=null;return(0,i.Ed)(e,(e=>{const n=[d(0,0,e),d(e.area.w,0,e),d(e.area.w,e.area.h,e),d(0,e.area.h,e)];(0,i.Ed)(n,(e=>{t?(t.x1>e.x&&(t.x1=e.x),t.x2<e.x&&(t.x2=e.x),t.y1>e.y&&(t.y1=e.y),t.y2<e.y&&(t.y2=e.y)):t={x1:e.x,x2:e.x,y1:e.y,y2:e.y}}))})),{x:t.x1,y:t.y1,w:t.x2-t.x1,h:t.y2-t.y1}}function g(e){const t=f(1,0,e),n=f(0,1,e);return{x:s.Z.vectorLength(t.x,t.y),y:s.Z.vectorLength(n.x,n.y)}}function v(e){const t=e.meta&&e.meta.transformMatrix?e.meta.transformMatrix:s.Z.identityMatrix();return s.Z.standardTransformWithArea(t,e.area)}function y(e){a.info("Computing shape outline for item",e.id,e.name);const t=r.Z.find(e.shape);if(t){const n=t.computeOutline(e);if(n){const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",n),e}}return null}},1757:(e,t,n)=>{"use strict";n.d(t,{W4:()=>ge,pf:()=>ve,hG:()=>ye,ZP:()=>Pe});var i=n(6234);class r{constructor(e,t,n){this.point={x:e,y:t},this.value=n,this.nw=null,this.ne=null,this.sw=null,this.se=null}addPoint(e,t,n){e>=this.point.x&&t>=this.point.y?this.se=o(this.se,e,t,n):e<=this.point.x&&t>=this.point.y?this.sw=o(this.sw,e,t,n):e>=this.point.x&&t<=this.point.y?this.ne=o(this.ne,e,t,n):this.nw=o(this.nw,e,t,n)}forEachInRange(e,t,n,i,r){e<=this.point.x&&this.point.x<=n&&t<=this.point.y&&this.point.y<=i&&r(this.value,this.point),this.se&&(e>=this.point.x||n>=this.point.x)&&(t>=this.point.y||i>=this.point.y)&&this.se.forEachInRange(e,t,n,i,r),this.sw&&(e<=this.point.x||n<=this.point.x)&&(t>=this.point.y||i>=this.point.y)&&this.sw.forEachInRange(e,t,n,i,r),this.ne&&(e>=this.point.x||n>=this.point.x)&&(t<=this.point.y||i<=this.point.y)&&this.ne.forEachInRange(e,t,n,i,r),this.nw&&(e<=this.point.x||n<=this.point.x)&&(t<=this.point.y||i<=this.point.y)&&this.nw.forEachInRange(e,t,n,i,r)}}function o(e,t,n,i){return e?(e.addPoint(t,n,i),e):new r(t,n,i)}class s{constructor(){this.root=null}addPoint(e,t,n){this.root?this.root.addPoint(e,t,n):this.root=new r(e,t,n)}forEachInRange(e,t,n,i,r){if(!this.root)return[];this.root.forEachInRange(e,t,n,i,r)}}var a=n(3590),l=n(520),c=n(4670),h=n.n(c),d=n(9149),u=n(6222),p=n(7196),f=n(1377),m=n(2643);const g={name:"",description:"",tags:[],items:[],scripts:{main:{source:""},functions:[]},settings:{screen:{draggable:!0}},style:{backgroundColor:"rgba(240, 240, 240, 1.0)",gridColor:"rgba(128 ,128, 128, 0.2)",boundaryBoxColor:"rgba(36, 182, 255, 1)",controlPointsColor:"rgba(4,177,23, 1.0)"}};var v=n(2017),y=n(8145),b=n(3805),x=n(6012),w=n(2217),A=n(1179);const C={moveAlongPath:n(3277).Z};var k=n(8595);const S=!0,P="number",I="color",E="boolean",_="string",T=new Set([P,I,_,E,"choice"]),$=new Map([["area.x",{type:P,name:"Position X"}],["area.y",{type:P,name:"Position Y"}],["area.w",{type:P,name:"Width"}],["area.h",{type:P,name:"Height"}],["area.r",{type:P,name:"Rotation"}],["area.sx",{type:P,name:"Scale X"}],["area.sy",{type:P,name:"Scale Y"}],["opacity",{type:P,name:"Opacity"}],["selfOpacity",{type:P,name:"Self opacity"}],["visible",{type:E,name:"Visible"}],["blendMode",{type:_,options:A.W,name:"Blend mode"}]]),M=new Map([["style.backgroundColor",{type:I,name:"Background color"}]]);function O(e,t){e.sort(((e,t)=>e.frame-t.frame));const n=[],r=(e,t,i)=>{const r={prevIdx:t,nextIdx:i};for(let t=0;t<e;t++)n.push(r)};let o=-1;return(0,i.Ed)(e,(e=>{if(o>=0&&n[o].frame.frame===e.frame)return;const t={frame:e,prevIdx:o,nextIdx:-1};e.frame-1>n.length&&r(e.frame-1-n.length,o,e.frame-1),n.push(t),o>=0&&(n[o].nextIdx=e.frame-1),o=e.frame-1})),n.length<t&&r(t-n.length,o,-1),n}function D(e,t,n,i){if(t.kind===b.jU.STEP)return t.value;if(i===P||i===I){let r=n.frame-t.frame;if(r>0&&e>=t.frame&&e<=n.frame){const o=(0,b.rJ)((e-t.frame)/r,t.kind);return function(e,t,n,i){if(e===P)return t*(1-i)+i*n;if(e===I){const e=(0,x.lu)(t),r=(0,x.lu)(n),o={r:e.r*(1-i)+i*r.r,g:e.g*(1-i)+i*r.g,b:e.b*(1-i)+i*r.b,a:e.a*(1-i)+i*r.a};return(0,x.N_)(o)}return t}(i,t.value,n.value,o)}}return t.value}function L(e,t,n,i,r,o,s){if(!i)return null;const a=n.split("."),c=O(r,o);return{toggleFrame(n){if(n<1)return;const r=Math.floor(n);let o=null;o=r<=c.length?c[r-1]:c[c.length-1];let h=o;if(!o.frame){if(o.prevIdx<0)return;h=c[o.prevIdx]}let d=null;o.nextIdx>=0&&(d=c[o.nextIdx]);let u=h.frame.value;d&&(u=D(n,h.frame,d.frame,i.type)),l.Z.setObjectProperty(t,a,u),s&&"area"===a[0]&&e.readjustItemAndDescendants(t.id,S),s&&"visible"===a[0]&&e.updateVisibility(t),s&&k.Z.item.changed.specific.$emit(e.editorId,t.id)}}}function N(e,t){const n=[],r={};return(0,i.Ed)(e.shapeProps.animations,(i=>{if("item"===i.kind){const r=t.findItemById(i.itemId);if(r){const o=function(e,t){const n=$.get(t);if(n)return n;if(t.startsWith("shapeProps.")){const n=t.split(".");if(n.length<=1)return null;const i=d.Z.find(e.shape);if(!i)return null;const r=d.Z.getShapePropDescriptor(i,n[1]);if(!r)return null;if(r.type===I||"advanced-color"===r.type&&3===n.length&&n[2]===I)return{type:I,name:r.name};if(T.has(r.type))return r}return null}(r,i.property),s=L(t,r,i.property,o,i.frames,e.shapeProps.totalFrames,!0);s&&n.push(s)}}else if("function"===i.kind)r.hasOwnProperty(i.funcId)||(r[i.funcId]={}),r[i.funcId][i.property]=i;else if("scheme"===i.kind){const r=(o=i.property,M.get(o)),s=L(t,t.scheme,i.property,r,i.frames,e.shapeProps.totalFrames,!1);s&&n.push(s)}var o})),n.concat(function(e,t,n){const r=[];return(0,i.Ed)(e.shapeProps.animations,(o=>{if("function"!==o.kind||!o.funcId)return;const s=e.shapeProps.functions[o.funcId];if(!s)return;if(!t[o.funcId])return;const a=C[s.functionId];if(!a)return;const l=a.create(s.args,n),c={};(0,i.Ed)(a.inputs,((e,n)=>{t[o.funcId][n]?c[n]=t[o.funcId][n]:c[n]={kind:"function",functionId:o.funcId,property:n,frames:[{frame:0,kind:"linear",value:e.value}]}}));const h=function(e,t,n,r){const o={};return(0,i.Ed)(n,((e,t)=>{o[t]=O(e.frames,r)})),{toggleFrame(n){if(n<1)return;const r=Math.floor(n),s={};let a=!1;(0,i.Ed)(o,((t,i)=>{let o=null;o=r<=t.length?t[r-1]:t[t.length-1];let l=o;if(!o.frame){if(o.prevIdx<0)return void(a=!0);l=t[o.prevIdx]}let c=null;o.nextIdx>=0&&(c=t[o.nextIdx]);let h=l.frame.value;c&&(h=D(n,l.frame,c.frame,e.inputs[i].type)),s[i]=h})),a||e.execute(t,s)}}}(a,l,c,e.shapeProps.totalFrames);h&&r.push(h)})),r}(e,r,t))}class B extends w.Z{constructor(e,t,n){super(),this.totalTimePassed=0,this.currentFrame=0,this.startFrame=1,this.fps=e,this.totalFrames=t,this.compiledAnimations=n,this.onFrame=null,this.onFinish=null,this.stopFrame=-1}setFrame(e){this.startFrame=e,this.currentFrame=Math.floor(e)-1}setStopFrame(e){this.stopFrame=e}init(){return this.totalTimePassed=0,!0}setCallbacks({onFrame:e,onFinish:t}){this.onFrame=e,this.onFinish=t}play(e){this.totalTimePassed+=e;let t=this.startFrame+this.totalTimePassed*Math.max(this.fps,.01)/1e3,n=Math.floor(t);n>this.currentFrame&&(this.currentFrame=n,this.onFrame&&this.onFrame(this.currentFrame));const i=Math.floor(t);return this.stopFrame>0&&i===this.stopFrame?(this.onFrame&&this.onFrame(this.stopFrame),this.toggleFrame(this.stopFrame),!1):(this.toggleFrame(t),n<this.totalFrames)}toggleFrame(e){this.startFrame=e,this.totalTimePassed=0,this.currentFrame=e,(0,i.Ed)(this.compiledAnimations,(t=>{t.toggleFrame(e)}))}destroy(){this.onFinish&&this.onFinish()}}var R=n(8814);function Z(e,t){return{findItemByTemplatedId:F(t),moveNativeChildren:U(t),copyNativeChildren:H(t),swapNativeChildren:V(t),duplicateItem:z(t),updateItem:j(e,t),clone:e=>l.Z.clone(e)}}function F(e){return t=>q(e,t)}function j(e,t){return(n,i)=>{const r=q(t,n);r&&(i(r),(0,f.z9)(r),k.Z.item.changed.specific.$emit(e,r.id),k.Z.schemeChangeCommitted.$emit(e))}}function z(e){return(t,n,i)=>{const r=W(e,t);if(!r)return;const o=r.item,s=r.parentItem,a={id:h().generate(),name:i,args:{templated:!0,templatedId:n}};for(let e in o)o.hasOwnProperty(e)&&"childItems"!==e&&"meta"!==e&&"args"!==e&&"id"!==e&&"name"!==e&&(a[e]=l.Z.clone(o[e]));s.childItems.push(a)}}function U(e){return(t,n)=>{const i=q(e,t),r=q(e,n);i&&r&&(r.childItems=i.childItems||[],i.childItems=[])}}function H(e){return(t,n)=>{const i=q(e,t),r=q(e,n);i&&r&&Array.isArray(i.childItems)&&(Array.isArray(r.childItems)||(r.childItems=[]),i.childItems.forEach((e=>{e.args&&e.args.templatedId&&!e.args.templateRef||r.childItems.push(function(e){const t=l.Z.clone(e);return(0,p.Hp)([t],(e=>{e.id=h().generate(),e.meta={}})),t}(e))})))}}function V(e){return(t,n)=>{const i=q(e,t),r=q(e,n);if(!i||!r)return;const o=r.childItems;r.childItems=i.childItems||[],i.childItems=o}}function q(e,t){if(e.args&&e.args.templatedId===t)return e;if(!Array.isArray(e.childItems))return null;let n=[].concat(e.childItems);for(;n.length>0;){const e=n.shift();if(e.args&&e.args.templatedId===t)return e;e.args&&e.args.templatedId&&!e.args.templateRef&&Array.isArray(e.childItems)&&(n=n.concat(e.childItems))}return null}function W(e,t){if(!Array.isArray(e.childItems))return null;for(let n=0;n<e.childItems.length;n++){const i=e.childItems[n];if(i.args&&i.args.templated&&!i.args.templateRef){if(i.args.templatedId===t)return{item:i,parentItem:e};const n=W(i,t);if(n)return n}}return null}var G=n(8197),J=n(9532),K=n(387);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(5833);const ee={BUILD:"build",POST_BUILD:"post-build",EVENT:"event"};class te{constructor(e,t,n){this.phase=e,this.eventName=t,this.eventId=n}}const ne={panels:[]};function ie(e){(0,f.z9)(e),Array.isArray(e.childItems)&&e.childItems.forEach(ie)}function re(e){const t=e.join("\n");return(0,J.BJ)(t)}function oe(e,t,n){const r=le(t.init),o=(0,R.nh)({"$-eval":r,controls:t.controls||[]}),s=(0,R.nh)({"$-eval":r,item:t.item}),a=(0,R.nh)({item:t.item}),l=(0,R.nh)({"$-eval":r,editor:t.editor||ne}),c=re(r),h={};t.handlers&&(0,i.b0)(t.handlers,((e,t)=>{const n=le(e);h[t]=re(n)}));const d={};return(0,i.b0)(t.args,((e,t)=>{d[t]=e})),{name:t.name,description:t.description,preview:t.preview,defaultArea:t.defaultArea||{x:0,y:0,w:350,h:200,px:.5,py:.5,sx:1,sy:1},templateRef:n,args:t.args||{},argsDef:t.args,defaultArgs:d,hasHandler:e=>h.hasOwnProperty(e),triggerTemplateEvent(n,r,o){if(!h.hasOwnProperty(r))return null;const s=Y(Y(Y(Y({},d),n.args.templateArgs),Z(e,n)),{},{width:n.area.w,height:n.area.h,context:new te(ee.EVENT,r,n.id)}),a=new K.s(s);c.evalNode(a),(0,i.b0)(o,((e,t)=>{a.set(t,e)})),h[r].evalNode(a);const l=a.getData(),u={};return(0,i.b0)(t.args,((e,t)=>{u[t]=l[t]})),l.hasOwnProperty("width")&&(u.width=l.width),l.hasOwnProperty("height")&&(u.height=l.height),n.args.templateArgs=u,l},onDeleteItem(e,t,n){return this.triggerTemplateEvent(e,"delete",{itemId:t,item:n})},onAreaUpdate(e,t,n,i){return this.triggerTemplateEvent(e,"area",{itemId:t,item:n,area:i})},onCopyItem(e,t,n){return this.triggerTemplateEvent(e,"copy",{itemId:t,item:n})},onPasteItemInto(e,t,n){return this.triggerTemplateEvent(e,"paste",{itemId:t,items:n})},buildItem:(e,t,n,i)=>i?a(Y(Y({},e),{},{width:t,height:n,context:new te(ee.POST_BUILD,null,"")})).item:s(Y(Y({},e),{},{width:t,height:n,context:new te(ee.BUILD,null,"")})).item,buildEditor:(t,n,i,o,s)=>function(e,t,n,i,r,o){const s=Y({selectedItemIds:new G.a(...o)},Z(e,i)),a=Y(Y(Y({},r),s),{},{context:new te(ee.EVENT,"editor","")}),l=t(a).editor;return l&&Array.isArray(l.panels)?{panels:l.panels.map((e=>{let t=()=>!0;e.condition&&(t=(0,R.at)(e.condition,a));let r=null;if(e.click){const t=(0,R.QQ)(n.concat([e.click]),{context:new te(ee.EVENT,"panel-click",e.id)});r=e=>{const n=Y(Y(Y({},i.args&&i.args.templateArgs?i.args.templateArgs:{}),{},{width:i.area.w,height:i.area.h},s),{},{panelItem:e});return t(n)}}const o=(e.items||[]).map((e=>(ie(e),e)));return Y(Y({},e),{},{slotSize:e.slotSize||{width:100,height:60},items:o,condition:t,click:r})})).filter((e=>e.condition()))}:ne}(e,l,r,t,Y(Y({},n),{},{width:i,height:o}),s),buildControls:(t,n,i)=>o(Y(Y({},t),{},{width:n,height:i,context:new te(ee.EVENT,"control","")})).controls.map((o=>{const s=[].concat(r).concat(le(o.click)),a=(0,R.QQ)(s,Y(Y({},t),{},{width:n,height:i,context:new te(ee.EVENT,"control",o.id)}));return Y(Y({},o),{},{click:t=>a(Y({control:o},Z(e,t)))})})),getDefaultArgs(){const e={};return(0,i.b0)(t.args||{},((t,n)=>{e[n]=t.value})),e}}}function se(e,t,n,r,o=!1){const s=e.buildItem(t,n,r,o);return s.area.w=n,s.area.h=r,(0,p.Hp)([s],((e,t)=>{e.args||(e.args={}),null===t||e.hasOwnProperty("locked")||(e.locked=!0),e.args.templatedId=e.id,e.args.templated=!0,(0,f.z9)(e)})),s.args.templateRef=e.templateRef,s.args.templateArgs={},(0,i.b0)(e.args,((e,n)=>{t.hasOwnProperty(n)&&(s.args.templateArgs[n]=t[n])})),s}function ae(e,t,n,r,o,s=!1){n||(n={}),n.hasOwnProperty("width")&&(r=n.width,e.area.w=r),n.hasOwnProperty("height")&&(o=n.height,e.area.h=o);const a=Y(Y({},t.getDefaultArgs()),n),l=se(t,a,r,o,s),c=new Map,d=new Map;(0,p.tb)([e],((e,t,n)=>!t||e.args&&e.args.templatedId&&!e.args.templateRef?(c.set(e.args.templatedId,e),!0):(d.has(t.args.templatedId)?d.get(t.args.templatedId).push(e):d.set(t.args.templatedId,[e]),!1)));const u=[],f=new Map;(0,p.Hp)([l],((e,t,n)=>{const r=c.get(e.args.templatedId);if(!r){const t=h().generate();return f.set(e.id,t),e.id=t,void u.push(e)}const o=function(e){if(!Array.isArray(e))return()=>!1;const t=e.map((e=>new RegExp(e)));return e=>{for(let n=0;n<t.length;n++)if(t[n].test(e))return!0;return!1}}(e.args&&e.args.templateIgnoredProps||[]);r.childItems=e.childItems;const s=e;for(let e in s){let n=s.hasOwnProperty(e)&&"id"!==e&&"meta"!==e&&"description"!==e&&"childItems"!==e&&"_childItems"!==e&&"textSlots"!==e;n&&!t&&(n="name"!==e&&"description"!==e&&"tags"!==e&&"area"!==e&&"autoLayout"!==e),n&&("shapeProps"===e&&s.shapeProps?(r.shapeProps||(r.shapeProps={}),(0,i.b0)(s.shapeProps,((e,t)=>{o(`shapeProps.${t}`)||(r.shapeProps[t]=e)}))):o(e)||("behavior"===e?r.behavior=ce(s.behavior,r.behavior):r[e]=s[e]))}f.set(e.args.templatedId,r.id),t&&(t.childItems[n]=r,u.push(r))}));const m=e=>{const t=d.get(e.args.templatedId);t&&t.length>0&&(e.childItems||(e.childItems=[]),e.childItems=e.childItems.concat(t))};m(e);for(let e=0;e<u.length;e++)m(u[e]);return f}function le(e){return Array.isArray(e)?[e.join("\n")]:"string"==typeof e?[e]:[]}function ce(e,t){const n=[],i=new Map;t.events.forEach((e=>{i.has(e.event)?i.get(e.event).push(e):i.set(e.event,[e])}));const r=new Set,o=e=>{const t=r.has(e.id)?h().generate():e.id;n.push(Y(Y({},e),{},{id:t}))};return e.events.forEach((e=>{const t=i.get(e.event);t&&t.shift(),o(e)})),i.forEach((e=>{0!==e.length&&e.forEach((e=>{o(e)}))})),Y(Y({},e),{},{events:n})}var he=n(2644),de=n(9087);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const me=new v.Yd("SchemeContainer"),ge={id:"",moved:!0,rotated:!1,resized:!1},ve={moved:!1,rotated:!1,resized:!0,id:""},ye={moved:!1,rotated:!0,resized:!1,id:""};function be(e){const t=(0,p.f0)(e,(e=>"dummy"===e.shape&&e.shapeProps.screenBounds)),n=t?[t]:e;if(!n||0===n.length)return{x:0,y:0,w:0,h:0};let r=null;return(0,i.Ed)(n,(e=>{const t=[{x:e.area.x,y:e.area.y},{x:e.area.x+e.area.w,y:e.area.y},{x:e.area.x+e.area.w,y:e.area.y+e.area.h},{x:e.area.x,y:e.area.y+e.area.h}];(0,i.Ed)(t,(e=>{r?(r.x1>e.x&&(r.x1=e.x),r.x2<e.x&&(r.x2=e.x),r.y1>e.y&&(r.y1=e.y),r.y2<e.y&&(r.y2=e.y)):r={x1:e.x,x2:e.x,y1:e.y,y2:e.y}}))})),{x:r.x1,y:r.y1,w:r.x2-r.x1,h:r.y2-r.y1}}function xe(e,t){!e.args||!e.args.templated||e.args.templateRef&&e.args.templateRef!==t||we([e],t,e.id)}function we(e,t,n){e.forEach((e=>{!e.args||!e.args.templated||e.args.templateRef&&e.args.templateRef!==t||(e.meta||(e.meta={}),e.meta.templated=!0,e.meta.templateRef=t,e.meta.templateRootId=n,Array.isArray(e.childItems)&&we(e.childItems,t,n),Array.isArray(e._childItems)&&we(e._childItems,t,n))}))}function Ae(){const e=l.Z.clone(p.XZ);return e.shape="rect",(0,f.z9)(e),e}function Ce(e){e.meta.revision=((e.meta.revision||0)+1)%1e3}function ke(e,t,n,i,r,o){if(e){n||(n=a.Z.identityMatrix()),r||(r=[]),void 0===o&&(o=!0);for(let s=0;s<e.length;s++){(0,m.I)(e[s].area,p.kT.area),t(e[s],n,i,r,o);const l=a.Z.standardTransformWithArea(n,e[s].area);e[s].childItems&&ke(e[s].childItems,t,l,e[s],r.concat([e[s].id]),o),e[s]._childItems&&ke(e[s]._childItems,t,l,e[s],r.concat([e[s].id]),!1)}}}class Se{constructor(e){this.itemPaths=new Map,this.cacheMissFallback=e}get(e){const t=this.itemPaths.get(e.id);return t&&t.revision===e.meta.revision?t.value:this.forceUpdate(e)}forceUpdate(e){const t=this.cacheMissFallback(e);return this.itemPaths.set(e.id,{revision:e.meta.revision,value:t}),t}}const Pe=class{constructor(e,t,n,i,r){v.qc.register("SchemioContainer",this),this.scheme=e,this.editorId=t,this.mode=n,this.apiClient=i,this.listener=r,this.screenTransform={x:0,y:0,scale:1},this.screenSettings={width:700,height:400,x1:-1e6,y1:-1e6,x2:1e6,y2:1e6},this.selectedItems=[],this.selectedConnectorPoints=[],this.compiledTemplates=new Map,this.selectedItemsMap={},this.activeBoundaryBox=null,this.itemMap={},this._itemArray=[],this.revision=0,this.hudItems=[],this.worldItems=[],this.worldItemAreas=new Map,this.dependencyItemMap={},this.itemCloneIds=new Map,this.itemCloneReferenceIds=new Map,this._itemTagsToIds={},this.itemTags=[],this.framePlayers=[],this.spatialIndex=new s,this.pinSpatialIndex=new s,this.connectorSpatialIndex=new s,this.framesAnimations={},this.componentItems=[],this.mainScopeData=null,this.svgOutlinePathCache=new Se(he.Ls),this.relativeSnappers={horizontal:[],vertical:[]},this.editBox=null,function(e){(0,m.I)(e,g)}(this.scheme),this.reindexTimeoutId=null,this.reindexItems()}hasDependencyOnItem(e,t){const n=this.dependencyItemMap[e];if(!n||0===n.length)return!1;for(let e=0;e<n.length;e++)if(n[e]===t)return!0;return!1}updateVisibility(e){const t=e.meta&&e.meta.parentId?this.findItemById(e.meta.parentId):null,n=!t||t.visible,i=t?t.opacity:100;(0,p.Hp)([e],((t,r)=>{t.id===e.id?t.meta.calculatedVisibility=n&&i>0&&t.visible&&t.opacity>0:t.meta.calculatedVisibility=r.visible&&r.opacity>0&&t.visible&&t.opacity>0}))}updateChildTransforms(e){if(!e.childItems)return;let t=a.Z.identityMatrix();if(e.meta&&e.meta.parentId){const n=this.findItemById(e.meta.parentId);n&&(t=(0,he.aR)(n))}const n=a.Z.standardTransformWithArea(t,e.area);ke(e.childItems,((e,t,n,i)=>{e.meta||(e.meta={}),e.meta.transformMatrix=t}),n,e,e.meta.ancestorIds)}delayFullReindex(){this.reindexTimeoutId&&clearTimeout(this.reindexTimeoutId),this.reindexTimeoutId=setTimeout((()=>{this.reindexItems(),this.reindexTimeoutId=null}),1e3)}reindexItems(){me.info("reindexItems()",this),me.time("reindexItems"),this.itemMap={},this.itemsByName=new Map,this._itemArray=[],this.itemsByName=new Map,this.worldItems=[],this._itemTagsToIds={},this.worldItemAreas=new Map,this.relativeSnappers.horizontal=[],this.relativeSnappers.vertical=[],this.spatialIndex=new s,this.pinSpatialIndex=new s,this.connectorSpatialIndex=new s,this.dependencyItemMap={},this.itemCloneIds=new Map,this.itemCloneReferenceIds=new Map,this.framePlayers=[],this.componentItems=[],this.scheme.items&&(this.reindexSpecifiedItems(this.scheme.items),this.reindexComponents(),this.fixComponentCyclicDependencies(),this.itemTags=Object.keys(this._itemTagsToIds),this.itemTags.sort(),me.timeEnd("reindexItems"))}reindexComponents(){(0,i.Ed)(this.componentItems,(e=>this.reindexEmbeddedComponent(e)))}reindexEmbeddedComponent(e){if(e.meta.referenceItemId=null,"embedded"===e.shapeProps.kind&&e.shapeProps.referenceItem){const t=this.findFirstElementBySelector(e.shapeProps.referenceItem);if(t){e.meta.referenceItemId=t.id;const n=pe(pe({},t),{},{meta:pe(pe({},t.meta),{},{componentRoot:!0}),visible:!0});this.attachItemsToComponentItem(e,[n]),k.Z.item.changed.specific.$emit(this.editorId,e.id)}}}fixComponentCyclicDependencies(){this.componentItems.forEach((e=>e.meta.cyclicComponent=!1)),this.componentItems.forEach((e=>{"embedded"===e.shapeProps.kind&&this.checkComponentForCyclicDependencies(e)}))}checkComponentForCyclicDependencies(e){if("embedded"!==e.shapeProps.kind)return;const t=this.findItemById(e.meta.referenceItemId);if(!t)return;const n=[e],r=e=>{(0,i.Ed)(e,(e=>{n.push(e)}))};let o=!0;for(;n.length>0;){const i=n.shift();if(i.meta.referenceItemId===t.id){if(!o)return e.meta.cyclicComponent=!0,void(e._childItems=[]);o=!1}if("component"===i.shape&&"embedded"===i.shapeProps.kind){const e=this.findItemById(i.meta.referenceItemId);e&&n.push(e)}r(i.childItems),r(i._childItems)}}isolateItemTags(e){const t=new Map;(0,p.Hp)(e,(e=>{Array.isArray(e.tags)&&(e.tags=e.tags.map((e=>{if(t.has(e))return t.get(e);const n=`${e}-${h().generate()}`;return t.set(e,n),n})))}));const n=e=>{if(!e)return e;const n=e.indexOf(":");if(n>0&&"tag"===e.substring(0,n).trim()){const i=e.substr(n+1).trim();if(t.has(i))return`tag: ${t.get(i)}`}return e};(0,p.Hp)(e,(e=>{e.behavior&&Array.isArray(e.behavior.events)&&(e.behavior.dragPath&&(e.behavior.dragPath=n(e.behavior.dragPath)),e.behavior.dropTo&&(e.behavior.dropTo=n(e.behavior.dropTo)),e.behavior.events.forEach((e=>{Array.isArray(e.actions)&&e.actions.forEach((e=>{if(e.element=n(e.element),e.args&&y.Z.main.hasOwnProperty(e.method)){const t=y.Z.main[e.method].args;(0,i.Ed)(t,((t,i)=>{"element"===t.type&&(e.args[i]=n(e.args[i]))}))}}))})))}))}attachItemsToComponentItem(e,t){if(!t)return;const n=this.cloneItems(t,!0,!0);(0,p.Hp)(n,(t=>{t.meta||(t.meta={}),t.meta.componentRootId=e.id})),"external"===e.shapeProps.kind&&this.isolateItemTags(n);const r=be(t);(0,i.Ed)(n,(e=>{e.area.x-=r.x,e.area.y-=r.y,e.opacity=100,e.selfOpacity=100,e.visible=!0}));let o=1,s=0,l=0,c=Math.max(r.w,1e-5),d=Math.max(r.h,1e-5),f=e.area.w/c,m=e.area.h/d;"centered"===e.shapeProps.placement&&(o=Math.min(f,m),f=o,m=o,s=(e.area.w-c*f)/2,l=(e.area.h-d*m)/2);const g=Ae();g.id=h().generate(),g.area.x=0,g.area.y=0,g.area.w=e.area.w,g.area.h=e.area.h,g.selfOpacity=0,g.meta={isComponentContainer:!0},g.name="Overlay container";const v=Ae();if(v.shape="dummy",v.selfOpacity=0,v.id=h().generate(),v.meta={isComponentContainer:!0},v.name="Scaled container",v.area.x=s,v.area.y=l,v.area.w=c,v.area.h=d,v.area.px=0,v.area.py=0,v.area.sx=f,v.area.sy=m,v._childItems=n,g._childItems=[v],"external"===e.shapeProps.kind){const t=(0,u.Si)(e,g,this.screenTransform,this.screenSettings.width,this.screenSettings.height);t&&g._childItems.push(t)}e._childItems=[g];const y=a.Z.standardTransformWithArea(e.meta.transformMatrix,e.area);this.reindexSpecifiedItems(e._childItems,y,e,e.meta.ancestorIds.concat([e.id]),!1)}readjustComponentContainerRect(e){if(!e._childItems||0===e._childItems.length)return;if(!e._childItems[0]._childItems||0===e._childItems[0]._childItems.length)return;const t=e._childItems[0]._childItems[0];if(0===t._childItems.length)return;const n=[];t._childItems.forEach((e=>{const t=this.itemCloneReferenceIds.get(e.id);t&&n.push(this.findItemById(t))}));const i=be(n);let r=1,o=0,s=0,a=Math.max(i.w,1e-5),l=Math.max(i.h,1e-5),c=e.area.w/a,h=e.area.h/l;"centered"===e.shapeProps.placement&&(r=Math.min(c,h),c=r,h=r,o=(e.area.w-a*c)/2,s=(e.area.h-l*h)/2),t.area.x=o,t.area.y=s,t.area.w=a,t.area.h=l,t.area.sx=c,t.area.sy=h}reindexChildItems(e){const t=a.Z.standardTransformWithArea(e.meta.transformMatrix,e.area);e.childItems&&this.reindexSpecifiedItems(e.childItems,t,e,e.meta.ancestorIds.concat([e.id]))}reindexSpecifiedItems(e,t,n,r,o){void 0===o&&(o=!0);const s={},a=(e,t)=>{let n=s[e]||[];n.push(t),s[e]=n},l=this.revision+1;ke(e,((e,t,n,r,o)=>{o&&this._itemArray.push(e),this.itemsByName.set(e.name,e),e.args&&e.args.templateRef&&e.args.templated&&(xe(e,e.args.templateRef),"edit"===this.mode&&this.fetchAndCompileTemplate(e.args.templateRef)),(0,f.z9)(e),this.enrichItemMeta(e,t,n,r),e.tags&&this.indexItemTags(e.id,e.tags),n&&(n.meta.isInHUD||"hud"===n.shape)&&(e.meta.isInHUD=!0),"none"!==e.behavior.dragging?(e.cursor="grab",e.meta.ancestorDraggableId=null):n&&("none"!==n.behavior.dragging?(e.meta.ancestorDraggableId=n.id,e.cursor="grab"):n.meta.ancestorDraggableId&&(e.meta.ancestorDraggableId=n.meta.ancestorDraggableId,e.cursor="grab")),"component"===e.shape&&this.componentItems.push(e),"frame_player"===e.shape&&this.framePlayers.push(e),n||this.worldItems.push(e),"hud"===e.shape&&this.hudItems.push(e),e.id&&(this.itemMap[e.id]=e),"connector"===e.shape&&e.shapeProps.autoAttach&&(e.shapeProps.sourceItem&&a(e.shapeProps.sourceItem,e.id),e.shapeProps.destinationItem&&a(e.shapeProps.destinationItem,e.id));let s=!0;n&&(s=n.meta.calculatedVisibility),e.meta.calculatedVisibility=s&&e.visible&&e.opacity>0;const l=this.generateItemSnappers(e);if(l&&(0,i.Ed)(l,(e=>{"horizontal"===e.snapperType?this.relativeSnappers.horizontal.push(e):"vertical"===e.snapperType&&this.relativeSnappers.vertical.push(e)})),o&&"edit"===this.mode){const t=d.Z.find(e.shape);t&&this.indexItemPins(e,t),this.indexItemOutlinePoints(e)}"connector"===e.shape&&"edit"===this.mode&&this.indexConnectorPoints(e),this.worldItemAreas.set(e.id,this.calculateItemWorldArea(e))}),t,n,r,o),o&&this.buildDependencyItemMapFromElementSelectors(this.dependencyItemMap,s),this.revision=l}reindexTags(){this._itemTagsToIds={},ke(this.scheme.items,((e,t,n,i)=>{e.tags&&this.indexItemTags(e.id,e.tags)})),this.itemTags=Object.keys(this._itemTagsToIds),this.itemTags.sort()}fetchAndCompileTemplate(e){this.compiledTemplates.has(e)||this.getTemplate(e).then((t=>{this.compiledTemplates.set(e,t)})).catch((t=>{console.error(`Failed to compile template: ${e}`,t)}))}getTemplate(e){if(this.compiledTemplates.has(e))return Promise.resolve(this.compiledTemplates.get(e));{let t=null;if(e.startsWith("#doc:")){const n=e.substring(5);t=this.apiClient.getScheme(n).then((e=>function(e,t,n){const i=function(e){const t=l.Z.clone(e);return(0,p.Hp)([t],(e=>{"component"===e.shape&&(e.args||(e.args={}),e.args.templateIgnoredProps=["shapeProps.kind","shapeProps.schemeId","shapeProps.referenceItem"]);const t="template-ignore-";Array.isArray(e.tags)&&e.tags.forEach((n=>{if(n.startsWith(t)){const n=t.substring(16);e.args||(e.args={}),Array.isArray(e.args.templateIgnoredProps)||(e.args.templateIgnoredProps=[]),e.args.templateIgnoredProps.push(n)}}))})),t}(e.items[0]);return oe(n,{name:e.name,args:{},defaultArea:{x:0,y:0,w:100,h:100},item:i},"#doc:"+t)}(e.scheme,n,this.editorId)))}else t=this.apiClient.getTemplate(e).then((t=>oe(this.editorId,t,e)));return t.then((t=>(this.compiledTemplates.set(e,t),t))).catch((t=>{throw console.error(`Failed to compile template: ${e}`,t),t}))}}indexSingleCloneItem(e,t){let n=null;this.itemCloneIds.has(e)?n=this.itemCloneIds.get(e):(n=new Set,this.itemCloneIds.set(e,n)),this.itemCloneReferenceIds.set(t,e),n.add(t)}getItemCloneIds(e){return this.itemCloneIds.get(e)}calculateItemWorldArea(e){const t=[{x:0,y:0},{x:e.area.w,y:0},{x:e.area.w,y:e.area.h},{x:0,y:e.area.h}],n=(0,i.UI)(t,(t=>(0,he.rs)(t.x,t.y,e))),r={x:n[0].x,y:n[0].y,w:0,h:0};return(0,i.Ed)(n,(e=>{if(r.x>e.x){const t=r.x;r.x=e.x,r.w=t+r.w-e.x}else e.x>r.x+r.w&&(r.w=e.x-r.x);if(r.y>e.y){const t=r.y;r.y=e.y,r.h=t+r.h-e.y}else e.y>r.y+r.h&&(r.h=e.y-r.y)})),r}getItemWorldPinPoint(e,t){const n=d.Z.find(e.shape);if(!n)return null;const i=n.getPins(e);if(!i)return null;const r=i[t];if(!r)return null;const o=(0,he.rs)(r.x,r.y,e);if(r.nx||r.ny){const t=(0,he.rs)(0,0,e),n=(0,he.rs)(r.nx,r.ny,e);o.nx=n.x-t.x,o.ny=n.y-t.y}return o}indexConnectorPoints(e){Array.isArray(e.shapeProps.points)&&e.shapeProps.points.forEach(((t,n)=>{const i=(0,he.rs)(t.x,t.y,e);this.connectorSpatialIndex.addPoint(i.x,i.y,{itemId:e.id,pointIdx:n})}))}selectByBoundaryBox(e,t){t||this.deselectAllItems();const n=[],r=new Map;(0,i.Ed)(this.getItems(),(t=>{const i=[{x:0,y:0},{x:t.area.w,y:0},{x:t.area.w,y:t.area.h},{x:0,y:t.area.h}];let o=!0;for(let n=0;n<i.length&&o;n++){const r=(0,he.rs)(i[n].x,i[n].y,t);o=a.Z.isPointInArea(r.x,r.y,e)}o&&(n.push(t),r.set(t.id))})),this.connectorSpatialIndex.forEachInRange(e.x,e.y,e.x+e.w,e.y+e.h,(e=>{r.has(e.itemId)||this.selectConnectorPoint(e.itemId,e.pointIdx)}));const o=new Set,s=new Map;this.selectedConnectorPoints.forEach((e=>{if(!s.has(e.itemId)){const t=this.findItemById(e.itemId);s.set(e.itemId,t.shapeProps.points.length*(t.shapeProps.points.length+1)/2)}const t=s.get(e.itemId)-e.pointIdx-1;t<=0&&o.add(e.itemId),s.set(e.itemId,t)})),o.forEach((e=>{const t=this.findItemById(e);n.push(t)}));for(let e=this.selectedConnectorPoints.length-1;e>=0;e--){const t=this.selectedConnectorPoints[e];o.has(t.itemId)&&(this.selectedConnectorPoints.splice(e,1),delete this.selectedItemsMap[`${t.itemId}.points.${t.pointIdx}`])}this.selectMultipleItems(n,!0)}selectConnectorPoint(e,t){if(t<0)return;const n=`${e}.points.${t}`;if(this.selectedItemsMap[n]||this.selectedItemsMap[e])return;const i=this.findItemById(e);i&&"connector"===i.shape&&(t>=i.shapeProps.points.length||(this.selectedConnectorPoints.push({itemId:e,pointIdx:t}),this.selectedItemsMap[n]=!0))}indexItemPins(e,t){t&&(0,i.Ed)(t.getPins(e),((t,n)=>{const i=(0,he.rs)(t.x,t.y,e);if(t.hasOwnProperty("nx")){const n=(0,he.rs)(0,0,e),r=(0,he.rs)(t.nx,t.ny,e);i.nx=r.x-n.x,i.ny=r.y-n.y}this.pinSpatialIndex.addPoint(i.x,i.y,{itemId:e.id,pinId:n,worldPinPoint:i})}))}indexItemOutlinePoints(e){const t=this.getSvgOutlineOfItem(e);if(!t)return;const n=t.getTotalLength();let i=[[0,Math.max(1,Math.ceil(n/20))]];for(;i.length>0;){const n=[];for(let r=0;r<i.length;r++){const o=i[r][0],s=i[r][1];let a=-1,l=s-o;if(l>=2){const e=Math.floor((o+s)/2);a=20*e,e>o&&n.push([o,e-1]),e<s&&n.push([e+1,s])}else l>=1?(a=20*s,n.push([o,o])):l>=0&&(a=20*o);if(a>=0){const n=t.getPointAtLength(a),i=(0,he.rs)(n.x,n.y,e);this.spatialIndex.addPoint(i.x,i.y,{itemId:e.id,pathDistance:a})}}i=n}}buildDependencyItemMapFromElementSelectors(e,t){(0,i.Ed)(t,((t,n)=>{const i=this.findFirstElementBySelector(n);i&&((t,n)=>{let i=e[t]||[];i=i.concat(n),e[t]=i})(i.id,t)}))}indexItemTags(e,t){(0,i.Ed)(t,(t=>{this._itemTagsToIds.hasOwnProperty(t)||(this._itemTagsToIds[t]=[]),this._itemTagsToIds[t].push(e)}))}enrichItemMeta(e,t,n,i){e.meta||(e.meta={strokeOffset:0,collapsed:!1,collapseBitMask:0}),e.meta.transformMatrix=t,e.meta.ancestorIds=i,e.meta.collapseBitMask=n?n.meta.collapseBitMask<<i.length|(n.meta.collapsed?1:0):0,e.meta.parentId=n?n.id:null}worldPointOnItem(e,t,n){return(0,he.rs)(e,t,n)}localPointOnItem(e,t,n){return(0,he.N5)(e,t,n)}relativePointForItem(e,t,n){if(n.meta.parentId){const i=this.findItemById(n.meta.parentId);if(i)return this.localPointOnItem(e,t,i)}return{x:e,y:t}}findClosestPointToItems(e,t,n,i,r){let o=null;if(this.pinSpatialIndex.forEachInRange(e-n,t-n,e+n,t+n,(({itemId:n,pinId:r,worldPinPoint:s},a)=>{if(n!==i){const i=(e-a.x)*(e-a.x)+(t-a.y)*(t-a.y);(!o||o.distance>i)&&(o={itemId:n,pinId:r,point:s,distance:i})}})),o){const e={x:o.point.x,y:o.point.y,distanceOnPath:0,itemId:o.itemId,pinId:o.pinId};return o.point.hasOwnProperty("nx")&&(e.nx=o.point.nx,e.ny=o.point.ny),e}const s=new Map,a=Math.max(n,40);this.spatialIndex.forEachInRange(e-a,t-a,e+a,t+a,(({itemId:n,pathDistance:i},r)=>{const o=(e-r.x)*(e-r.x)+(t-r.y)*(t-r.y);s.has(n)?s.get(n).squaredDistanceToPoint>o&&s.set(n,{pathDistance:i,squaredDistanceToPoint:o}):s.set(n,{pathDistance:i,squaredDistanceToPoint:o})}));let l={x:e,y:t},c=null,h=1e5;return s.forEach(((e,t)=>{const o=this.findItemById(t);if(o.id===i)return;if(r&&!o.meta.calculatedVisibility)return;const s=this.closestPointToItemOutline(o,l,{startDistance:Math.max(0,e.pathDistance-a),stopDistance:e.pathDistance+a,precision:Math.min(n/2,.5),withNormal:!0});if(!s)return;const d=(s.x-l.x)*(s.x-l.x)+(s.y-l.y)*(s.y-l.y);if(d<n*n){const e={x:s.x,y:s.y,distanceOnPath:s.distanceOnPath,itemId:o.id};s.hasOwnProperty("nx")&&(e.nx=s.nx,e.ny=s.ny),(!c||h>d)&&(c=e,h=d)}})),c}getBoundingBoxOfItems(e){return(0,he.av)(e)}readjustItemAndDescendants(e,t=!1,n=ge,i=1){this._readjustItemAndDescendants(e,{},t,n,i)}_readjustItemAndDescendants(e,t,n,r,o){this._readjustItem(e,t,n,r,o);const s=this.findItemById(e);s&&(0,i.Ed)(s.childItems,(e=>{this._readjustItemAndDescendants(e.id,t,n,r,o)}))}readjustItem(e,t=!1,n=ge,i=4){isNaN(i)&&(i=4),this._readjustItem(e,{},t,n,i)}_readjustItem(e,t,n,r,o){if(isNaN(o)&&(o=4),t[e])return;t[e]=!0;const s=this.findItemById(e);s&&(this._readjustSingleItem(s,t,n,r,o),this.dependencyItemMap[e]&&(0,i.Ed)(this.dependencyItemMap[e],(e=>{this._readjustItem(e,t,n,r,o)})),(0,i.Ed)(s.childItems,(e=>{if(e.autoLayout&&e.autoLayout.on&&e.args&&e.args.templated&&e.args.templateRef){const i=this.compiledTemplates.get(e.meta.templateRef);i?(t[e.id]=!0,this._readjustSingleItem(e,t,n,r,o),this.regenerateTemplatedItem(e,i,e.args.templateArgs,e.area.w,e.area.h)):this._readjustItem(e.id,t,n,r,o)}else this._readjustItem(e.id,t,n,r,o)})),s.meta.revision=(s.meta.revision||1)+1)}_readjustSingleItem(e,t,n,i,r){me.info("Readjusting item",e.id,e.name),"connector"===e.shape&&this._readjustConnectorItem(e,i,r);const o=d.Z.find(e.shape);let s=!1;o&&o.readjustItem&&(o.readjustItem(e,this,n,i,r),s=!0);const a=e.meta&&e.meta.parentId?this.findItemById(e.meta.parentId):null;a&&e.autoLayout&&e.autoLayout.on&&e.autoLayout.rules&&(e.area=(0,de.s0)(e,a,e.autoLayout.rules),s=!0),s&&(Ce(e),k.Z.item.changed.specific.$emit(this.editorId,e.id),this.svgOutlinePathCache.forceUpdate(e))}_readjustConnectorItem(e,t,n){me.info("readjusting connector item",e.id);const i=(i,r,o,s)=>{const l=e.shapeProps.points[s],c=this.findFirstElementBySelector(i);if(!c)return null;if(o){const t=d.Z.find(c.shape);if(!t||!t.getPins)return null;const n=this.getItemWorldPinPoint(c,o);if(!n)return null;const i=(0,he.N5)(n.x,n.y,e),r={x:i.x,y:i.y};return n.hasOwnProperty("nx")&&(r.nx=n.nx,r.ny=n.ny),r}const h=this.getSvgOutlineOfItem(c);if(!h)return null;if(t.resized||t.controlPoint||"connector"===c.shape||"path"===c.shape){const t=`${e.id}-points-${s}`;let i=l;this.editBox&&(this.editBox.cache.has(t)?i=this.editBox.cache.get(t):this.editBox.itemIds.has(e.id)||this.editBox.cache.set(t,l));const r=(0,he.rs)(i.x,i.y,e),o=this.closestPointToItemOutline(c,r,{withNormal:!0,precision:n});if(!o)return;const h=(0,he.N5)(o.x,o.y,e);return a.Z.distanceBetweenPoints(r.x,r.y,o.x,o.y)<.8&&(h.x=i.x,h.y=i.y),{x:h.x,y:h.y,nx:o.nx,ny:o.ny}}const u=h.getPointAtLength(r),p=(0,he.rs)(u.x,u.y,c),f=(0,he.N5)(p.x,p.y,e),m=this.calculateNormalOnPointInItemOutline(c,r,h);return{x:f.x,y:f.y,nx:m.x,ny:m.y}};if(!e.shapeProps.autoAttach)return;const r=i(e.shapeProps.sourceItem,e.shapeProps.sourceItemPosition,e.shapeProps.sourcePin,0);r&&(e.shapeProps.points[0]=r);const o=i(e.shapeProps.destinationItem,e.shapeProps.destinationItemPosition,e.shapeProps.destinationPin,e.shapeProps.points.length-1);o&&(e.shapeProps.points[e.shapeProps.points.length-1]=o)}doesItemDependOn(e,t){const n=this.dependencyItemMap[t];return!!n&&(0,i.cq)(n,e)>=0}remountItemToRoot(e){const t=this.scheme.items.length;this.remountItemInsideOtherItem(e,null,t)}remountItemInsideOtherItemAtTheBottom(e,t){if(!t)return;const n=this.findItemById(t);if(!n)return;let i=0;n.childItems&&(i=n.childItems.length),this.remountItemInsideOtherItem(e,t,i)}remountItemInsideOtherItem(e,t,n){const r=this.findItemById(e);if(!r)return;let o=null;if(t&&(o=this.findItemById(t),!o))return;if(isNaN(n)&&(n=0,o.childItems&&(n=o.childItems.length)),o&&(0,i.cq)(o.meta.ancestorIds,r.id)>=0)return;const s=(0,he.rs)(0,0,r);let l=0,c=0,h=a.Z.identityMatrix();o&&(h=(0,he.aR)(o),c=(0,he.mo)(o));let d=null,u=null,p=this.scheme.items;if(r.meta.parentId){if(d=this.findItemById(r.meta.parentId),!d)return;u=d.id,p=d.childItems,l=(0,he.mo)(d)}const f=(0,i.cx)(p,(t=>t.id===e));if(f<0)return;r.autoLayout&&r.autoLayout.on&&u!==t&&(r.autoLayout.on=!1,r.autoLayout.rules={}),p.splice(f,1);let m=this.scheme.items,g=null;o&&(o.childItems||(o.childItems=[]),m=o.childItems,g=o.id);let v=0;if(u===g&&f<n&&(v=-1),m.splice(n+v,0,r),u!==t){r.area.r+=l-c;const e=a.Z.findTranslationMatchingWorldPoint(s.x,s.y,0,0,r.area,h);e&&(r.area.x=e.x,r.area.y=e.y)}u&&k.Z.item.changed.specific.$emit(this.editorId,u),g&&k.Z.item.changed.specific.$emit(this.editorId,g),this.reindexItems(),this.updateEditBox()}remountItemAfterOtherItem(e,t){this.remountItemWithOffsetToOtherItem(e,t,1)}remountItemBeforeOtherItem(e,t){this.remountItemWithOffsetToOtherItem(e,t,0)}remountItemWithOffsetToOtherItem(e,t,n){const r=this.findItemById(t);if(!r)return;let o=this.scheme.items,s=null;if(r.meta.parentId){if(s=this.findItemById(r.meta.parentId),!s)return;s.childItems||(s.childItems=[]),o=s.childItems}const a=(0,i.cx)(o,(e=>e.id===t));if(a<0)return;let l=null;s&&(l=s.id),this.remountItemInsideOtherItem(e,l,a+n)}getSvgOutlineOfItem(e){return this.svgOutlinePathCache.get(e)}closestPointToItemOutline(e,t,{withNormal:n,startDistance:i,stopDistance:r,precision:o}){const s=this.localPointOnItem(t.x,t.y,e),l=this.svgOutlinePathCache.get(e);if(!l)return null;const c=a.Z.closestPointOnPath(s.x,s.y,l,{startDistance:i,stopDistance:r,precision:o}),h=(0,he.rs)(c.x,c.y,e);if(h.distanceOnPath=c.distance,n){const t=this.calculateNormalOnPointInItemOutline(e,c.distance,l);h.nx=t.x,h.ny=t.y}return h}calculateNormalOnPointInItemOutline(e,t,n){if(!n&&!(n=this.svgOutlinePathCache.get(e)))return{x:1,y:0};let i=t-2;i<0&&(i=n.getTotalLength()-i);const r=n.getPointAtLength(i),o=n.getPointAtLength((t+2)%Math.max(1,n.getTotalLength()));let s=o.x-r.x,l=o.y-r.y,c=s;s=l,l=-c;const h=(0,he.rs)(0,0,e),d=(0,he.rs)(s,l,e);let u=d.x-h.x,p=d.y-h.y;const f=Math.sqrt(u*u+p*p);return f>1e-4&&(u/=f,p/=f),{x:a.Z.roundPrecise(u,4),y:a.Z.roundPrecise(p,4)}}getSelectedItems(){return this.selectedItems}deleteItem(e){this._deleteItem(e),this.reindexItems()}deleteItems(e){(0,i.Ed)(e,(e=>{this._deleteItem(e)})),this.reindexItems()}_deleteItem(e){let t=this.scheme.items,n=null;if(e.meta.parentId){if(n=this.findItemById(e.meta.parentId),!n||!n.childItems)return;t=n.childItems}const r=(0,i.cx)(t,(t=>t.id===e.id));r<0||(t.splice(r,1),n&&k.Z.item.changed.specific.$emit(this.editorId,n.id))}deleteNonIndexableItems(e){const t=new Set;(0,i.Ed)(e,(e=>t.add(e.id)));for(let e=this.scheme.items.length-1;e>=0&&t.size>0;e--){const n=this.scheme.items[e];t.has(n.id)&&(delete this.itemMap[n.id],this.worldItemAreas.delete(n.id),t.delete(n.id),this.scheme.items.splice(e,1))}}deleteSelectedItems(){if(this.selectedItems&&this.selectedItems.length>0)for(let e=this.selectedItems.length-1;e>=0;e--){const t=this.selectedItems[e];if(t.meta.templated&&t.meta.templateRootId&&t.meta.templateRootId!==t.id){const e=this.findItemById(t.meta.templateRootId);e&&e.args.templateRef&&this.getTemplate(e.args.templateRef).then((n=>{n.onDeleteItem(e,t.args.templatedId,t),this.regenerateTemplatedItem(e,n,e.args.templateArgs,e.area.w,e.area.h)}))}else delete this.selectedItemsMap[t.id],this._deleteItem(t),this.selectedItems.splice(e,1)}const e=new Map;this.selectedConnectorPoints.sort(((e,t)=>t.pointIdx-e.pointIdx)).forEach((t=>{const n=this.findItemById(t.itemId);n&&"connector"===n.shape&&(n.shapeProps.points.splice(t.pointIdx,1),n.shapeProps.points.length<2?(this._deleteItem(n),e.delete(n.id)):e.set(n.id,n))})),e.forEach((e=>{Ce(e),k.Z.item.changed.specific.$emit(this.editorId,e.id)})),this.selectedConnectorPoints=[],this.reindexItems(),this.editBox=null,k.Z.item.deselected.any.$emit(this.editorId)}enrichItem(e){(0,f.z9)(e),e.hasOwnProperty("meta")||(e.meta={}),e.id||(e.id=h().generate())}addItem(e,t){if(this.enrichItem(e),t){t.childItems.push(e);const n=a.Z.standardTransformWithArea(t.meta.transformMatrix,t.area);this.reindexSpecifiedItems([e],n,t,t.meta.ancestorIds.concat([t.id]),!0)}else this.scheme.items.push(e),this.reindexSpecifiedItems([e]);return"component"===e.shape&&"embedded"===e.shapeProps.kind&&this.reindexEmbeddedComponent(e),e}addNonIndexableItem(e){return this.enrichItem(e),this.scheme.items.push(e),this.reindexSpecifiedItems([e],null,null,[],!1),e}getItems(){return this._itemArray}getTopLevelItems(){return this.worldItems}isItemInHUD(e){return"hud"===e.shape||e.meta.isInHUD}setActiveBoundaryBox(e){this.activeBoundaryBox=e}isItemSelected(e){return this.selectedItemsMap[e.id]||!1}rebaseScheme(){const e=[];this.selectedItemsMap={},this.selectedItems.forEach((t=>{const n=this.findItemById(t.id);n&&(e.push(n),this.selectedItemsMap[n.id]=!0,n.meta.selected=!0)})),this.selectedItems=e,this.rebaseEditBox()}rebaseEditBox(){if(!this.editBox)return;me.info("rebasing edit box",this.editBox);const e=this.generateEditBox(this.selectedItems,this.selectedConnectorPoints);for(let t in e)e.hasOwnProperty(t)&&"id"!==t&&(this.editBox[t]=e[t])}selectItem(e,t){if(t)this.selectItemInclusive(e),this.selectedItemsMap[e.id]=!0,e.meta.selected=!0,k.Z.item.selected.specific.$emit(this.editorId,e.id);else{this.deselectConnectorPoints();const t=[];(0,i.Ed)(this.selectedItems,(n=>{n.id!==e.id&&t.push(n.id)})),this.selectedItems=[],(0,i.Ed)(t,(t=>{this.selectedItemsMap[t]=!1,e.meta.selected=!1,k.Z.item.deselected.specific.$emit(this.editorId,t)})),this.selectItemInclusive(e),k.Z.item.selected.specific.$emit(this.editorId,e.id)}this.updateEditBox()}selectMultipleItems(e,t){t||this.deselectAllItems(),(0,i.Ed)(e,(e=>{this.selectedItemsMap[e.id]||(this.selectedItems.push(e),this.selectedItemsMap[e.id]=!0,e.meta.selected=!0,k.Z.item.selected.specific.$emit(this.editorId,e.id))})),this.updateEditBox()}selectAllItems(){this.selectMultipleItems(this._itemArray)}selectItemInclusive(e){for(var t=!1,n=0;n<this.selectedItems.length;n++)if(this.selectedItems[n]===e){t=!0;break}t||(this.selectedItems.push(e),this.selectedItemsMap[e.id]=!0,e.meta.selected=!0),this.sortSelectedItemsByAncestors()}sortSelectedItemsByAncestors(){this.selectedItems&&(this.selectedItems=this.selectedItems.sort(((e,t)=>{let n=0,i=0;return e.meta.ancestorIds&&(n=e.meta.ancestorIds.length),t.meta.ancestorIds&&(i=t.meta.ancestorIds.length),n-i})))}deselectConnectorPoints(){(0,i.Ed)(this.selectedConnectorPoints,(e=>{this.selectedItemsMap[`${e.itemId}.points.${e.pointIdx}`]=!1})),this.selectedConnectorPoints=[]}updateItem(e,t,n){const i=this.findItemById(e);i&&(n(i),k.Z.item.changed.specific.$emit(this.editorId,e,t))}deselectItem(e){this.selectedItemsMap[e.id]&&(this.selectedItemsMap[e.id]=!1,e.meta.selected=!1);for(let t=0;t<this.selectedItems.length;t++)if(this.selectedItems[t].id===e.id){this.selectedItems.splice(t,1);break}k.Z.item.deselected.specific.$emit(this.editorId,e.id),this.updateEditBox()}deselectAllItems(){this.deselectConnectorPoints();const e=(0,i.UI)(this.selectedItems,(e=>e.id));(0,i.Ed)(this.selectedItems,(e=>{this.selectedItemsMap[e.id]=!1,e.meta.selected=!1})),this.selectedItems=[],(0,i.Ed)(e,(e=>k.Z.item.deselected.specific.$emit(this.editorId,e))),this.updateEditBox()}bringSelectedItemsToBack(e){e||(e=this.scheme.items);let t=0,n=[];for(;t<e.length;)e[t].childItems&&this.bringSelectedItemsToBack(e[t].childItems),this.isItemSelected(e[t])?(n.push(e[t]),e.splice(t,1)):t++;(0,i.Ed)(n,(t=>{e.splice(0,0,t)}))}bringSelectedItemsToFront(e){e||(e=this.scheme.items);let t=0,n=[];for(;t<e.length;)e[t].childItems&&this.bringSelectedItemsToFront(e[t].childItems),this.isItemSelected(e[t])?(n.push(e[t]),e.splice(t,1)):t++;(0,i.Ed)(n,(t=>{e.push(t)}))}findItemByName(e){return this.itemsByName.get(e)}findItemById(e){return this.itemMap[e]}findItemsByTag(e){const t=this._itemTagsToIds[e],n=[];return t&&(0,i.Ed)(t,(e=>{const t=this.findItemById(e);t&&n.push(t)})),n}findFirstElementBySelector(e,t){const n=this.findElementsBySelector(e,t);return n.length>0?n[0]:null}findElementsBySelector(e,t){if(!e)return[];if("self"===e)return[t];if("#"===e.charAt(0)){const t=e.substring(1),n=this.findItemById(t);if(n)return[n]}else{const t=e.indexOf(":");if(t>0&&"tag"===e.substring(0,t).trim())return this.findItemsByTag(e.substring(t+1).trim())}return[]}copySelectedItems(){const e=[],t=new Set;return(0,i.Ed)(this.selectedItems,(n=>{t.has(n.id)||((0,p.Hp)([n],(e=>{t.add(e.id)})),e.push(l.Z.clone(n)))})),this.triggerCopyEventForTemplatedItems(e).then((()=>JSON.stringify(e)))}triggerCopyEventForTemplatedItems(e){const t=[];return e.forEach((e=>{if(!e.meta.templated||!e.meta.templateRootId)return;const n=this.findItemById(e.meta.templateRootId);n&&n.args&&n.args.templateRef&&t.push(this.getTemplate(n.args.templateRef).then((t=>{t.onCopyItem(n,e.args.templatedId,e)})).catch((e=>{console.error(e)})))})),Promise.all(t)}decodeItemsFromText(e){let t=null;try{t=JSON.parse(e)}catch(e){return null}if(!Array.isArray(t))return null;for(let e=0;e<t.length;e++){const n=t[e];if("object"!=typeof n.area||null===n.area)return null;if("string"!=typeof n.shape||null===n.shape)return null}return t}setPropertyForItem(e,t){t(e),this.updatePropertyForClones(e,t)}updatePropertyForClones(e,t,n){const i=this.getItemCloneIds(e.id);i&&i.forEach((e=>{const i=this.findItemById(e);i&&(n&&i.meta.componentRoot||(this.setPropertyForItem(i,t),k.Z.item.changed.specific.$emit(this.editorId,i.id)))}))}updateItemClones(e){const t=this.getItemCloneIds(e.id);t&&t.forEach((t=>{const n=this.findItemById(t);if(n){this.updateItemClones(n);const t=l.Z.clone(e);n.shapeProps=t.shapeProps,n.opacity=t.opacity,n.selfOpacity=t.selfOpacity,n.textSlots=t.textSlots,k.Z.item.changed.specific.$emit(this.editorId,n.id)}}))}cloneItems(e,t=!1,n=!1){const r={},o=[];(0,i.Ed)(e,(e=>{if(!(0,i.sE)(e.meta.ancestorIds,(e=>1===r[e]))){r[e.id]=1;const n=(0,he.rs)(e.area.px*e.area.w,e.area.py*e.area.h,e),i=(0,he.mo)(e),s=this.copyItem(e);s.name=t?e.name:this.copyNameAndMakeUnique(e.name),s.area.r=i;const l=a.Z.findTranslationMatchingWorldPoint(n.x,n.y,e.area.px*e.area.w,e.area.py*e.area.h,e.area,e.meta.transformMatrix);if(l)s.area.x=l.x,s.area.y=l.y;else{const t=(0,he.rs)(0,0,e);s.area.x=t.x,s.area.y=t.y}e.meta.componentRoot&&(s.meta.componentRoot=!0),o.push(s)}}));const s=new Map;return(0,p.Hp)(o,(e=>{s.set(e.meta.oldId,e.id),n&&this.indexSingleCloneItem(e.meta.oldId,e.id)})),this.fixItemsReferences(o,s),o}fixItemsReferences(e,t){const n=e=>{if(e&&0===e.indexOf("#")){const n=e.substr(1);if(t.has(n))return"#"+t.get(n)}return e};(0,p.Hp)(e,(e=>{"connector"===e.shape&&(e.shapeProps.sourceItem=n(e.shapeProps.sourceItem),e.shapeProps.destinationItem=n(e.shapeProps.destinationItem)),e.behavior.dragPath&&(e.behavior.dragPath=n(e.behavior.dragPath)),"frame_player"===e.shape&&((0,i.Ed)(e.shapeProps.animations,(e=>{"item"===e.kind&&(e.itemId=t.get(e.itemId))})),(0,i.Ed)(e.shapeProps.functions,(e=>{const t=C[e.functionId];t&&(0,i.Ed)(t.args,((t,i)=>{"element"===t.type&&(e.args[i]=n(e.args[i]))}))}))),(0,i.Ed)(e.behavior.events,(e=>{(0,i.Ed)(e.actions,(e=>{e.element=n(e.element),y.Z.main[e.method]&&(0,i.Ed)(y.Z.main[e.method].args,((t,i)=>{"element"===t.type&&e.args[i]&&(e.args[i]=n(e.args[i]))}))}))}))}))}pasteItemsInto(e,t){let n=Promise.resolve(!1);if(t.meta.templated&&t.meta.templateRootId&&t.args.templatedId){const i=this.findItemById(t.meta.templateRootId);i&&i.args.templated&&i.args.templateRef&&(n=this.getTemplate(i.args.templateRef).then((n=>{if(n.hasHandler("paste")){const r=n.onPasteItemInto(i,t.args.templatedId,e);return this.regenerateTemplatedItemWithExistingScopeData(i,n,r,i.area.w,i.area.h),k.Z.schemeChangeCommitted.$emit(this.editorId),k.Z.item.templateArgsUpdated.specific.$emit(this.editorId,i.id),!0}return!1})))}n.then((n=>{n||this._pasteItemsIntoRegularItem(e,t)}))}_pasteItemsIntoRegularItem(e,t){if(!e||0===e.length)return;const n=this.cloneItems(e),i=new Set;let r=e[0].area.x,o=e[0].area.y;for(let t=1;t<e.length;t++){const n={x:e[t].area.x,y:e[t].area.y};r=Math.min(r,n.x),o=Math.min(o,n.y)}const s=Math.min(10,t.area.w)-r,a=Math.min(10,t.area.h)-o;n.forEach((e=>{i.add(e.id),e.locked=!1,this.itemMap[e.id]=e,e.area.x+=s,e.area.y+=a,t.childItems||(t.childItems=[]),t.childItems.push(e),this.itemMap[e.id]=e})),this.fixPastedConnectors(n,i),this.reindexItems(),this.selectMultipleItems(n,!1),k.Z.schemeChangeCommitted.$emit(this.editorId)}pasteItems(e,t,n){if(!e||0===e.length)return;const r=this.cloneItems(e),o=new Set;if((0,i.Ed)(r,(e=>{o.add(e.id),e.locked=!1,this.scheme.items.push(e),this.itemMap[e.id]=e})),this.fixPastedConnectors(r,o),this.selectMultipleItems(r,!1),this.editBox){const e=this.editBox.area,i=t-(e.x+e.w/2),r=n-(e.y+e.h/2);e.x+=i,e.y+=r,this.updateEditBoxItems(this.editBox,!1,ge)}this.reindexItems(),k.Z.schemeChangeCommitted.$emit(this.editorId)}fixPastedConnectors(e,t){(0,i.Ed)(e,(e=>{if("connector"===e.shape){const n=e=>{if("#"===e[0]){const n=e.substring(1);return t.has(n)}return!0};e.shapeProps.sourceItem&&!n(e.shapeProps.sourceItem)&&(e.shapeProps.sourceItem=null),e.shapeProps.destinationItem&&!n(e.shapeProps.destinationItem)&&(e.shapeProps.destinationItem=null)}}))}copyItem(e){const t={id:h().generate(),meta:{oldId:e.id}};return(0,i.Ed)(e,((e,n)=>{"childItems"===n||"_childItems"===n?t[n]=(0,i.UI)(e,(e=>this.copyItem(e))):"id"!==n&&"meta"!==n&&(t[n]=l.Z.clone(e))})),t}updateEditBoxItems(e,t,n,r){me.info("updateEditBoxItems","isSoft:",t,"precision:",r),void 0===r&&(r=4),n||(n=ge);const o=new Map;Array.isArray(e.items)&&e.items.forEach((e=>{o.set(e.id,e)}));const s=new Set,l=t=>a.Z.worldPointInArea(t.x*e.area.w,t.y*e.area.h,e.area),c=new Map;e.connectorPoints.forEach((e=>{const t=o.has(e.itemId)?o.get(e.itemId):this.findItemById(e.itemId);if(s.add(t.id),0!==e.pointIdx&&e.pointIdx!==t.shapeProps.points.length-1||c.set(`${t.id}.points.${e.pointIdx}`,{item:t,pointIdx:e.pointIdx}),n.controlPoint)return;const i=l(e.projection),r=(0,he.N5)(i.x,i.y,t);t.shapeProps.points[e.pointIdx].x=r.x,t.shapeProps.points[e.pointIdx].y=r.y})),(0,i.Ed)(e.items,(r=>{if("connector"===r.shape)return;s.add(r.id);const c=r.meta&&r.meta.ancestorIds&&(0,i.sE)(r.meta.ancestorIds,(e=>s.has(e))),h=c&&(n.moved||n.rotated)&&!n.resized;if(!r.locked&&!h){const i=e.itemProjections[r.id];c||(r.area.r=i.r+e.area.r);let s=a.Z.identityMatrix();const h=o.has(r.meta.parentId)?o.get(r.meta.parentId):this.findItemById(r.meta.parentId);h&&(s=(0,he.aR)(h));const d=l(i.topLeft),u=a.Z.findTranslationMatchingWorldPoint(d.x,d.y,0,0,r.area,s),p={x:r.area.x,y:r.area.y,w:r.area.w,h:r.area.h};if(u&&(p.x=u.x,p.y=u.y),n.resized){const e=l(i.bottomRight),t=a.Z.localPointInArea(e.x,e.y,pe(pe({},r.area),p),r.meta&&r.meta.transformMatrix?r.meta.transformMatrix:null);p.w=Math.max(0,t.x),p.h=Math.max(0,t.y)}if(r.meta&&r.meta.templated&&r.meta.templateRootId&&r.meta.templateRootId!==r.id&&r.args&&r.args.templatedId){if(r.args&&"controlled"===r.args.tplArea){const e=this.findItemById(r.meta.templateRootId);if(!e||!e.args||!e.args.templateRef)return;this.getTemplate(e.args.templateRef).then((n=>{n.onAreaUpdate(e,r.args.templatedId,r,p),r.area.x=p.x,r.area.y=p.y,r.area.w=p.w,r.area.h=p.h,t||this.regenerateTemplatedItem(e,n,e.args.templateArgs,e.area.w,e.area.h),k.Z.item.templateArgsUpdated.specific.$emit(this.editorId,e.id)}))}}else r.area.x=p.x,r.area.y=p.y,r.area.w=p.w,r.area.h=p.h;n.resized&&"component"===r.shape&&"embedded"===r.shapeProps.kind&&this.readjustComponentContainerRect(r)}})),n.controlPoint||c.forEach((e=>{this.tryReattachingConnector(e.item,this.editBox,e.pointIdx)})),s.forEach((e=>{const i=this.findItemById(e);i&&(this.updateChildTransforms(i),Ce(i),this.readjustItemAndDescendants(i.id,t,n,r),k.Z.item.changed.specific.$emit(this.editorId,i.id,"area"),this.updatePropertyForClones(i,(e=>{e.area.x=i.area.x,e.area.y=i.area.y,e.area.w=i.area.w,e.area.h=i.area.h,e.area.r=i.area.r,e.area.px=i.area.px,e.area.py=i.area.py}),!0))})),k.Z.editBox.updated.$emit(this.editorId)}tryReattachingConnector(e,t,n){if(me.info("trying to reattach connector","pointIdx:",n),!e.shapeProps.autoAttach)return;const i=t.connectorOriginalAttachments.get(e.id);if(!i||e.shapeProps.points.length<2)return;const r=0===n?"source":"destination",o=0===n?i.sourceItem:i.destinationItem,s=0===n?i.sourceProjection:i.destinationProjection,l=((e,n)=>{const i=this.findFirstElementBySelector(e);if(!i)return null;const r=a.Z.worldPointInArea(n.x*t.area.w,n.y*t.area.h,t.area),o=this.closestPointToItemOutline(i,r,{precision:4});if(!o)return null;const s=a.Z.tooSmall(this.screenTransform.scale)?50:50/this.screenTransform.scale;return a.Z.distanceBetweenPoints(r.x,r.y,o.x,o.y)>s?null:o})(o,s);if(l){e.shapeProps[`${r}Item`]=o,e.shapeProps[`${r}ItemPosition`]=l.distanceOnPath;const t=(0,he.N5)(l.x,l.y,e);e.shapeProps.points[n].x=t.x,e.shapeProps.points[n].y=t.y}else if(e.shapeProps[`${r}Item`]=null,delete e.shapeProps.points[n].nx,delete e.shapeProps.points[n].ny,s){const i=a.Z.worldPointInArea(s.x*t.area.w,s.y*t.area.h,t.area),r=(0,he.N5)(i.x,i.y,e);e.shapeProps.points[n].x=r.x,e.shapeProps.points[n].y=r.y}}generateUniqueName(e){const t=(0,i.UI)(this.getItems(),(e=>e.name));return(0,i.lc)(e,t)}copyNameAndMakeUnique(e){for(let t=e.length-1;t>=0;t--){const n=e.charCodeAt(t);if(n<48||n>=57)return this.generateUniqueName(e.substring(0,t+1))}return this.generateUniqueName("")}updateEditBoxConnectorPoints(){this.editBox&&this.editBox.connectorPoints.forEach((e=>{const t=this.findItemById(e.itemId),n=t.shapeProps.points[e.pointIdx],i=(0,he.rs)(n.x,n.y,t),r=a.Z.localPointInArea(i.x,i.y,this.editBox.area);e.x=r.x,e.y=r.y}))}updateEditBox(){me.info("updateEditBox");const e=this.selectedItems.map((e=>this.findItemById(e.id))).filter((e=>e));e.length>0||this.selectedConnectorPoints.length>0?this.editBox=this.generateEditBox(e,this.selectedConnectorPoints):this.editBox=null}updateEditBoxAreaOnly(){if(this.editBox&&this.selectedItems.length>0){const e=this.generateEditBox(this.selectedItems,this.selectedConnectorPoints);this.editBox.area.x=e.area.x,this.editBox.area.y=e.area.y,this.editBox.area.w=e.area.w,this.editBox.area.h=e.area.h,this.editBox.area.r=e.area.r,this.editBox.area.sx=e.area.sx,this.editBox.area.sy=e.area.sy}}generateEditBox(e,t){me.info("generating edit box","items:",e.length,"connectorPointRefs:",t.length);let n=null,r=!0;const o={x:.5,y:.5},s=new Map,c=[].concat(t);if(e.forEach((e=>{s.set(e.id,e),"connector"===e.shape&&Array.isArray(e.shapeProps.points)&&!e.locked&&e.shapeProps.points.forEach(((t,n)=>{c.push({itemId:e.id,pointIdx:n})}))})),1!==e.length||e[0].meta.templated&&e[0].meta.templateRootId!==e[0].id)e.length>0&&(n=function(e){let t=null,n=null;const r=[e=>({x:0,y:0}),e=>({x:e.area.w,y:0}),e=>({x:e.area.w,y:e.area.h}),e=>({x:0,y:e.area.h})];return(0,i.Ed)(e,(e=>{(0,i.Ed)(r,(i=>{const r=i(e),o=(0,he.rs)(r.x,r.y,e);t?(t.x=Math.min(t.x,o.x),t.y=Math.min(t.y,o.y)):t={x:o.x,y:o.y},n?(n.x=Math.max(n.x,o.x),n.y=Math.max(n.y,o.y)):n={x:o.x,y:o.y}}))})),{x:t.x,y:t.y,w:n.x-t.x,h:n.y-t.y,r:0,px:0,py:0,sx:1,sy:1}}(e));else{const t=(0,he.rs)(0,0,e[0]),i=(0,he.rs)(e[0].area.w,0,e[0]),r=(0,he.rs)(0,e[0].area.h,e[0]);let s=0;s=a.Z.tooSmall(e[0].area.w)?180*a.Z.fullAngleForVector(r.x-t.x,r.y-t.y)/Math.PI-90:180*a.Z.fullAngleForVector(i.x-t.x,i.y-t.y)/Math.PI,n={x:t.x,y:t.y,r:s,w:a.Z.distanceBetweenPoints(t.x,t.y,i.x,i.y),h:a.Z.distanceBetweenPoints(t.x,t.y,r.x,r.y),px:0,py:0,sx:1,sy:1},o.x=e[0].area.px,o.y=e[0].area.py}const d=[];if(c.forEach((e=>{const t=s.has(e.itemId)?s.get(e.itemId):this.findItemById(e.itemId);if(!t||"connector"!==t.shape)return;if(e.pointIdx<0||e.pointIdx>=t.shapeProps.points.length)return;const i=t.shapeProps.points[e.pointIdx],r=(0,he.rs)(i.x,i.y,t);n?(n.x>r.x?(n.w+=n.x-r.x,n.x=r.x):n.x+n.w<r.x&&(n.w=r.x-n.x),n.y>r.y?(n.h+=n.y-r.y,n.y=r.y):n.y+n.h<r.y&&(n.h=r.y-n.y)):n=pe(pe({},r),{},{r:0,w:0,h:0,px:.5,py:.5,sx:1,sy:1}),d.push(pe(pe({},r),e))})),!n)throw new Error("Could not calculate edit box area");const u={},p={},f=new Set,m=(e,t)=>{const i=a.Z.localPointInArea(e,t,n);return n.w>0&&(i.x=i.x/n.w),n.h>0&&(i.y=i.y/n.h),i},g=new Map;d.forEach((e=>{e.projection=m(e.x,e.y);const t=a.Z.localPointInArea(e.x,e.y,n);e.x=t.x,e.y=t.y,(e=>{if(g.has(e.id))return;if(e.shapeProps.points.length<2)return;const t=e.shapeProps.points[0],n=e.shapeProps.points[e.shapeProps.points.length-1],i=(0,he.rs)(t.x,t.y,e),r=(0,he.rs)(n.x,n.y,e);g.set(e.id,{sourceItem:e.shapeProps.sourceItem,sourceItemPosition:e.shapeProps.sourceItemPosition,destinationItem:e.shapeProps.destinationItem,destinationItemPosition:e.shapeProps.destinationItemPosition,sourceProjection:m(i.x,i.y),destinationProjection:m(r.x,r.y)})})(s.has(e.itemId)?s.get(e.itemId):this.findItemById(e.itemId)),f.add(e.itemId)})),(0,i.Ed)(e,(e=>{p[e.id]={originalArea:l.Z.clone(e.area)},f.add(e.id),e.locked||e.autoLayout&&e.autoLayout.on||(r=!1);const t=(0,he.rs)(0,0,e),i=(0,he.rs)(e.area.w,e.area.h,e);a.Z.tooSmall(t.x-i.x)&&(i.x+=1),a.Z.tooSmall(t.y-i.y)&&(i.y+=1),u[e.id]={topLeft:m(t.x,t.y),bottomRight:m(i.x,i.y),r:e.area.r-n.r},"path"===e.shape&&(p[e.id].originalCurvePaths=l.Z.clone(e.shapeProps.paths))})),d.length>0&&(r=!1);let v=null,y=null,b=!0,x=!0;if(1===e.length){const t=e[0];if(t.args&&t.args.templated){if(t.args.templateRef)y=t,v=t.args.templateRef;else{const e=this.findAncestor(t,(e=>e.args&&e.args.templateRef));e&&(v=e.args.templateRef,y=e)}v&&"off"===t.args.tplRotation&&(b=!1),v&&"off"===t.args.tplConnector&&(x=!1)}}let w=[];if(1===e.length&&e[0].meta.parentId){const t=this.findItemById(e[0].meta.parentId);t&&(w=(0,de.bn)(e[0],t))}return{id:h().generate(),locked:r,items:e,itemIds:f,itemData:p,area:n,itemProjections:u,pivotPoint:o,rotationEnabled:b,connectorStarterEnabled:x,connectorPoints:d,connectorOriginalAttachments:g,cache:new Map,templateRef:v,templateItemRoot:y,ruleGuides:w,worldPivotPoint:a.Z.worldPointInArea(o.x*n.w,o.y*n.h,n)}}findAncestor(e,t){if(!e.meta.parentId)return null;const n=this.findItemById(e.meta.parentId);return n?t(n)?n:this.findAncestor(n,t):null}generateItemSnappers(e){const t=d.Z.find(e.shape);return t?t.getSnappers(e):null}findItemSuitableForParent(e,t){const n=this.calculateItemWorldArea(e),i=this.getItems();for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.id!==e.id&&o.mount&&o.visible&&"connector"!==o.shape&&(!t||t(o))){const e=this.worldItemAreas.get(o.id);if(e&&n.w+n.h<e.w+e.h){const t=a.Z.overlappingArea(e,n),i=n.w*n.h;if(t&&!a.Z.tooSmall(i)&&t.w*t.h/i>=.5)return o}}}return null}prepareFrameAnimations(){this.prepareFrameAnimationsForItems()}prepareFrameAnimationsForItems(){this.frameAnimations={},(0,i.Ed)(this.framePlayers,(e=>{const t=N(e,this);this.frameAnimations[e.id]=new B(e.shapeProps.fps,e.shapeProps.totalFrames,t)}))}getFrameAnimation(e){return this.frameAnimations[e]}alignItemsHorizontally(e){if(e.length<2)return;let t=0;const n=[];(0,i.Ed)(e,(e=>{const i=this.getBoundingBoxOfItems([e]);n.push({bbox:i,item:e}),t+=i.y+i.h/2}));const r=t/n.length;n.sort(((e,t)=>e.bbox.x-t.bbox.x));let o=0,s=0;for(let e=0;e<n.length-1;e++){const t=n[e+1].bbox.x-(n[e].bbox.x+n[e].bbox.w);t>0&&(o+=t,s++)}const l=o/Math.max(1,s);let c=n[0].bbox.x;for(let e=0;e<n.length;e++){const t=n[e].item;let i=0;e>0&&(i=c+l-n[e].bbox.x);const o=r-n[e].bbox.y-n[e].bbox.h/2;let s=a.Z.identityMatrix();if(t.meta.parentId){const e=this.findItemById(t.meta.parentId);e&&(s=(0,he.aR)(e))}const h=a.Z.transformVector(s,i,o);c=i+n[e].bbox.x+n[e].bbox.w,t.area.x+=h.x,t.area.y+=h.y,k.Z.item.changed.specific.$emit(this.editorId,t.id,"area")}this.listener&&this.listener.onSchemeChangeCommitted(this.editorId),this.updateEditBox()}alignItemsVertically(e){if(e.length<2)return;let t=0;const n=[];(0,i.Ed)(e,(e=>{const i=this.getBoundingBoxOfItems([e]);n.push({bbox:i,item:e}),t+=i.x+i.w/2}));const r=t/n.length;n.sort(((e,t)=>e.bbox.y-t.bbox.y));let o=0,s=0;for(let e=0;e<n.length-1;e++){const t=n[e+1].bbox.y-(n[e].bbox.y+n[e].bbox.h);t>0&&(o+=t,s++)}const l=o/Math.max(1,s);let c=n[0].bbox.y;for(let e=0;e<n.length;e++){const t=n[e].item;let i=0;e>0&&(i=c+l-n[e].bbox.y);const o=r-n[e].bbox.x-n[e].bbox.w/2;let s=a.Z.identityMatrix();if(t.meta.parentId){const e=this.findItemById(t.meta.parentId);e&&(s=(0,he.aR)(e))}const h=a.Z.transformVector(s,o,i);c=i+n[e].bbox.y+n[e].bbox.h,t.area.x+=h.x,t.area.y+=h.y,k.Z.item.changed.specific.$emit(this.editorId,t.id,"area")}this.listener&&this.listener.onSchemeChangeCommitted(this.editorId),this.updateEditBox()}alignItemsHorizontallyInParent(e){this._alignItemsWith(e,((e,t)=>{e.area.x+=t.x}))}alignItemsVerticallyInParent(e){this._alignItemsWith(e,((e,t)=>{e.area.y+=t.y}))}alignItemsCenteredInParent(e){this._alignItemsWith(e,((e,t)=>{e.area.x+=t.x,e.area.y+=t.y}))}generateItemFromTemplate(e,t,n,i){const r=se(e,t,n,i),[o]=this.cloneItems([r],!0,!1);return o.args.templateRef=e.templateRef,o.args.templateArgs=t,o}regenerateTemplatedItem(e,t,n,i,r){me.info("regenerateTemplatedItem",e.id,e.name,t.templateRef,n);const o=e.meta.parentId?this.findItemById(e.meta.parentId):null,s=ae(e,t,n,i,r);this.fixItemsReferences([e],s),this.updateChildTransforms(e),this._reindexRegeneratedTemplatedItem(e,o),this.readjustItem(e.id),(0,p.Hp)([e],(e=>{k.Z.item.changed.specific.$emit(this.editorId,e.id)}))}regenerateTemplatedItemWithExistingScopeData(e,t,n,i,r){me.info("regenerateTemplatedItemWithExistingScopeData",e.id,e.name,t.templateRef,n);const o=e.meta.parentId?this.findItemById(e.meta.parentId):null,s=function(e,t,n,i,r){return ae(e,t,n,i,r,!0)}(e,t,n,i,r);this.fixItemsReferences([e],s),this.updateChildTransforms(e),this._reindexRegeneratedTemplatedItem(e,o),this.readjustItem(e.id),(0,p.Hp)([e],(e=>{k.Z.item.changed.specific.$emit(this.editorId,e.id)}))}_reindexRegeneratedTemplatedItem(e,t){this.itemMap[e.id]=e,e.meta.ancestorIds=t?t.meta.ancestorIds.concat([t.id]):[],e.meta.parentId=t?t.id:null,(0,p.Hp)([e],((t,n)=>{t.id!==e.id&&(this.itemMap[t.id]=t,t.meta.ancestorIds=n?n.meta.ancestorIds.concat([n.id]):[],t.meta.parentId=n?n.id:null)}))}_alignItemsWith(e,t){this._breakItemsByParents(e).forEach(((e,n)=>{const r=this._findCenteringCorrection(e,n);(0,i.Ed)(e,(e=>{t(e,r),k.Z.item.changed.specific.$emit(this.editorId,e.id,"area")}))})),this.listener&&this.listener.onSchemeChangeCommitted(this.editorId),this.updateEditBox()}_findCenteringCorrection(e,t){if(0===e.length)return{x:0,y:0};const n=this.findItemById(t);if(!n)return;let r=e[0].area.x,o=e[0].area.x,s=e[0].area.y,a=e[0].area.y;(0,i.Ed)(e,(e=>{r=Math.min(r,e.area.x),o=Math.max(o,e.area.x+e.area.w),s=Math.min(s,e.area.y),a=Math.max(a,e.area.y+e.area.h)}));const l=r,c=n.area.w-o,h=s;return{x:(c-l)/2,y:(n.area.h-a-h)/2}}_breakItemsByParents(e){const t=new Map;return(0,i.Ed)(e,(e=>{const n=e.meta.parentId;n&&(t.has(n)||t.set(n,[]),t.get(n).push(e))})),t}}},4925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6234),r=n(9149),o=n(2644);const s={setItemControlPoints(e,t){if(t.meta.templated&&t.meta.templateRootId)return void this.clearItemControlPoints(e);const n=r.Z.find(t.shape);if(n&&n.controlPoints){const r=n.controlPoints.make(t),s=(0,o.pD)(t);(0,i.Ed)(r,(e=>{e.x=e.x*s.x,e.y=e.y*s.y})),e.dispatch("setItemControlPoints",r)}else this.clearItemControlPoints(e)},clearItemControlPoints(e){e.dispatch("clearItemControlPoints")},setMultiSelectBox(e,t){e.dispatch("setMultiSelectBox",t)},setSelectedConnector(e,t){const n=t?r.Z.find(t.shape).computeOutline(t):null;e.dispatch("setSelectedConnectorWithPath",{item:t,path:n})},setItemSnapper(e,t){e.dispatch("setItemSnapper",t)},clearItemSnappers(e){e.dispatch("clearItemSnappers")},toggleAutoRemount(e){e.dispatch("toggleAutoRemount")},togglePivot(e){e.dispatch("togglePivot")},toggleItemDetailMarkers(e){e.dispatch("toggleItemDetailMarkers")},proposeConnectorDestinationItems(e,t,n,i){e.dispatch("proposeConnectorDestinationItems",{connectorItemId:t,mx:n,my:i})},disableProposeConnectorDestinationItems(e){e.dispatch("disableProposeConnectorDestinationItems")},addInfoSystemMessage(e,t,n,i=null){e.dispatch("addSystemMessage",{status:"info",message:t,id:n,iconClass:i})},addErrorSystemMessage(e,t,n,i=null){e.dispatch("addSystemMessage",{status:"error",message:t,id:n,iconClass:i})},removeSystemMessage(e,t){e.dispatch("removeSystemMessage",t)},setDefaultConnectorSmoothing(e,t){e.dispatch("setDefaultConnectorSmoothing",t)},copyItemStyle(e,t){e.dispatch("copyItemStyle",t)},setCurrentConnector(e,t){e.dispatch("setCurrentConnector",t)},addArtPack(e,t,n){e.dispatch("addArtPack",{artPack:n,artPackId:t})},removeArtPack(e,t){e.dispatch("removeArtPack",t)},registerShapeGroupId(e,t){e.dispatch("registerShapeGroupId",t)}}},9532:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{BJ:()=>O});const s={START_BRACKET:1,END_BRACKET:2,TERM:3,STRING:4,STRING_TEMPLATE:5,NUMBER:6,OPERATOR:7,WHITESPACE:8,NEWLINE:9,DELIMITER:10,COMMA:11,NOT:12,COMMENT:13,START_CURLY:14,END_CURLY:15,RESERVED:16,TOKEN_GROUP:17,COLON:18,FIELD_ACCESSOR:19,AT_SYMBOL:20},a={IF:"if",ELSE:"else",WHILE:"while",TRUE:"true",FALSE:"false",FOR:"for",NULL:"null",STRUCT:"struct",FUNC:"func",LOCAL:"local"},l=new Set(Object.values(a));function c(e){return l.has(e)}function h(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e}function d(e){return"0"<=e&&e<="9"}function u(e){return" "===e||"\t"===e}const p=new Map(Object.entries({",":{t:s.COMMA},"(":{t:s.START_BRACKET},")":{t:s.END_BRACKET},"+":{t:s.OPERATOR,v:"+"},"-":{t:s.OPERATOR,v:"-"},"*":{t:s.OPERATOR,v:"*"},"/":{t:s.OPERATOR,v:"/"},"%":{t:s.OPERATOR,v:"%"},"<":{t:s.OPERATOR,v:"<"},">":{t:s.OPERATOR,v:">"},"=":{t:s.OPERATOR,v:"="},"^":{t:s.OPERATOR,v:"^"},";":{t:s.DELIMITER,v:";"},":":{t:s.COLON,v:":"},"!":{t:s.NOT,v:"!"},"{":{t:s.START_CURLY,v:"{"},"}":{t:s.END_CURLY,v:"}"},".":{t:s.FIELD_ACCESSOR,v:"."},"@":{t:s.AT_SYMBOL,v:"@"}})),f=new Map(Object.entries({"==":{t:s.OPERATOR,v:"=="},"!=":{t:s.OPERATOR,v:"!="},"||":{t:s.OPERATOR,v:"||"},"&&":{t:s.OPERATOR,v:"&&"},"<=":{t:s.OPERATOR,v:"<="},">=":{t:s.OPERATOR,v:">="},"+=":{t:s.OPERATOR,v:"+="},"-=":{t:s.OPERATOR,v:"-="},"*=":{t:s.OPERATOR,v:"*="},"/=":{t:s.OPERATOR,v:"/="},"=>":{t:s.OPERATOR,v:"=>"},"++":{t:s.OPERATOR,v:"++"},"--":{t:s.OPERATOR,v:"--"}})),m=new Map(Object.entries({"\\":"\\",t:"\t",n:"\n",'"':'"',"'":"'"}));class g{constructor(e){this.idx=0,this.text=e,this.currentLine=0}scanToken(){if(this.idx>=this.text.length)return null;const e=this.text[this.idx];if("\n"===e)return this.idx++,this.currentLine++,{t:s.NEWLINE,idx:this.idx-1,line:this.currentLine-1,text:""};if(h(e))return this.scanTerm();if(function(e){return d(e)||"."===e}(e))return this.scanNumber();if(u(e))return this.scanWhitespace();if('"'===e||"'"===e)return this.idx++,this.scanString(e);if("`"===e)return this.idx++,r(r({},this.scanString(e)),{},{t:s.STRING_TEMPLATE});if(this.idx<this.text.length-1){const e=this.text.substring(this.idx,this.idx+2);if("//"===e)return this.idx+=2,this.scanComment("\n");if("/*"===e)return this.idx+=2,this.scanComment("*/");if(f.has(e))return this.idx+=2,r(r({},f.get(e)),{},{text:e,idx:this.idx-2,line:this.currentLine})}if(p.has(e))return this.idx++,r(r({},p.get(e)),{},{text:e,idx:this.idx-1,line:this.currentLine});throw new Error("Invalid symbol: "+e)}scanComment(e){let t="";const n=this.idx;for(;this.idx<=this.text.length;){if(this.text.substring(this.idx,this.idx+e.length)===e){this.idx+=e.length,"\n"===e&&(this.idx-=1);break}t+=this.text[this.idx],this.idx++}return{t:s.COMMENT,text:t,idx:n,line:this.currentLine}}scanTerm(){let e="",t=this.idx;for(let t=this.idx;t<this.text.length;t++){const n=this.text[t];if(!h(n)&&!d(n))break;e+=n,this.idx=t+1}return c(e)?{t:s.RESERVED,v:e,text:e,idx:t,line:this.currentLine}:{t:s.TERM,v:e,text:e,idx:t,line:this.currentLine}}scanNumber(){let e="",t=!1;const n=this.idx;if("."===this.text[this.idx]&&this.idx<this.text.length-1&&!d(this.text[this.idx+1]))return this.idx++,{t:s.FIELD_ACCESSOR,v:".",text:"."};for(let n=this.idx;n<this.text.length;n++){const i=this.text[n];if(d(i))e+=i,this.idx=n+1;else{if("."!==i)break;if(t)break;t=!0,e+=i,this.idx=n+1}}return{t:s.NUMBER,v:parseFloat(e),text:e,idx:n,line:this.currentLine}}scanWhitespace(){const e=this.idx;for(let e=this.idx;e<this.text.length&&u(this.text[e]);e++)this.idx=e+1;return{t:s.WHITESPACE,text:" ",idx:e,line:this.currentLine}}scanString(e){let t="";const n=this.idx;for(;this.idx<this.text.length;){const i=this.text[this.idx];if(i===e)return this.idx++,{t:s.STRING,v:t,text:t,idx:n,line:this.currentLine};if("\\"===i){if(!(this.idx<this.text.length-1))throw new Error("Invalid use of escape symbol in string");{const e=this.text[this.idx+1];if(!m.has(e))throw new Error(`Unknown escape symbol: ${e}`);t+=m.get(e),this.idx++}}else t+=i;this.idx++}throw new Error("Unterminated string: "+t)}}function v(e){if(e===s.START_BRACKET)return s.END_BRACKET;if(e===s.START_CURLY)return s.END_CURLY;throw new Error("Don't know inverse token for "+e)}var y=n(1722),b=n(5833);class x{constructor(e){this.tokens=e,this.idx=0,this.line=0}hasMore(){return this.idx<this.tokens.length}scanToken(){if(this.idx>=this.tokens.length)return null;const e=this.tokens[this.idx];return this.idx++,e.t===s.NEWLINE&&this.line++,e}peekToken(){return this.idx>=this.tokens.length?null:this.tokens[this.idx]}peekAfterNewlineToken(){if(this.idx>=this.tokens.length)return null;for(let e=this.idx;e<this.tokens.length;e++)if(this.tokens[e].t!==s.NEWLINE)return this.tokens[e];return null}scanUntilNewLine(){const e=[];for(;this.hasMore();){const t=this.scanToken();if(!t||t.t===s.NEWLINE)break;e.push(t)}return e}skipToken(){this.idx++}skipNewlines(){for(;;){const e=this.peekToken();if(!e||e.t!==s.NEWLINE)return;this.line++,this.skipToken()}}skipNewlinesAndDelimeters(){for(;;){const e=this.peekToken();if(!e||e.t!==s.NEWLINE&&e.t!==s.DELIMITER)return;e.t===s.NEWLINE&&this.line++,this.skipToken()}}}class w extends b.QV{constructor(e,t,n){super("struct"),this.name=e,this.fieldDefinitions=t,this.functionDefinitions=n}evalNode(e){e.set(this.name,((...t)=>{const n={},i=e.newScope({this:n});return this.fieldDefinitions.forEach(((e,r)=>{r<t.length?n[e.name]=t[r]:n[e.name]=e.value.evalNode(i)})),this.functionDefinitions.forEach((e=>{n[e.name]=e.body.evalNode(i)})),n}))}}function A(e){const t=[],n=new x(e);for(;n.hasMore();){const e=n.scanToken();if(e.t===s.TOKEN_GROUP)t.push({groupCode:e.groupCode,t:e.t,v:e.v,text:e.text,groupTokens:A(e.groupTokens)});else if(C(e)){const i=n.peekToken();i&&i.t===s.NEWLINE&&n.skipNewlines(),t.push(e)}else if(e.t===s.NEWLINE){const i=n.peekAfterNewlineToken();i&&C(i)?n.skipNewlines():t.push(e)}else t.push(e)}return t}function C(e){return e&&(e.t===s.OPERATOR&&"++"!==e.v&&"--"!==e.v||e.t===s.FIELD_ACCESSOR||e.t===s.RESERVED&&e.v===a.ELSE)}const k=new Map(Object.entries({"^":6,"*":5,"/":5,"%":5,"+":4,"-":4,"<":3,">":3,"<=":3,">=":3,"!=":2,"==":2,"&&":1,"||":0,"=":-1}));function S(e){return k.has(e)?k.get(e):0}const P=new Map(Object.entries({"+":b.f$,"^":b.VQ,"-":b.BK,"*":b.rh,"/":b.O9,"%":b.PR,"<":b.KJ,">":b.H6,"<=":b.O$,">=":b.JB,"==":b.$X,"!=":b.HJ,"&&":b.J1,"||":b.lV,"=":b.Ke,"+=":b.b9,"-=":b.ao,"*=":b.EQ,"/=":b.j7}));function I(e){if(P.has(e))return P.get(e);throw new Error("Unknown operator: "+e)}function E(e,t,n){return{a:e,opClass:t,precedence:n,make:n=>new t(e,n)}}function _(e,t){const n=[];let i=[];n.push(i),t.forEach((t=>{if(t.t===s.COMMA){if(!i)throw new Error(`Invalid arguments declaration in function: "${e.print()}"`);i=[],n.push(i)}else i.push(t)}));const r=n[n.length-1];(0===r.length||1===r.length&&r[0].t===s.NEWLINE)&&n.pop();for(let e=0;e<n.length;e++){const t=n[e];if(0===t.length||1===t.length&&t[0].t===s.NEWLINE)throw new Error(`Missing argument #${e} in function invocation`)}return new b.W9(e,n.map(M))}class T extends x{constructor(e,t){super(e),this.originalText=t}parse(){if(!this.tokens||0===this.tokens.length)return new b.JR(null);const e=[];for(;this.hasMore();){const t=this.parseSingleExpression();t&&e.push(t)}return 1===e.length?e[0]:e.length>1?new b.G$(e):new b.JR(null)}parseSingleExpression(){this.skipNewlinesAndDelimeters();let e=this.parseTerm();if(!e)return null;const t=[],n=e=>null===e||e.t===s.COMMA||e.t===s.DELIMITER||e.t===s.NEWLINE;for(;this.hasMore();){let i=this.peekToken();if(n(i))break;if(this.skipToken(),i.t!==s.OPERATOR)throw new Error(`Expected operator but got unexpected token (at ${i.idx}, line ${i.line}): (${i.t}) "${i.text}"`);if("++"===i.v||"--"===i.v){if(!(e instanceof b.wr))throw new Error(`Unexpected ${i.v} operator`);e=new b.cP(e,!1,"++"===i.v?1:-1)}else{const n=S(i.v),r=I(i.v),o=this.parseTerm();if(null===o)throw new Error(`Missing right term after the "${i.v}" operator at ${i.idx}, line ${i.line}`);const a=this.peekToken(),l=a&&a.t===s.OPERATOR?a.v:null,c=l?S(l):-100;if(n>=c)for(e=new r(e,o);t.length>0;){const n=t[t.length-1];if(n.precedence<c)break;e=n.make(e),t.pop()}else t.push(E(e,r,n)),e=o}}return(()=>{for(;t.length>0;){const n=t.pop();e=n.make(e)}return e})()}parseExternalObjectReference(){let e=this.scanToken();if(!e)throw new Error('Missing the name after "@" symbol');if(e.t===s.TERM)return new b.p$(new b.JR(e.v));if(e.t===s.STRING)return new b.p$(new b.JR(e.v));if(e.t===s.STRING_TEMPLATE)return new b.p$(new b._D((0,y.J)(e.v)));if(e.t===s.NUMBER)return new b.p$(new b.JR(""+e.v));throw new Error('Unsupported token after "@"')}parseTermGroup(e){let t=this.peekToken();if(!t)return e;for(;t;)if(t.t===s.TOKEN_GROUP&&t.groupCode===s.START_BRACKET)e=_(e,t.groupTokens),this.skipToken(),t=this.peekToken();else{if(t.t!==s.FIELD_ACCESSOR)break;{if(this.skipToken(),t=this.peekToken(),!t)throw new Error("Missing field name definition after '.'");if(t.t!==s.TERM)throw new Error(`Expected field name after '.', but got: ${t.text}`);const n=t;this.skipToken(),t=this.peekToken();let i=null;t&&t.t===s.TOKEN_GROUP&&t.groupCode===s.START_BRACKET?(i=_(new b.wr(n.v),t.groupTokens),this.skipToken(),t=this.peekToken()):i=new b.wr(n.v),e=new b.yS(e,i)}}return e}parseTerm(){this.skipNewlines();const e=this.peekToken();if(null===e)return null;if(this.skipToken(),e.t===s.TOKEN_GROUP){if(e.groupCode===s.START_BRACKET){const t=this.peekToken();if(t&&t.t===s.OPERATOR&&"=>"===t.v)return this.skipToken(),this.skipNewlines(),$(e,this.scanToken());const n=M(e.groupTokens);return this.parseTermGroup(n)}throw new Error(`Unexpected token group "${e.v}"`)}if(e.t===s.NUMBER)return new b.JR(e.v);if(e.t===s.RESERVED){if(e.v===a.IF)return this.parseIfExpression();if(e.v===a.WHILE)return this.parseWhileExpression();if(e.v===a.FOR)return this.parseForLoop();if(e.v===a.TRUE)return new b.JR(!0);if(e.v===a.FALSE)return new b.JR(!1);if(e.v===a.NULL)return new b.JR(null);if(e.v===a.STRUCT)return this.parseStruct();if(e.v===a.FUNC)return this.parseFunctionDeclaration();if(e.v===a.LOCAL)return this.parseLocalVarDeclaration()}else{if(e.t===s.TERM){const t=this.peekToken();return t&&t.t===s.OPERATOR&&"=>"===t.v?(this.skipToken(),this.skipNewlines(),$({t:s.TOKEN_GROUP,groupCode:s.START_BRACKET,groupTokens:[e]},this.scanToken())):this.parseTermGroup(new b.wr(e.v))}if(e.t===s.AT_SYMBOL){const e=this.parseExternalObjectReference();return this.parseTermGroup(e)}if(e.t===s.STRING)return this.parseTermGroup(new b.ew(e.v));if(e.t===s.OPERATOR&&"-"===e.v){const e=this.parseTerm();if(!e)throw new Error('Expected term token after "-"');return new b.U8(e)}if(e.t===s.OPERATOR&&("++"===e.v||"--"===e.v)){const t=this.scanToken();if(!t)throw new Error(`Missing term after ${e.v} operator`);if(t.t!==s.TERM||c(t.v))throw new Error(`Unexpected token after ${e.v} operator: ${t.text}`);return new b.cP(new b.wr(t.v),!0,"++"===e.v?1:-1)}if(e.t===s.NOT){const e=this.parseTerm();if(!e)throw new Error('Expected term token after "!"');return new b.H5(e)}if(e.t===s.STRING_TEMPLATE)return new b._D((0,y.J)(e.v))}throw new Error(`Unexpected token: ${e.t} "${e.text}"`)}parseWhileExpression(){this.skipNewlines();let e=this.scanToken();if(!e||e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_BRACKET)throw new Error(`Expected "(" symbol after while (at ${e.idx}, line ${e.line})`);const t=M(e.groupTokens);if(!t)throw new Error(`Missing condition expression for while statement (at ${e.idx}, line ${e.line})`);if(this.skipNewlines(),e=this.scanToken(),!e||e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_CURLY)throw new Error(`Missing "{" symbol after "while" expression (at ${e.idx}, line ${e.line})`);const n=M(e.groupTokens);return new b.JY(t,n)}parseLocalVarDeclaration(){const e=this.parseSingleExpression();if(!e)throw new Error('Expected variable declaration after "local"');if(e instanceof b.wr)return new b.tE(e.varName,null);if(e instanceof b.Ke&&e.a instanceof b.wr)return new b.tE(e.a.varName,e);throw new Error("Invalid local variable declaration")}parseFunctionDeclaration(){this.skipNewlines();const e=this.scanToken();if(!e)throw new Error('Missing function name after "func"');if(e.t!==s.TERM)throw new Error(`Unexpected token after "func": "${e.text}"`);this.skipNewlines();const t=this.scanToken();if(!t)throw new Error(`Missing function args declaration for "${e.v}" function`);if(t.t!==s.TOKEN_GROUP||t.groupCode!==s.START_BRACKET)throw new Error(`Expected function args declaration for "${e.v}" function, got: "${t.text}"`);this.skipNewlines();const n=this.scanToken();if(!n)throw new Error(`Missing function body declaration for "${e.v}" function`);if(n.t!==s.TOKEN_GROUP||n.groupCode!==s.START_CURLY)throw new Error(`Expected function body declaration for "${e.v}" function, got: "${n.text}"`);const i=$(t,n);return new b.Ke(new b.wr(e.v),i)}parseStruct(){this.skipNewlines();const e=this.scanToken();if(!e||e.t!==s.TERM)throw new Error(`Missing struct name after "struct" (at ${e.idx}, line ${e.line})`);this.skipNewlines();const t=this.scanToken();if(!t||t.t!==s.TOKEN_GROUP||t.groupCode!==s.START_CURLY)throw new Error(`Missing "{" symbol for struct (at ${t.idx}, line ${t.line})`);return function(e,t){const n=[],i=[],r=new x(t);for(;r.hasMore();){r.skipNewlines();const t=r.scanToken();if(!t)break;if(t.t!==s.TERM)throw new Error(`Cannot parse struct "${e}". Expected struct field name definition, got: ${t.t} "${t.text}"`);let o=r.peekToken();if(!o){n.push({name:t.v,value:new b.JR(null)});break}if(o.t===s.COLON){if(r.skipNewlines(),o=r.scanToken(),!o)throw new Error(`Missing value definition for struct field "${t.v}"`);const e=r.peekToken();if(o.t===s.TOKEN_GROUP&&o.groupCode===s.START_BRACKET&&e&&e.t===s.OPERATOR&&"=>"===e.v){r.skipToken(),r.skipNewlines();const e=o,i=r.scanToken();if(!i||i.t!==s.TOKEN_GROUP||i.groupCode!==s.START_CURLY)throw new Error(`Expected function definition for struct field "${t.v}", get: ${i.t} ${i.v}`);const a=$(e,i);n.push({name:t.v,value:a})}else{const e=M(r.scanUntilNewLine());n.push({name:t.v,value:e})}}else if(o.t===s.TOKEN_GROUP&&o.groupCode===s.START_BRACKET){if(r.skipToken(),r.skipNewlines(),!r.peekToken())throw new Error(`Missing function body for "${t.v}" struct function`);const e=r.scanToken();if(e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_CURLY)throw new Error(`Unexpected token for function body of "${t.v}" struct function: ${e.t} ${e.text}`);const n=$(o,e);i.push({name:t.v,body:n})}else{if(n.push({name:t.v,value:new b.JR(null)}),o.t!==s.COMMA)throw new Error(`Unxpected token after "${t.v}" struct field definition: ${o.t} ${o.text}`);r.skipToken()}}return new w(e,n,i)}(e.v,t.groupTokens)}parseForLoop(){this.skipNewlines();let e=this.scanToken();if(!e||e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_BRACKET)throw new Error(`Expected "(" symbol after for (at ${e.idx}, line ${e.line})`);const t=[[]];if(e.groupTokens.forEach((e=>{e.t!==s.DELIMITER?t[t.length-1].push(e):t.push([])})),3!==t.length)throw new Error(`Invalid for loop declaration. Expected exactly two ";" (at ${e.idx}, line ${e.line})`);if(this.skipNewlines(),e=this.scanToken(),!e||e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_CURLY)throw new Error(`Missing "{" symbol after "for" expression (at ${e.idx}, line ${e.line})`);const n=M(e.groupTokens),i=M(t[0]),r=M(t[1]),o=M(t[2]);return new b.Qi(i,r,o,n)}parseIfExpression(){this.skipNewlines();let e=this.scanToken();if(!e||e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_BRACKET)throw new Error(`Missing "(" symbol after "if" (at ${e.idx}, line ${e.line})`);const t=M(e.groupTokens);if(this.skipNewlines(),e=this.scanToken(),!e||e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_CURLY)throw new Error('Missing "{" for if statement');const n=M(e.groupTokens);e=this.peekToken();let i=null;if(e&&e.t===s.RESERVED&&e.v===a.ELSE){if(this.skipToken(),this.skipNewlines(),e=this.scanToken(),!e)throw new Error('Missing expression after "else"');if(e.t===s.RESERVED&&e.v===a.IF)i=this.parseIfExpression();else{if(e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_CURLY)throw new Error('Expected "{" after "else"');i=M(e.groupTokens)}}return new b.OM(t,n,i)}}function $(e,t){if(!e)throw new Error("Cannot parse function declaration. Missing arguments definition");if(!t)throw new Error('Cannot parse function declaration. Missing "{"');if(e.t!==s.TOKEN_GROUP||e.groupCode!==s.START_BRACKET)throw new Error('Cannot parse function arguments definition. Expected "(", got: ',e.v);if(t.t!==s.TOKEN_GROUP||t.groupCode!==s.START_CURLY)throw new Error('Cannot parse function definition. Expected "{", got: ',e.v);const n=[];let i=!1;e.groupTokens.forEach((e=>{if(e.t===s.TERM){if(i)throw new Error('Cannot parse function arguments. Expected ",", got: ',e.v);n.push(e.v),i=!0}else{if(!i||e.t!==s.COMMA)throw new Error("Cannot parse function arguments. Unexpected token: ",e.v);i=!1}}));const r=M(t.groupTokens);return new b.i(n,r)}function M(e,t){return new T(e,t).parse()}function O(e){try{return M(A(function(e){const t=new g(e),n=[];n.push({originalToken:null,stackExitCode:null,stackStartCode:null,tokens:[]});let i=t.scanToken();for(;i;){if(i.t===s.START_BRACKET||i.t===s.START_CURLY)n.splice(0,0,{originalToken:i,stackExitCode:v(i.t),stackStartCode:i.t,tokens:[]});else if(i.t===s.END_BRACKET||i.t===s.END_CURLY){if(n[0].stackExitCode!==i.t)throw new Error(`Invalid token "${i.text}"`);const e=n.shift();n[0].tokens.push(r(r({},e.originalToken),{},{t:s.TOKEN_GROUP,groupCode:e.originalToken.t,groupTokens:e.tokens}))}else i.t!==s.WHITESPACE&&i.t!==s.COMMENT&&n[0].tokens.push(i);i=t.scanToken()}if(1!==n.length)throw new Error("Unclosed expression");return n[0].tokens}(e)),e)}catch(t){throw new Error(`Error parsing script:\n${e}\n\nError: ${t.message}`)}}},8197:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});class i{constructor(...e){this.items=Array.isArray(e)?e:[]}add(e){return this.items.push(e),this}remove(e){if(e<0&&e>=this.items.length)throw new Error(`Cannot remove ${e} item from List: index out of bounds`);return this.items.splice(e,1),this}get(e){if(e<0&&e>=this.items.length)throw new Error(`Cannot get ${e} item from List: index out of bounds`);return this.items[e]}first(){if(0===this.items.length)throw new Error("Cannot gert the first item from the List: no items in the list");return this.items[0]}last(){if(0===this.items.length)throw new Error("Cannot gert the last item from the List: no items in the list");return this.items[this.items.length-1]}set(e,t){if(e<0&&e>=this.items.length)throw new Error(`Cannot set ${e} item in List: index out of bounds`);return this.items[e]=t,this}insert(e,t){if(e<0&&e>=this.items.length)throw new Error(`Cannot insert ${e} item in List: index out of bounds`);return this.items.splice(e,0,t),this}pop(){return this.items.pop()}shift(){return this.items.shift()}forEach(e){this.items.forEach(e)}map(e){const t=this.items.map(e);return new i(...t)}filter(e){const t=this.items.filter(e);return new i(...t)}findIndex(e){return this.items.findIndex(e)}extendList(e){(e instanceof i||e instanceof Array)&&e.forEach((e=>{this.items.push(e)}))}sort(e){this.items.sort(e)}get size(){return this.items.length}}},5833:(e,t,n)=>{"use strict";n.d(t,{f$:()=>P,Ke:()=>G,J1:()=>W,lV:()=>q,ao:()=>Q,O9:()=>T,j7:()=>X,$X:()=>H,p$:()=>R,Qi:()=>L,i:()=>ie,W9:()=>re,H6:()=>j,JB:()=>U,OM:()=>N,cP:()=>J,b9:()=>K,KJ:()=>F,O$:()=>z,tE:()=>B,PR:()=>$,G$:()=>oe,rh:()=>_,EQ:()=>Y,U8:()=>M,QV:()=>w,H5:()=>O,HJ:()=>V,yS:()=>ee,VQ:()=>I,ew:()=>C,_D:()=>Z,BK:()=>E,JR:()=>A,wr:()=>k,JY:()=>D});var i=n(8197);class r{constructor(e,t,n){this.id=e,this.data=t||new Map,this.parent=n,this.x=0,this.y=0,this.w=0,this.h=0,this.tempData=new Map,this.siblingIx=0,this.level=0,this.children=new i.a}findById(e){if(this.id==e)return this;for(let t=0;t<this.children.size;t++){const n=this.children.get(t).findById(e);if(n)return n}return null}map(e){const t=new i.a;return this.children.forEach((n=>{t.add(n.map(e))})),e(this,t)}attachTo(e){this.parent=e,this.siblingIdx=e.children.size,e.children.add(this)}attachChildAtIndex(e,t){e.parent=this,this.children.insert(t,e),this.children.forEach(((e,t)=>{e.siblingIdx=t}))}encodeTree(e,t){let n=this.id;return this.data.forEach(((e,i)=>{n=n+t+i+"="+e})),this.children.forEach((i=>{const r=i.encodeTree(e,t);n+=e+r})),n+e+"N"}reindex(e){this.level=this.parent?this.parent.level+1:0,this.children.size>0&&this.children.forEach((t=>{t.reindex(e)})),e&&e(this)}traverse(e){e(this,this.parent),this.children.forEach((t=>{t.traverse(e)}))}}function o(e,t){const n=e.split(t),i=n.shift(),o=new Map;return n.forEach((e=>{const t=e.split("=");2===t.length&&o.set(t[0],t[1])})),new r(i,o)}n(1722);var s=n(791),a=n(4670),l=n.n(a);function c(e){if(e instanceof Map)return function(e){const t={};return e.forEach(((e,n)=>{t[n]=c(e)})),t}(e);if(e instanceof i.a||Array.isArray(e))return function(e){const t=[];return e.forEach((e=>{t.push(c(e))})),t}(e);if(e instanceof s.O)return function(e){return{x:e.x,y:e.y}}(e);const t=typeof e;return"string"===t||"number"===t||"boolean"===t||"bigint"===t?e:null==e?null:"object"===t?function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=c(e[n]));return t}(e):null}function h(e){return null===e?null:Array.isArray(e)?(t=e,new i.a(...t.map(h))):"object"==typeof e?function(e){const t=new Map;for(let n in e)e.hasOwnProperty(n)&&t.set(n,h(e[n]));return t}(e):e;var t}var d=n(6234),u=n(3590);const p={PI:Math.PI,createLineEquation:u.Z.createLineEquation,distanceFromPointToLine:u.Z.distanceFromPointToLine,linesIntersection:u.Z.linesIntersection,sideAgainstLine:u.Z.identifyPointSideAgainstLine,solveQuadratic:u.Z.solveQuadratic};var f=n(6012);class m{constructor(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i}encode(){return(0,f.N_)(this)}gradient(e,t){return new m(this.r*(1-t)+e.r*t,this.g*(1-t)+e.g*t,this.b*(1-t)+e.b*t,this.a*(1-t)+e.a*t)}}class g{constructor(e,t,n,i){this.x=e,this.y=t,this.w=n,this.h=i}overlaps(e){return!!u.Z.overlappingArea(this,e)}expand(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.w,e.x+e.w),r=Math.max(this.y+this.h,e.y+e.h);this.x=t,this.y=n,this.w=i-t,this.h=r-n}}const v={solid:e=>({type:"solid",color:e}),none:()=>({type:"none"}),image:(e,t=!1,n=0,i=0,r=1,o=1)=>({type:"image",image:e,stretch:t,imageBox:{x:n,y:i,w:r,h:o}}),radialGradient:(...e)=>({type:"gradient",gradient:{type:"radial",colors:y(e)}}),linearGradient:(e,...t)=>({type:"gradient",gradient:{type:"linear",direction:e,colors:y(t)}})};function y(e){const t=[];for(let n=0;n<e.length;n+=2)n+1<e.length&&t.push({p:e[n],c:e[n+1]});return t}const b="funcInvoke",x="var-ref";class w{constructor(e){this.type=e}evalNode(e){throw new Error("eval function is undefined for type: "+this.type)}print(){return"()"}}class A extends w{constructor(e){super("value",e),this.value=e}evalNode(e){return this.value}print(){return""+this.value}}class C extends w{constructor(e){super("string"),this.str=e}evalNode(e){return this.str}print(){return`"${this.str}"`}}class k extends w{constructor(e){super(x),this.varName=e}evalNode(e){return ne.has(this.varName)?ne.get(this.varName):e.get(this.varName)}print(){return this.varName}assignValue(e,t){e.set(this.varName,t)}}class S extends w{constructor(e,t,n,i){super(e),this.sign=t,this.a=n,this.b=i}print(){return`(${this.a.print()} ${this.sign} ${this.b.print()})`}evalNode(e){const t=this.a.evalNode(e),n=this.b.evalNode(e);return t instanceof s.O?t._operator(this.sign,n):n instanceof s.O?n._rightOperator(this.sign,t):this.evaluate(t,n)}evaluate(e,t){throw new Error(`operator ${this.sign} is not implemented`)}}class P extends S{constructor(e,t){super("add","+",e,t)}evaluate(e,t){return e+t}}class I extends S{constructor(e,t){super("pow","^",e,t)}evaluate(e,t){return Math.pow(e,t)}}class E extends S{constructor(e,t){super("subtract","-",e,t)}evaluate(e,t){return e-t}}class _ extends S{constructor(e,t){super("multiply","*",e,t)}evaluate(e,t){return e*t}}class T extends S{constructor(e,t){super("divide","/",e,t)}evaluate(e,t){return e/t}}class $ extends S{constructor(e,t){super("mod","%",e,t)}evaluate(e,t){return e%t}}class M extends w{constructor(e){super("negate"),this.node=e}evalNode(e){const t=this.node.evalNode(e);return t instanceof s.O?t.inverse():-t}print(){return`(-${this.node.print()})`}}class O extends w{constructor(e){super("not"),this.node=e}evalNode(e){return!this.node.evalNode(e)}print(){return`(!${this.v.print()})`}}class D extends w{constructor(e,t){super("while"),this.whileExpression=e,this.whileBlock=t}evalNode(e){let t=null;for(;this.whileExpression.evalNode(e.newScope());)t=this.whileBlock.evalNode(e.newScope());return t}print(){const e=this.whileBlock?this.whileBlock.print():"";return`while (${this.whileExpression.print()}) {${e}}`}}class L extends w{constructor(e,t,n,i){super("for"),this.init=e,this.condition=t,this.postLoop=n,this.loopBody=i}evalNode(e){for(e=e.newScope(),this.init.evalNode(e);this.condition.evalNode(e);)this.loopBody.evalNode(e),this.postLoop.evalNode(e)}print(){const e=this.loopBlock?this.loopBody.print():"";return`while (${this.init.print()}; ${this.condition.print()}; ${this.postLoop.print()}) {${e}}`}}class N extends w{constructor(e,t,n){super("if"),this.conditionExpression=e,this.trueBlock=t,this.falseBlock=n}evalNode(e){return this.conditionExpression.evalNode(e.newScope())?this.trueBlock?this.trueBlock.evalNode(e.newScope()):null:this.falseBlock?this.falseBlock.evalNode(e.newScope()):null}print(){const e=this.trueBlock?this.trueBlock.print():"",t=this.falseBlock?this.falseBlock.print():"";return`if (${this.conditionExpression.print()}) {${e}} else {${t}}`}}class B extends w{constructor(e,t){super("local"),this.varName=e,this.expression=t}evalNode(e){e.setLocal(this.varName,null),this.expression&&this.expression.evalNode(e)}}class R extends w{constructor(e){super("@"),this.nameProvider=e}evalNode(e){if(!this.nameProvider)return null;const t=this.nameProvider.evalNode(e);return e.getExternalObject(t)}}class Z extends w{constructor(e){super("string-template"),this.stringExpression=e}evalNode(e){return this.stringExpression.render(e)}}class F extends S{constructor(e,t){super("lessThan","<",e,t)}evalNode(e){return this.a.evalNode(e)<this.b.evalNode(e)}}class j extends S{constructor(e,t){super("greaterThan",">",e,t)}evalNode(e){return this.a.evalNode(e)>this.b.evalNode(e)}}class z extends S{constructor(e,t){super("lessThanOrEquals","<=",e,t)}evalNode(e){return this.a.evalNode(e)<=this.b.evalNode(e)}}class U extends S{constructor(e,t){super("greaterThanOrEquals",">=",e,t)}evalNode(e){return this.a.evalNode(e)>=this.b.evalNode(e)}}class H extends S{constructor(e,t){super("equals","==",e,t)}evalNode(e){return this.a.evalNode(e)==this.b.evalNode(e)}}class V extends S{constructor(e,t){super("notEqual","!=",e,t)}evalNode(e){return this.a.evalNode(e)!=this.b.evalNode(e)}}class q extends S{constructor(e,t){super("boolOr","||",e,t)}evalNode(e){return this.a.evalNode(e)||this.b.evalNode(e)}}class W extends S{constructor(e,t){super("boolAnd","&&",e,t)}evalNode(e){return this.a.evalNode(e)&&this.b.evalNode(e)}}class G extends S{constructor(e,t){super("assign","=",e,t)}evalNode(e){if(!this.a.assignValue)throw new Error("Cannot use assign operator on non-var");const t=this.b.evalNode(e);this.a.assignValue(e,t)}}class J extends w{constructor(e,t,n=1){if(super("increment"),!(e&&e instanceof k))throw new Error("Invalid use of "+this.operatorToString());this.term=e,this.isPre=t,this.step=n}operatorToString(){return this.step>0?"++":"--"}print(){const e=this.operatorToString();return this.isPre?e+this.term.print():this.term.print()+e}evalNode(e){const t=this.term.evalNode(e),n=t+this.step;return e.set(this.term.varName,n),this.isPre?n:t}}class K extends S{constructor(e,t){super("incrementWith","+=",e,t)}evalNode(e){if(!this.a.assignValue)throw new Error("Cannot use assign operator on non-var");const t=this.a.evalNode(e),n=this.b.evalNode(e);let i;i=t instanceof s.O?t._operator("+",n):t+n,this.a.assignValue(e,i)}}class Q extends S{constructor(e,t){super("decrementWith","-=",e,t)}evalNode(e){if(!this.a.assignValue)throw new Error("Cannot use assign operator on non-var");const t=this.a.evalNode(e),n=this.b.evalNode(e);let i;i=t instanceof s.O?t._operator("-",n):t-n,this.a.assignValue(e,i)}}class Y extends S{constructor(e,t){super("multiplyWith","*=",e,t)}evalNode(e){if(!this.a.assignValue)throw new Error("Cannot use assign operator on non-var");const t=this.a.evalNode(e),n=this.b.evalNode(e);let i;i=t instanceof s.O?t._operator("*",n):n instanceof s.O?n._rightOperator("*",t):t*n,this.a.assignValue(e,i)}}class X extends S{constructor(e,t){super("divideWith","/=",e,t)}evalNode(e){if(!this.a.assignValue)throw new Error("Cannot use assign operator on non-var");const t=this.a.evalNode(e),n=this.b.evalNode(e);let i;i=t instanceof s.O?t._operator("/",n):n instanceof s.O?n._rightOperator("/",t):t/n,this.a.assignValue(e,i)}}class ee extends S{constructor(e,t){super("field",".",e,t)}evalNode(e){const t=this.a.evalNode(e);if(this.b.type===x){const e=this.b.varName;if(null==t)throw new Error(`Cannot get ${e} from ${t}`);return t[e]}if(this.b.type===b)return this.b.evalOnObject(e,t);throw new Error("Invalid use for dot operator. Expected field reference but got: "+this.b.type)}assignValue(e,t){const n=this.a.evalNode(e);if(null==n)throw new Error(`Cannot assign "${i}" on ${n}`);if(this.b.type!==x)throw new Error(`Cannot assign value on object, invalid field reference (${this.b.type})`);const i=this.b.varName;n[i]=t}}function te(e,t){return isNaN(e)?t:e}const ne=new Map(Object.entries({min:Math.min,Vector:(e,t)=>new s.O(e,t),List:(...e)=>new i.a(...e),TreeNode:(...e)=>new r(...e),decodeTree:function(e,t,n){const i=e.split(t),r=o(i.shift(),n);let s=r;for(;i.length>0;){const e=i.shift();if("N"===e){let e=s.parent;e||(e=r),s=e}else{const t=o(e,n);t.attachTo(s),s=t}}return r},Area:(e,t,n,i)=>new g(e,t,n,i),Map:(...e)=>function(...e){const t=new Map;for(let n=1;n<e.length;n+=2)t.set(e[n-1],e[n]);return t}(...e),Set:(...e)=>new Set(e),max:Math.max,pow:Math.pow,sqrt:Math.sqrt,cos:Math.cos,sin:Math.sin,acos:Math.acos,asin:Math.asin,abs:Math.abs,uid:()=>l().generate(),round:Math.round,ceil:Math.ceil,floor:Math.floor,rnd:Math.random,logn:Math.log,log10:Math.log10,log2:Math.log2,tan:Math.tan,atan:Math.atan,isNumber:e=>Number.isFinite(parseFloat(e))||Number.isFinite(parseInt(e)),parseInt:function(e){return te(parseInt(e),0)},parseFloat:function(e){return te(parseFloat(e),0)},rndInt:(e,t)=>Math.round(Math.random()*(t-e))+e,rgba:(e,t,n,i)=>`rgba(${e},${t},${n},${i})`,PI:()=>Math.PI,ifcond:(e,t,n)=>e?t:n,matchesRegex:(e,t)=>new RegExp(t).test(e),splitString:(e,t)=>new i.a(...e.split(t)),toJSON:e=>c(e),fromJSON:e=>h(e),forEach:d.Ed,setObjectField:function(e,t,n){"object"==typeof e&&(e[t]=n)},Math:p,Color:(e,t,n,i)=>new m(e,t,n,i),decodeColor:e=>{const t=(0,f.lu)(e);return new m(t.r,t.g,t.b,t.a)},Fill:v}));class ie extends w{constructor(e,t){super("function"),this.argNames=e,this.body=t}print(){return`(${this.argNames.join(",")}) => {(${this.body.print()})}`}evalNode(e){return(...t)=>{const n=e.newScope();for(let e=0;e<t.length&&e<this.argNames.length;e++)n.setLocal(this.argNames[e],t[e]);return this.body.evalNode(n)}}}class re extends w{constructor(e,t){super(b),this.functionProvider=e,this.args=t}print(){const e=this.args.map((e=>e.print())).join(", ");return`${this.functionProvider.print()}(${e})`}evalNode(e){const t=this.args.map((t=>t.evalNode(e))),n=this.functionProvider.evalNode(e);if(!n)throw new Error("Cannot resolve function");return n(...t)}evalOnObject(e,t){if(this.functionProvider.type!==x)throw new Error("Invalid function invocation on object: "+t);const n=this.functionProvider.varName,i=this.args.map((t=>t.evalNode(e)));if(null==t)throw new Error(`Cannot invoke "${n}" function on non-object`);if("function"!=typeof t[n])throw new Error(`Function "${n}" is not defined on object `+t);if("function"!=typeof t[n])throw new Error(`"${n}" is not a function`);return t[n](...i)}}class oe extends w{constructor(e){super("multi-expr"),this.nodes=e}print(){return`(${this.nodes.map((e=>e?e.print():""+e)).join("; ")})`}evalNode(e){let t=null;return this.nodes.forEach((n=>{t=n.evalNode(e)})),t}}},387:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});class i{constructor(e,t,n){this.data=e||{},this.parent=t,this.externalObjectProvider=n}hasVar(e){return this.data.hasOwnProperty(e)}getExternalObject(e){return this.externalObjectProvider?this.externalObjectProvider(e):null}get(e){if(this.data.hasOwnProperty(e))return this.data[e];if(this.parent)return this.parent.get(e);throw new Error(`"${e}" was not defined`)}findScopeWithVar(e){return this.data.hasOwnProperty(e)?this:this.parent?this.parent.findScopeWithVar(e):null}set(e,t){let n=this.findScopeWithVar(e);n||(n=this),n.data[e]=t}setLocal(e,t){this.data[e]=t}newScope(e={}){return new i(e,this,this.externalObjectProvider)}getData(){return this.data}}},1722:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var i=n(9532);class r{constructor(e,t){this.text=e,this.isExpression=t,this.expression=null}process(e){this.text=this.text+e}compile(){this.isExpression&&(this.expression=(0,i.BJ)(this.text))}render(e){return this.isExpression?this.expression.evalNode(e):this.text}}class o{constructor(e){this.parts=e}compile(){this.parts.forEach((e=>e.compile()))}render(e){let t="";return this.parts.forEach((n=>{t+=n.render(e)})),t}}class s{constructor(e){this.text=e,this.idx=0}parse(){let e=new r("",!1);const t=[e];for(;;){const n=this.scan();if(!n)break;"$"===n&&"{"===this.peekNext()?(this.skip(),e=new r("",!0),t.push(e)):"}"===n&&e.isExpression?(e=new r("",!1),t.push(e)):e.process(n)}const n=new o(t);return n.compile(),n}scan(){if(this.idx>=this.text.length)return null;const e=this.text[this.idx];return this.idx++,e}peekNext(){return this.idx>=this.text.length?null:this.text[this.idx]}skip(){this.idx++}}function a(e){return new s(e).parse()}},8814:(e,t,n)=>{"use strict";n.d(t,{QQ:()=>k,at:()=>S,nh:()=>C});var i=n(9532),r=n(8197),o=n(387),s=n(1722);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h="$-def:",d="$-ref",u="$-expr",p="$-str",f="$-rawstr",m="$-if",g="$-else-if",v="$-else",y="$-for",b="$-foreach",x="$-extend",w="$-recurse",A="$-eval";function C(e){const t=P(e,new Map);return e=>t(new o.s(e))}function k(e,t){Array.isArray(e)||(e=[e]);const n=e.join("\n"),r=(0,i.BJ)(n);return e=>{const n=new o.s(l(l({},t),e||{}));return r.evalNode(n),n.getData()}}function S(e,t){const n=(0,i.BJ)(e);return e=>{const i=new o.s(l(l({},t),e||{}));return n.evalNode(i)}}function P(e,t){if(null===e)return()=>null;if(Array.isArray(e))return _(e,t);if("object"==typeof e){if(e.hasOwnProperty(u))return E(e[u]);if(e.hasOwnProperty(p))return function(e){let t=e;Array.isArray(e)&&(t=e.join("\n"));const n=(0,s.J)(t);return e=>n.render(e)}(e[p]);if(e.hasOwnProperty(f))return function(e){return Array.isArray(e)?t=>e.join("\n"):t=>e}(e[f]);if(e.hasOwnProperty(w))return M(e,e[w],t).build;if(e.hasOwnProperty(d)){const n=e[d];if(!t.has(n))throw new Error("Unknown reference: "+n);return P(t.get(n),t)}const n=I(e,t);let i=null,r=null;return e.hasOwnProperty(A)&&(r=Array.isArray(e[A])?e[A].join("\n"):e[A],r&&(i=E(r))),e=>{if(i)try{i(e)}catch(e){console.error("Failed to evaluate script:\n"+r),console.error(e)}return n(e)}}return t=>e}function I(e,t){const n=[];let i=null;e.hasOwnProperty(x)&&(i=P(e[x],t));for(let i in e)e.hasOwnProperty(i)&&(i.startsWith(h)&&t.set(i.substring(h.length).trim(),e[i]),i.startsWith("$-")||n.push({key:i,build:P(e[i],t)}));return e=>{const t=i?i(e.newScope()):{};return n.forEach((n=>{t[n.key]=n.build(e.newScope())})),t}}function E(e){const t=(0,i.BJ)(e);return n=>{try{return t.evalNode(n)}catch(t){console.error("Failed to evaluate expression:\n"+e),console.error(t)}}}function _(e,t){const n=[],i=[].concat(e);for(;i.length>0;){const e=i.shift();if(Array.isArray(e)){const i=_(e,t);n.push({build:e=>[i(e.newScope())]})}else if("object"==typeof e){if(e.hasOwnProperty(v))throw new Error(`"${v}" block does not follow "${m}"`);if(e.hasOwnProperty(g))throw new Error(`"${g}" block does not follow "${m}"`);if(e.hasOwnProperty(y))n.push(D(e,e[y],t));else if(e.hasOwnProperty(b))n.push(O(e,e[b],t));else if(e.hasOwnProperty(w))n.push(M(e,e[w],t));else if(e.hasOwnProperty(m)){const r=[e];let o=null;for(;i.length>0&&!Array.isArray(i[0])&&"object"==typeof i[0]&&i[0].hasOwnProperty(g);)r.push(i.shift());i.length>0&&!Array.isArray(i[0])&&"object"==typeof i[0]&&i[0].hasOwnProperty(v)&&(o=i.shift()),n.push(T(r,o,t))}else{const i=P(e,t);n.push({build:e=>i(e.newScope())})}}else n.push({build:t=>[e]})}return e=>n.flatMap((t=>t.build(e.newScope())))}function T(e,t,n){const i=e.map(((e,t)=>$(0===t?e[m]:e[g]))),r=e.map((e=>I(e,n))),o=t?P(t,n):null;return{build:e=>{const t=i.findIndex((t=>t.evalNode(e.newScope())));return t>=0?[r[t](e.newScope())]:o?[o(e.newScope())]:[]}}}function $(e){const t=Array.isArray(e)?e.join("\n"):e;return(0,i.BJ)(t)}function M(e,t,n){if(!t.hasOwnProperty("object"))throw new Error('Missing "object" definition for $-recurse statement');if(!t.hasOwnProperty("it"))throw new Error('Missing "it" definition for $-recurse statement');if(!t.hasOwnProperty("children"))throw new Error('Missing "children" definition for $-recurse statement');if(!t.hasOwnProperty("dstChildren"))throw new Error('Missing "dstChildren" definition for $-recurse statement');const o=P(t.object,n),s=(0,i.BJ)(t.children),a=t.it,c=t.dstChildren,h=l({},e);delete h[w];const d=I(h);function u(e,t){if(!t)return t;const n={};n[a]=t;const i=e.newScope(n),o=d(i),l=s.evalNode(i);if(l instanceof r.a||Array.isArray(l)){const t=[];l.forEach((n=>{t.push(u(e,n))})),o.hasOwnProperty(c)&&Array.isArray(o[c])?o[c]=o[c].concat(t):o[c]=t}return o}return{build:e=>u(e,o(e))}}function O(e,t,n){if(!t.hasOwnProperty("source"))throw new Error("Missing source definition in foreach loop");if(!t.hasOwnProperty("it"))throw new Error("Missing iterator (it) name definition in foreach loop");const i=E(t.source),o=I(e,n);let s=null;return e.hasOwnProperty(m)&&(s=$(e[m])),{build:e=>{const n=i(e);let a=()=>{};(n instanceof r.a||Array.isArray(n))&&(a=e=>{n.forEach(((t,n)=>{e(t,n)}))}),e=e.newScope();const l=[];return a(((n,i)=>{e.set(t.it,n),(!s||s.evalNode(e))&&l.push(o(e))})),l}}}function D(e,t,n){const i=t.start?P(t.start,n):e=>0,r=t.step?P(t.step,n):e=>1;if(!t.hasOwnProperty("until"))throw new Error("Missing until definition in for loop");if(!t.hasOwnProperty("it"))throw new Error("Missing iterator name definition in for loop");const o=P(t.until,n),s=I(e,n);let a=null;return e.hasOwnProperty(m)&&(a=$(e[m])),{build:e=>{const n=i(e.newScope()),l=r(e.newScope()),c=o(e.newScope()),h=e=>l>0?e<c:e>c;e=e.newScope();const d=[];for(let i=n;h(i);i+=l)e.set(t.it,i),(!a||a.evalNode(e))&&d.push(s(e));return d}}}},791:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var i=n(3590);class r{constructor(e,t){this.x=e,this.y=t}static fromPoint(e){return new r(e.x,e.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalized(){const e=this.length();return i.Z.tooSmall(e)?new r(0,0):new r(this.x/e,this.y/e)}toString(){return`{x: ${this.x}, y: ${this.y}}`}inverse(){return new r(-this.x,-this.y)}projection(e){return i.Z.projectVectorToVector(this.x,this.y,e.x,e.y)}_operator(e,t){if("+"===e){if(t instanceof r)return this.plusVector(t);throw new Error("Cannot sum vector and non-vector values")}if("-"===e){if(t instanceof r)return this.minusVector(t);throw new Error("Cannot sum vector and non-vector values")}if("*"===e)return this.multiply(t);if("/"===e)return this.divide(t);throw new Error(`Operator ${e} is not supported on Vector`)}_rightOperator(e,t){if(t instanceof r)return t._operator(e,this);if("*"===e)return this.multiply(t);throw new Error(`Unsupported operator: ${typeof t} ${e} Vector`)}minusVector(e){return new r(this.x-e.x,this.y-e.y)}plusVector(e){return new r(this.x+e.x,this.y+e.y)}multiply(e){if(e instanceof r)return this.x*e.x+this.y*e.y;const t=typeof e;if("number"!==t)throw new Error("Cannot multiply vector by "+t);return new r(this.x*e,this.y*e)}divide(e){const t=typeof e;if("number"!==t)throw new Error("Cannot divide vector by "+t);return new r(this.x/e,this.y/e)}rotate(e){const t=Math.cos(e),n=Math.sin(e);return new r(t*this.x-n*this.y,n*this.x+t*this.y)}}},2672:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(6234),r=n(2017),o=n(8145),s=n(70);const a=new r.Yd("Compiler");function l(e,t,n,r,l){const c=[];return(0,i.Ed)(r,(r=>{if(r.on&&r.element){const a=e.findElementsBySelector(r.element,n);if(a){let n=o.Z.main[r.method];if(!n&&r.method.startsWith("function:")&&(n=(0,s.Wx)(e,t,r.method.substring(9),r.args)),n){const t=function(e,t){return(0,i.Ed)(t.args,((t,n)=>{e.hasOwnProperty(n)||(e[n]=t.value)})),e}(r.args,n);n.multiItem?c.push({func:n,element:a,args:t}):(0,i.Ed)(a,(i=>{if(n.init)try{n.init(i,t,e)}catch(e){e&&(console.error(e),l(e))}c.push({func:n,element:i,args:t})}))}}}})),a.info("Compiling functions for item",n?`${n.id}/${n.name}`:""),(t,n,i,r,o)=>{const s=e.findItemById(i);if(c.length<1)return;const l={idx:0,next(){if(this.idx>=c.length)return null;const e=c[this.idx];return this.idx++,e},skip(){this.idx++}},h=()=>{const n=l.next();if(n){if(a.info("Executing",n.func.name,"function"),Array.isArray(n.element)){let t=!1;for(let i=0;i<n.element.length&&!t;i++)e.findItemById(n.element[i].id)&&(t=!0)}else if(!n.element||!e.findItemById(n.element.id))return void h();if(n.func.execute)n.func.execute(n.element,n.args,e,t,h,s,r,o);else if(n.func.executeWithBranching){const i=e=>{if(a.info("Branch result",e),e.break)return;let t=e.skip;for(;t>0;)t--,l.skip();h()};n.func.executeWithBranching(n.element,n.args,e,t,i,s,r,o)}else h()}};h()}}},6085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={standardEvents:{mousein:{id:"mousein",name:"Mouse In"},mouseout:{id:"mouseout",name:"Mouse Out"},clicked:{id:"clicked",name:"Clicked"},init:{id:"init",name:"Init"},valueChange:{id:"valueChange",name:"Value Change",description:'When the value of the item is changed with "setValue" script function'},dragStart:{id:"dragStart",name:"Dragging: Start",description:"When user starts dragging the object"},dragEnd:{id:"dragEnd",name:"Dragging: End",description:"When user stops dragging the object. It is invoked even if user drops the object in non-designated area and the dragging is canceled"},drag:{id:"drag",name:"Dragging: Move",description:"Invoked every time user moves the dragged item"},drop:{id:"drop",name:"Dragging: Dropped",description:"When user drops the object into a designated area"},receiveDrop:{id:"receiveDrop",name:"Dragging: Receive",description:"When user drops another object into this one"},dragObjectIn:{id:"dragObjectIn",name:"Dragging: Object In",description:"When user drags an object into another designated drop object"},dragObjectOut:{id:"dragObjectOut",name:"Dragging: Object Out",description:"When user drags an object away from another designated drop object"}}}},8145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ue});var i=n(7731),r=n(9737),o=n(3805),s=n(8595);const a={name:"Hide",description:"Hides your item from scene. It also allows to animate this and to perform a slow transition",args:{animated:{name:"Animated",type:"boolean",value:!0},animationDuration:{name:"Animation duration (sec)",type:"number",value:.5,depends:{animated:!0}},transition:{name:"Transition",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,depends:{animated:!0},description:"Play animation in background without blocking invocation of other actions"}},menuOptions:[{name:"Hide (animated)",args:{animated:!0}},{name:"Hide (instantly)",args:{animated:!1}}],argsToShortString:e=>e.animated?`animated, ${e.animationDuration} sec`:"instant",execute(e,t,n,i,a){if(!e)return void a();const l=e.opacity;t.animated?((0,r.oK)(n.editorId,new o.ZP({durationMillis:1e3*t.animationDuration,animationType:t.transition,update(t){e.opacity=l*(1-t),s.Z.item.changed.specific.$emit(n.editorId,e.id)},destroy(){e.visible=!1,e.opacity=0,s.Z.item.changed.specific.$emit(n.editorId,e.id),n.updateVisibility(e),t.inBackground||a()}}),e.id,"visibility-animation"),t.inBackground&&a()):(e.visible=!1,e.opacity=0,n.updateVisibility(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),a())}},l={name:"Show",description:"Makes your item visible on scene. You can also make it with a slow transition.",args:{targetOpacity:{name:"Target opacity",type:"number",value:100},animated:{name:"Animated",type:"boolean",value:!0},animationDuration:{name:"Animation duration (sec)",type:"number",value:.5,depends:{animated:!0}},transition:{name:"Transition",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,depends:{animated:!0},description:"Play animation in background without blocking invocation of other actions"}},menuOptions:[{name:"Show (animated)",args:{animated:!0}},{name:"Show (instantly)",args:{animated:!1}}],argsToShortString:e=>e.animated?`animated, ${e.animationDuration} sec`:"instant",execute(e,t,n,i,a){if(e)if(t.animated){const i=e.opacity;(0,r.oK)(n.editorId,new o.ZP({durationMillis:1e3*t.animationDuration,animationType:t.transition,init(){e.visible=!0,s.Z.item.changed.specific.$emit(n.editorId,e.id)},update(r){e.visible=!0,e.opacity=i*(1-r)+t.targetOpacity*r,s.Z.item.changed.specific.$emit(n.editorId,e.id)},destroy(){e.visible=!0,e.opacity=t.targetOpacity,n.updateVisibility(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),t.inBackground||a()}}),e.id,"visibility-animation"),t.inBackground&&a()}else e.visible=!0,e.opacity=t.targetOpacity,n.updateVisibility(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),a()}},c={name:"Send event",args:{event:{name:"Event",type:"string",value:"Unknown event..."}},argsToShortString:e=>e.event,execute(e,t,n,i,r){i.emitItemEvent(e.id,t.event),r()}};var h=n(3590),d=n(6234);function u(e,t,n,i,r,o,s,a,l,c){if(Math.sqrt((a-r)*(a-r)+(l-o)*(l-o))<1)return{x:a,y:l,scale:c};const h=r+(a-r)/2,d=o+(l-o)/2,f=(c+s)/2;return p(e,t,n,i,h,d,f)?u(e,t,n,i,r,o,s,h,d,f):u(e,t,n,i,h,d,f,a,l,c)}function p(e,t,n,i,r,o,s){const a=e.x*s+r,l=e.y*s+o,c=(e.x+e.w)*s+r,h=(e.y+e.h)*s+o;return a>=i&&a<=t-i&&c>=i&&c<=t-i&&l>=i&&l<=n-i&&h>=i&&h<=n-i}function f(e,t){if("hud"===e.shape)return!0;if(e.meta.parentId){const n=t.findItemById(e.meta.parentId);if(n)return f(n,t)}return!1}const m={name:"Zoom To It",description:"Moves scene to bring item into view so that it is centered on the screen",args:{closeEnough:{name:"Close Enough",type:"boolean",value:!1,description:"If checked, then it will only zoom to item just enough for it to appear fully inside the screen. Otherwise it will bring it to the center of the screen"},animated:{name:"Animated",type:"boolean",value:!0},animationDuration:{name:"Animation duration (sec)",type:"number",value:.5,min:0,depends:{animated:!0}},minZoom:{name:"Minimum Zoom(%)",type:"number",value:0,min:0},maxZoom:{name:"Maximum Zoom(%)",type:"number",value:100,min:0},inBackground:{name:"In Background",type:"boolean",value:!1,depends:{animated:!0},description:"Play animation in background without blocking invocation of other actions"}},argsToShortString:e=>e.animated?`animated, ${e.animationDuration} sec`:"instant",execute(e,t,n,i,a){if(!e||!e.area||f(e,n))return void a();const l=function(e,t){const n=[{x:0,y:0},{x:e.area.w,y:0},{x:e.area.w,y:e.area.h},{x:0,y:e.area.h}];let i=null,r=null,o=function(e,t){let n=h.Z.identityMatrix();if(e.meta.ancestorIds)for(let i=0;i<e.meta.ancestorIds.length;i++){const r=t.findItemById(e.meta.ancestorIds[i]);r&&(n=h.Z.standardTransformWithArea(n,r.area))}return n}(e,t);return(0,d.Ed)(n,(t=>{const n=h.Z.worldPointInArea(t.x,t.y,e.area,o);i?(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),r.x=Math.max(r.x,n.x),r.y=Math.max(r.y,n.y)):(i={x:n.x,y:n.y},r={x:n.x,y:n.y})})),{x:i.x,y:i.y,w:r.x-i.x,h:r.y-i.y}}(e,n);let c=1;const m=n.screenSettings.width,g=n.screenSettings.height;l.w>0&&l.h>0&&m>0&&g>0&&(c=Math.min(m/l.w,g/l.h),c=Math.max(t.minZoom/100,Math.min(c,t.maxZoom/100)));let v=m/2-(l.x+l.w/2)*c,y=g/2-(l.y+l.h/2)*c;if(t.closeEnough){if(p(l,m,g,0,n.screenTransform.x,n.screenTransform.y,n.screenTransform.scale))return void a();{const e=u(l,m,g,0,n.screenTransform.x,n.screenTransform.y,n.screenTransform.scale,v,y,c);v=e.x,y=e.y,c=e.scale}}if(t.animated){const e=n.screenTransform.x,i=n.screenTransform.y,l=n.screenTransform.scale;(0,r.oK)(n.editorId,new o.ZP({durationMillis:1e3*t.animationDuration,animationType:"ease-in-out",update:t=>{n.screenTransform.scale=l*(1-t)+c*t,n.screenTransform.x=e*(1-t)+v*t,n.screenTransform.y=i*(1-t)+y*t},destroy:()=>{s.Z.screenTransformUpdated.$emit(n.editorId,n.screenTransform),t.inBackground||a()}}),"screen","screen-transform"),t.inBackground&&a()}else n.screenTransform.scale=c,n.screenTransform.x=v,n.screenTransform.y=y,s.Z.screenTransformUpdated.$emit(n.editorId,n.screenTransform),a()}};var g=n(2217),v=n(9149);class y extends g.Z{constructor(e,t,n){super(),this.item=e,this.args=t,this.resultCallback=n,this.domContainer=null,this.domPath=null,this.time=0,this.backupOpacity=1,this.domAnimationPath=null}init(){this.domContainer=document.getElementById(`animation-container-${this.item.id}`);const e=v.Z.find(this.item.shape);if(e){const t=e.computeOutline(this.item);t&&(this.domPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domPath.setAttribute("d",t))}if(!this.domContainer||!this.domPath)return!1;this.domAnimationPath=this.svg("path",{d:this.domPath.getAttribute("d"),"stroke-dasharray":this.args.length,"stroke-dashoffset":0,"stroke-width":this.args.strokeWidth||1,stroke:this.args.color,fill:"none","stroke-linejoin":"round"}),this.domContainer.appendChild(this.domAnimationPath);let t=window.getComputedStyle(this.domPath).opacity;return t&&t>0&&(this.backupOpacity=t),this.domPath.style.opacity=0,!0}play(e){return this.time+=e,this.domAnimationPath.setAttribute("stroke-dashoffset",Math.floor(-this.time*this.args.speed/1e3)),!(!this.args.infinite&&this.time>1e3*this.args.duration)}destroy(){this.args.inBackground||this.resultCallback(),this.domAnimationPath&&this.domContainer.removeChild(this.domAnimationPath),this.domPath&&(this.domPath.style.opacity=this.backupOpacity)}}const b={name:"Crawl Effect",description:"Animates outline of the item with a dashed stroke",args:{length:{name:"Length",type:"number",value:10},color:{name:"Color",type:"color",value:"rgba(255,0,0,1.0)"},speed:{name:"Speed",type:"number",value:60},duration:{name:"Duration (sec)",type:"number",value:2,depends:{infinite:!1}},infinite:{name:"Infinite animation",type:"boolean",value:!1,description:"Plays animation indefinitely"},strokeWidth:{name:"Stroke Width",type:"number",value:3},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,o){e&&(0,r.oK)(n.editorId,new y(e,t,o),e.id,this.name),t.inBackground&&o()}},x={name:"Stop All Animations",description:"Stops all animations that were either created in the background or generated by another event",args:{},execute(e,t,n,i,o){e&&e.id&&(0,r.aG)(n.editorId,e.id),o()}};var w=n(2644),A=n(4670),C=n.n(A);const k=2*Math.PI;class S{constructor(){this.lifeTime=0,this.position={x:0,y:0},this.angle=0,this.scale=1,this.opacity=0,this.direction={x:0,y:0},this.floatAngle=0,this.floatAngleDirection=0}update(){}destroy(){}}class P extends S{constructor(e,t){super(),this.domParticle=t,this.domContainer=e,e.appendChild(t)}update(){this.domParticle.setAttribute("style",`opacity: ${this.opacity}`),this.domParticle.setAttribute("transform",`translate(${this.position.x} ${this.position.y}) rotate(${this.angle}) scale(${this.scale} ${this.scale})`)}destroy(){this.domContainer.removeChild(this.domParticle)}}class I{constructor(e){this.items=[],this.schemeContainer=e,this.recycledItems=[]}recycleItem(e){this.recycledItems.push(e)}destroy(){this.schemeContainer.deleteNonIndexableItems(this.items)}borrowItem(e){if(this.recycledItems.length>0)return this.recycledItems.pop();const t=this.schemeContainer.findFirstElementBySelector(e);if(t){const[e]=this.schemeContainer.cloneItems([t]);return this.schemeContainer.addNonIndexableItem(e),this.items.push(e),e}return null}}class E extends S{constructor(e,t,n,i){super(),this.item=n,this.particleItem=null,this.schemeContainer=e,this.itemRecycler=i,this.particleItem=this.itemRecycler.borrowItem(t)}update(){if(!this.particleItem)return;const e=(0,w.rs)(this.position.x,this.position.y,this.item);this.particleItem.visible=!0,this.particleItem.area.x=e.x-this.particleItem.area.px*this.particleItem.area.w,this.particleItem.area.y=e.y-this.particleItem.area.py*this.particleItem.area.h,this.particleItem.area.sx=this.scale,this.particleItem.area.sy=this.scale,this.particleItem.area.r=this.angle,this.particleItem.opacity=100*this.opacity,s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.particleItem.id)}destroy(){this.particleItem&&this.itemRecycler.recycleItem(this.particleItem)}}class _ extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.resultCallback=i,this.domContainer=null,this.domItemPath=null,this.particles=[],this.schemeContainer=n,this.itemRecycler=new I(n),this.generatorCounter=0,this.particlesLeft=this.args.particlesCount,this.cleanupDomElements=[],this.totalPathLength=0,this.singleParticleBirthTime=this.args.birthTime/Math.max(1,this.args.particlesCount)}init(){if(this.domContainer=document.getElementById(`animation-container-${this.item.id}`),!v.Z.find(this.item.shape))return!1;if(this.domItemPath=this.schemeContainer.getSvgOutlineOfItem(this.item),!this.domContainer||!this.domItemPath)return!1;this.totalPathLength=this.domItemPath.getTotalLength(),this.center=function(e){const t=e.getTotalLength();let n=0,i=0;for(let r=0;r<10;r++){const o=e.getPointAtLength(t*r/10);n+=o.x,i+=o.y}return{x:n/10,y:i/10}}(this.domItemPath);const e=this.svg("defs",{});return e.innerHTML=`\n            <radialGradient id="animation-particle-effect-gradient-${this.id}" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">\n            <stop offset="0%" style="stop-color:${this.args.color};stop-opacity:1" />\n            <stop offset="25%" style="stop-color:${this.args.color};stop-opacity:1" />\n            <stop offset="100%" style="stop-color:${this.args.color};stop-opacity:0" />\n            </radialGradient>\n        `,this.domContainer.appendChild(e),this.cleanupDomElements.push(e),!0}play(e){if(0===this.particles.length&&this.particlesLeft<=0)return!1;if(this.particlesLeft>0)if(this.singleParticleBirthTime>1e-4){if(this.generatorCounter+=e/(1e3*this.singleParticleBirthTime),this.generatorCounter>=1){const e=Math.floor(this.generatorCounter),t=Math.min(this.particlesLeft,e);for(let e=0;e<t;e++)this.createParticle();this.generatorCounter-=e}}else for(;this.particlesLeft>0;)this.createParticle();for(let t=0;t<this.particles.length;t++)this.particles[t].lifeTime>this.args.lifeTime?(this.particles[t].destroy(),this.particles.splice(t,1),t-=1):this.playParticle(this.particles[t],e);return!0}createParticle(){let e=0;this.args.travelAlongPath||(e=Math.random()*this.totalPathLength);const t=this.domItemPath.getPointAtLength(e);let n=null;if(n="item"===this.args.particleType?new E(this.schemeContainer,this.args.item,this.item,this.itemRecycler):new P(this.domContainer,this.createParticleDom(this.args.particleType,this.args.particleSize,this.args.color)),n.position=t,this.args.travelAlongPath){this.args.travelFloatRadius>0&&(n.floatAngle=Math.random()*k);let e=1;Math.random()>=.5&&(e=-1),n.floatAngleDirection=e}else{const e={x:0,y:0};e.x=t.x-this.center.x,e.y=t.y-this.center.y;const i=Math.sqrt(e.x*e.x+e.y*e.y);i>1e-4&&(e.x=e.x/i,e.y=e.y/i),n.direction=e}this.particles.push(n),n.update(),this.particlesLeft-=1}playParticle(e,t){if(e.lifeTime+=t/1e3,this.args.travelAlongPath){let n=this.args.lifeTime;n<.1&&(n=1);let i=0;i=this.args.backwards?this.totalPathLength*Math.max(0,1-e.lifeTime/n):this.totalPathLength*e.lifeTime/n;const r=this.domItemPath.getPointAtLength(i);let o=r.x,s=r.y;if(this.args.travelFloatRadius>0&&(e.floatAngle+=e.floatAngleDirection*this.args.travelFloatSpeed*t/(1e3*this.args.lifeTime),e.floatAngle>k&&(e.floatAngle-=k),o=r.x+this.args.travelFloatRadius*Math.cos(e.floatAngle),s=r.y+this.args.travelFloatRadius*Math.sin(e.floatAngle)),e.position.x=o,e.position.y=s,this.args.adjustRotation){const t=this.domItemPath.getPointAtLength(i+2),n=t.x-r.x,o=t.y-r.y,s=n*n+o*o;if(!h.Z.tooSmall(s)){const t=Math.sqrt(s),i=n/t,r=o/t,a=180*h.Z.fullAngleForNormalizedVector(i,r)/Math.PI;e.angle=a,isFinite(this.args.rotationOffset)&&(e.angle+=this.args.rotationOffset)}}}else e.position.x+=e.direction.x*this.args.speed*t/1e3,e.position.y+=e.direction.y*this.args.speed*t/1e3;let n=1,i=1;if(this.args.lifeTime>0){const t=100*e.lifeTime/this.args.lifeTime;t<this.args.fadeIn?i=t/this.args.fadeIn:t>this.args.fadeOut&&this.args.fadeOut<99.999&&(i=(100-t)/(100-this.args.fadeOut)),t<this.args.growth?n=t/this.args.growth:t>this.args.decline&&this.args.decline<99.999&&(n=(100-t)/(100-this.args.decline))}e.scale=n,e.opacity=i,e.update()}destroy(){this.args.inBackground||this.resultCallback(),(0,d.Ed)(this.particles,(e=>{e.destroy()})),this.itemRecycler.destroy(),(0,d.Ed)(this.cleanupDomElements,(e=>{this.domContainer.removeChild(e)})),this.cleanupDomElements=[]}createParticleDom(e,t,n){return"circle"===e?this.svg("circle",{cx:0,cy:0,r:t/2,fill:n}):"rect"===e?this.svg("rect",{x:-t/2,y:-t/2,width:t,height:t,fill:n,stroke:"none"}):this.svg("circle",{cx:0,cy:0,r:t/2,fill:`url(#animation-particle-effect-gradient-${this.id})`})}}const T={name:"Particle Effect",description:"Generates particles on the outline of the item",args:{particleType:{name:"Particle Type",type:"choice",value:"spot",options:["spot","circle","rect","item"]},item:{name:"Item",type:"element",value:null,depends:{particleType:"item"}},particlesCount:{name:"Particles",type:"number",value:20},particleSize:{name:"Particle size",type:"number",value:20},color:{name:"Color",type:"color",value:"rgba(255,0,0,1.0)"},speed:{name:"Speed",type:"number",value:60,depends:{travelAlongPath:!1}},lifeTime:{name:"Life time (sec)",type:"number",value:2},birthTime:{name:"Birth time (sec)",type:"number",value:.5,description:"Time in which it should generate all particles"},growth:{name:"Growth to (%)",type:"number",value:10},decline:{name:"Decline from (%)",type:"number",value:90},fadeIn:{name:"Fade in (%)",type:"number",value:5},fadeOut:{name:"Fade out (%)",type:"number",value:95},travelAlongPath:{name:"Travel along path",type:"boolean",value:!0,description:"The particle emits in the beggining of the path and travels along the path"},backwards:{name:"Travel backwards",type:"boolean",value:!1,depends:{travelAlongPath:!0}},adjustRotation:{name:"Adjust rotation",type:"boolean",value:!0,description:"Adjust rotation of particles to path",depends:{travelAlongPath:!0}},rotationOffset:{name:"Rotation offset",type:"number",value:0,description:"Rotation angle offset",depends:{adjustRotation:!0,travelAlongPath:!0}},travelFloatRadius:{name:"Travel float radius",type:"number",value:5,depends:{travelAlongPath:!0}},travelFloatSpeed:{name:"Travel float speed",type:"number",value:10,depends:{travelAlongPath:!0}},inBackground:{name:"In background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,o){if(e){const i=this.name+C().generate();(0,r.oK)(n.editorId,new _(e,t,n,o),e.id,i)}t.inBackground&&o()}};class $ extends g.Z{constructor(e,t,n,i){super(),this.editorId=e,this.item=t,this.args=n,this.resultCallback=i,this.elapsedTime=0,this.domContainer=null,this.domBlinker=null,this.opacity=0,this.itemOriginalOpacity=100,this.phase=0,this.pulsatingTime=0,this.phaseOffset=0}init(){this.domContainer=document.getElementById(`animation-container-${this.item.id}`);const e=v.Z.find(this.item.shape);if(!e)return!1;if(this.args.fade){const e=this.args.maxOpacity-this.args.minOpacity;this.phase=1,e>.001&&(this.phaseOffset=Math.asin(2*(this.item.opacity-this.args.minOpacity)/e-2))}else this.domBlinker=this.svg("path",{d:e.computeOutline(this.item),"stroke-width":3,stroke:this.args.color,fill:this.args.color,style:`opacity: ${this.args.minOpacity}`}),this.domContainer.appendChild(this.domBlinker);return!0}play(e){this.elapsedTime+=e,this.t+=this.args.speed*e/1e4;let t=!1;return t=this.args.fade?this.playFade(e):this.playBlinker(e),!!this.args.infinite||t}playFade(e){if(1===this.phase){this.pulsatingTime+=e;const t=Math.sin(this.pulsatingTime*this.args.speed/1e4+this.phaseOffset)/2+.5;this.item.opacity=this.args.minOpacity*(1-t)+this.args.maxOpacity*t,!this.args.infinite&&1e3*this.args.duration-this.elapsedTime<Math.min(500,1e3*this.args.duration/20)&&(this.phase=2)}return 2===this.phase&&(this.item.opacity+=this.args.speed*e/100,this.item.opacity>=this.itemOriginalOpacity)?(this.item.opacity=this.itemOriginalOpacity,!1):(s.Z.item.changed.specific.$emit(this.editorId,this.item.id),this.elapsedTime<1e3*this.args.duration)}playBlinker(e){if(0===this.phase)this.opacity<this.args.minOpacity/100?this.opacity+=this.args.speed*e/1e4:(this.opacity=this.args.minOpacity/100,this.phase=1);else if(1===this.phase)this.pulsatingTime+=e,this.opacity=((Math.sin(this.pulsatingTime*this.args.speed/1e4)/2+.5)*(this.args.maxOpacity-this.args.minOpacity)+this.args.minOpacity)/100,!this.args.infinite&&1e3*this.args.duration-this.elapsedTime<Math.min(500,1e3*this.args.duration/20)&&(this.phase=2);else if(this.opacity-=this.args.speed*e/1e4,this.opacity<0)return!1;return this.domBlinker.setAttribute("style",`opacity: ${this.opacity}`),this.elapsedTime<1e3*this.args.duration}destroy(){this.item.opacity=this.itemOriginalOpacity,this.args.inBackground||this.resultCallback(),this.domBlinker&&this.domContainer.removeChild(this.domBlinker)}}const M={name:"Blink Effect",description:"Generates a pulsating effect in which item fades in and out or glows with specified color",args:{fade:{name:"Fade in/out",type:"boolean",value:!0},color:{name:"Color",type:"color",value:"rgba(255,0,0,1.0)",depends:{fade:!1}},speed:{name:"Speed",type:"number",value:50},duration:{name:"Duration (sec)",type:"number",value:2,depends:{infinite:!1}},infinite:{name:"Infinite animation",type:"boolean",value:!1,description:"Plays animation indefinitely"},minOpacity:{name:"Min Opacity (%)",type:"number",value:5},maxOpacity:{name:"Max Opacity (%)",type:"number",value:80},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other acctions"}},execute(e,t,n,i,o){e&&((0,r.oK)(n.editorId,new $(n.editorId,e,t,o),e.id,this.name),t.inBackground&&o())}};n(1757);class O extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.elapsedTime=0,this.originalPosition={x:this.item.area.x,y:this.item.area.y},this.destinationPosition="relative"===t.kind?{x:this.item.area.x+parseFloat(t.x),y:this.item.area.y+parseFloat(t.y)}:{x:parseFloat(t.x),y:parseFloat(t.y)}}init(){return!0}play(e){if(this.args.animated&&this.args.duration>1e-5){this.elapsedTime+=e;const t=Math.min(1,this.elapsedTime/(1e3*this.args.duration));if(t>=1)return this.item.area.x=this.destinationPosition.x,this.item.area.y=this.destinationPosition.y,this.schemeContainer.updateChildTransforms(this.item),!1;const n=(0,o.rJ)(t,this.args.movement);return this.item.area.x=this.originalPosition.x*(1-n)+this.destinationPosition.x*n,this.item.area.y=this.originalPosition.y*(1-n)+this.destinationPosition.y*n,this.schemeContainer.updateChildTransforms(this.item),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.readjustItemAndDescendants(this.item.id),!0}return this.item.area.x=this.destinationPosition.x,this.item.area.y=this.destinationPosition.y,this.schemeContainer.updateChildTransforms(this.item),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.readjustItemAndDescendants(this.item.id),!1}destroy(){this.args.inBackground||this.resultCallback()}}const D={name:"Move",description:"Moves item to specified location in local coords",args:{kind:{name:"Position",type:"choice",value:"absolute",options:["absolute","relative"],description:'Specifies type of movement. "absolute" movement uses "x" and "y" as is, while "relative" movement specifies that item should move by specified "x" and "y"'},x:{name:"X",type:"number",value:50},y:{name:"Y",type:"number",value:50},animated:{name:"Animated",type:"boolean",value:!1},duration:{name:"Duration (sec)",type:"number",value:2,depends:{animated:!0}},movement:{name:"Movement",type:"choice",value:"linear",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions",depends:{animated:!0}}},argsToShortString(e){const t="relative"===e.kind?"Δ":"";return`${t}x: ${e.x}, ${t}y: ${e.y} `+(e.animated?"animated":"")},execute(e,t,n,i,o){if(e){if(t.animated)return(0,r.oK)(n.editorId,new O(e,t,n,o),e.id,this.name),void(t.inBackground&&o());"relative"===t.kind?(e.area.x+=t.x,e.area.y+=t.y):(e.area.x=t.x,e.area.y=t.y),n.updateChildTransforms(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.readjustItemAndDescendants(e.id)}o()}};class L extends g.Z{constructor(e,t,n,i,r,o,s,a){super(),this.item=e,this.args=t,this.schemeContainer=s,this.resultCallback=a,this.elapsedTime=0,this.originalPosition={x:this.item.area.x,y:this.item.area.y},this.destinationPosition=n,this.originalAngle=e.area.r,this.destinationAngle=i,this.originalWidth=e.area.w,this.destinationWidth=r,this.originalHeight=e.area.h,this.destinationHeight=o}init(){return!0}play(e){if(this.args.animated&&this.args.duration>1e-5){this.elapsedTime+=e;const t=Math.min(1,this.elapsedTime/(1e3*this.args.duration));let n=!0,i=(0,o.rJ)(t,this.args.movement);return t>=1&&(i=1,n=!1),this.item.area.x=this.originalPosition.x*(1-i)+this.destinationPosition.x*i,this.item.area.y=this.originalPosition.y*(1-i)+this.destinationPosition.y*i,this.args.rotate&&(this.item.area.r=this.originalAngle*(1-i)+this.destinationAngle*i),this.args.alignWidth&&(this.item.area.w=this.originalWidth*(1-i)+this.destinationWidth*i),this.args.alignHeight&&(this.item.area.h=this.originalHeight*(1-i)+this.destinationHeight*i),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),n}return this.item.area.x=this.destinationPosition.x,this.item.area.y=this.destinationPosition.y,s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),!1}destroy(){this.args.inBackground||this.resultCallback()}}const N={name:"Move to Item",description:"Moves item into another item. It also lets rotation and scale align to the destination item with a smooth transition",args:{destinationItem:{name:"Destination Item",type:"element",value:null,description:"Other item to which this item should be moved"},matchPoint:{name:"Match point",type:"choice",value:"center",description:"Match items points",options:["center","pivot","top-left","top-right","bottom-left","bottom-right"]},animated:{name:"Animated",type:"boolean",value:!1},duration:{name:"Duration (sec)",type:"number",value:2,depends:{animated:!0}},movement:{name:"Movement",type:"choice",value:"ease-in-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},rotate:{name:"Rotate",type:"boolean",value:!1,description:"Align rotation of items"},rotationOffset:{name:"Rotation Offset",type:"number",value:0,depends:{rotate:!0},description:"Rotation angle offset"},alignWidth:{name:"Align Width",type:"boolean",value:!1,description:"Adjust items width so that it fits to the width of its destination item"},alignHeight:{name:"Align Height",type:"boolean",value:!1,description:"Adjust items height so that it fits to the height of its destination item"},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions",depends:{animated:!0}}},execute(e,t,n,i,o){if(e){const i=n.findFirstElementBySelector(t.destinationItem,e);let a=e.area.r,l=null,c=e.area.w,d=e.area.h;if(i&&i.id!==e.id){l=function(e,t,n,i){const r={x:0,y:0},o={x:0,y:0};"pivot"===n?(r.x=t.area.px*t.area.w,r.y=t.area.py*t.area.h,o.x=e.area.px*e.area.w,o.y=e.area.py*e.area.h):"top-right"===n?(r.x=t.area.w,o.x=e.area.w):"bottom-left"===n?(r.y=t.area.h,o.y=e.area.h):"bottom-right"===n?(r.x=t.area.w,o.x=e.area.w,r.y=t.area.h,o.y=e.area.h):"center"===n&&(r.x=t.area.w/2,o.x=e.area.w/2,r.y=t.area.h/2,o.y=e.area.h/2);const s=(0,w.rs)(r.x,r.y,t);return h.Z.findTranslationMatchingWorldPoint(s.x,s.y,o.x,o.y,e.area,e.meta.transformMatrix)||i.relativePointForItem(s.x,s.y,e)}(e,i,t.matchPoint,n);const r=(0,w.uI)(e.area.w,0,e),o=(0,w.uI)(i.area.w,0,i),s=h.Z.fullAngleForVector(r.x,r.y);a+=180*(h.Z.fullAngleForVector(o.x,o.y)-s)/Math.PI,c=i.area.w,d=i.area.h}if(l){if(t.animated)return(0,r.oK)(n.editorId,new L(e,t,l,a,c,d,n,o),e.id,this.name),void(t.inBackground&&o());e.area.x=l.x,e.area.y=l.y,t.rotate&&(e.area.r=a+t.rotationOffset),t.alignWidth&&(e.area.w=c),t.alignHeight&&(e.area.h=d),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.updateChildTransforms(e),n.readjustItemAndDescendants(e.id)}}o()}},B={name:"Replace Item",description:"Hides destination item and moves your item to it. This is usefull in case you want to design mocked interface",args:{destinationItem:{name:"Destination Item",type:"element",value:null,description:"Other item which this item should replace"}},argsToShortString(e,t){if(e.destinationItem){if(e.destinationItem.startsWith("tag:"))return e.destinationItem;const n=t.findFirstElementBySelector(e.destinationItem);if(n)return n.name}return"..."},execute(e,t,n,i,r){if(e){const i=n.findFirstElementBySelector(t.destinationItem,e);let r=null;i&&i.id!==e.id&&(r=function(e,t,n){const i=n.worldPointOnItem(0,0,t);return n.relativePointForItem(i.x,i.y,e)}(e,i,n),i.visible=!1,e.visible=!0,e.area.x=r.x,e.area.y=r.y,n.updateChildTransforms(e),n.readjustItemAndDescendants(e.id))}r()}};class R extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.elapsedTime=0,this.originalAngle=this.item.area.r,this.destinationAngle=parseFloat(t.angle)}init(){return!0}play(e){if(this.args.animated&&this.args.duration>1e-5){this.elapsedTime+=e;const t=Math.min(1,this.elapsedTime/(1e3*this.args.duration));let n=(0,o.rJ)(t,this.args.movement),i=!0;return t>=1?(i=!1,n=1,!1):(this.item.area.r=this.originalAngle*(1-n)+this.destinationAngle*n,s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),i)}return this.item.area.r=this.destinationAngle,this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),!1}destroy(){this.args.inBackground||this.resultCallback()}}const Z={name:"Rotate",description:"Rotates item by specified angle",args:{angle:{name:"Angle",type:"number",value:0},animated:{name:"Animated",type:"boolean",value:!1},duration:{name:"Duration (sec)",type:"number",value:2,depends:{animated:!0}},movement:{name:"Movement",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions",depends:{animated:!0}}},execute(e,t,n,i,o){if(e){if(t.animated)return(0,r.oK)(n.editorId,new R(e,t,n,o),e.id,this.name),void(t.inBackground&&o());e.area.r=parseFloat(t.angle),n.updateChildTransforms(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.readjustItemAndDescendants(e.id)}o()}};var F=n(520);class j extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.elapsedTime=0,this.originalArea=F.Z.clone(e.area),this.destinationScale={sx:parseFloat(t.scaleX),sy:parseFloat(t.scaleY)}}init(){return!0}play(e){if(this.args.animated&&this.args.duration>1e-5){this.elapsedTime+=e;const t=Math.min(1,this.elapsedTime/(1e3*this.args.duration));let n=(0,o.rJ)(t,this.args.movement),i=!0;return t>=1&&(i=!1,n=1),this.item.area.sx=this.originalArea.sx*(1-n)+this.destinationScale.sx*n,this.item.area.sy=this.originalArea.sy*(1-n)+this.destinationScale.sy*n,s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),i}return this.item.area.sx=this.destinationScale.sx,this.item.area.sy=this.destinationScale.sy,s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),!1}destroy(){this.args.inBackground||this.resultCallback()}}const z={name:"Scale",description:"Changes width and height of the item",args:{scaleX:{name:"Scale X",type:"number",value:1.5},scaleY:{name:"Scale Y",type:"number",value:1.5},animated:{name:"Animated",type:"boolean",value:!0},duration:{name:"Duration (sec)",type:"number",value:2,depends:{animated:!0}},movement:{name:"Movement",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions",depends:{animated:!0}}},argsToShortString:e=>`x: ${e.scaleX}, y: ${e.scaleY}`+(e.animated?", animated":""),execute(e,t,n,i,o){if(e){if(t.animated)return(0,r.oK)(n.editorId,new j(e,t,n,o),e.id,this.name),void(t.inBackground&&o());e.area.sx=parseFloat(t.scaleX),e.area.sy=parseFloat(t.scaleY),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.updateChildTransforms(e),n.readjustItemAndDescendants(e.id)}o()}};var U=n(3277);class H extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.elapsedTime=0,this.originalPosition={x:this.item.area.x,y:this.item.area.y},this.domPath=null,this.pathItem=null,this.pathTotalLength=1}init(){if(this.args.path){const e=this.schemeContainer.findFirstElementBySelector(this.args.path,this.item);if(e){const t=v.Z.find(e.shape);if(t){const n=t.computeOutline(e);n&&(this.domPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domPath.setAttribute("d",n),this.pathItem=e)}}this.domPath&&(this.pathTotalLength=this.domPath.getTotalLength())}return!0}play(e){if(this.domPath&&this.args.duration>1e-5){this.elapsedTime+=e;const t=Math.min(1,this.elapsedTime/(1e3*this.args.duration));if(t>=1)return this.moveToPathLength(this.pathTotalLength*this.args.endPosition/100),!1;const n=(0,o.rJ)(t,this.args.movement);return this.moveToPathLength(this.pathTotalLength*(this.args.startPosition*(1-n)+this.args.endPosition*n)/100),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.readjustItemAndDescendants(this.item.id),!0}return!1}moveToPathLength(e){U.Z.execute({path:this.domPath,item:this.item,pathItem:this.pathItem,schemeContainer:this.schemeContainer,totalLength:this.pathTotalLength,rotateItem:this.args.rotateItem,rotationOffset:this.args.rotationOffset},{distance:100*e/Math.max(1,this.pathTotalLength),rotation:0})}destroy(){this.args.inBackground||this.resultCallback()}}const V={name:"Move Along Path",description:"Moves item along the outline of the other item. It is best to use this effect when moving item along the custom curve",args:{path:{name:"Path",type:"element",value:null},movement:{name:"Movement",type:"choice",value:"ease-in-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"]},duration:{name:"Duration (sec)",type:"number",value:2,min:0},startPosition:{name:"Start position (%)",type:"number",value:0,description:"Initial position on the path in percentage to its total length"},endPosition:{name:"End position (%)",type:"number",value:100,description:"Final position on the path in percentage to its total length"},rotateItem:{name:"Rotate item",type:"boolean",value:!1,description:"Adjust rotation of the item to path"},rotationOffset:{name:"Rotation offset",type:"number",value:0,description:"Rotation angle offset",depends:{rotateItem:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,o){if(e)return(0,r.oK)(n.editorId,new H(e,t,n,o),e.id,this.name),void(t.inBackground&&o());o()}};class q extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.elapsedTime=0,this.itemInitialPosition={x:this.item.area.x,y:this.item.area.y},this.point1={x:this.item.area.x,y:this.item.area.y},this.point2=this.pickRandomPosition(),this.point3=this.pickRandomPosition(),this._t=0}init(){return!0}pickRandomPosition(){const e=Math.random()*Math.PI*2,t=Math.random()*this.args.radius;return{x:t*Math.cos(e)+this.itemInitialPosition.x,y:t*Math.sin(e)+this.itemInitialPosition.y}}play(e){if(this.args.duration>1e-5&&this.elapsedTime<1e3*this.args.duration){this.elapsedTime+=e,this._t+=e*this.args.speed/1e3,this._t>=1&&(this._t=0,this.point1={x:this.item.area.x,y:this.item.area.y},this.point2=this.pickRandomPosition(),this.point3=this.pickRandomPosition());const t=(0,o.rJ)(this._t,"ease-in-out");return this.item.area.x=Math.pow(1-t,2)*this.point1.x+2*(1-t)*t*this.point2.x+t*t*this.point3.x,this.item.area.y=Math.pow(1-t,2)*this.point1.y+2*(1-t)*t*this.point2.y+t*t*this.point3.y,this.schemeContainer.updateChildTransforms(this.item),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.readjustItemAndDescendants(this.item.id),!0}return this.item.area.x=this.itemInitialPosition.x,this.item.area.y=this.itemInitialPosition.y,this.schemeContainer.updateChildTransforms(this.item),s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),this.schemeContainer.readjustItemAndDescendants(this.item.id),!1}destroy(){this.item.area.x=this.itemInitialPosition.x,this.item.area.y=this.itemInitialPosition.y,this.schemeContainer.updateChildTransforms(this.item),this.schemeContainer.readjustItemAndDescendants(this.item.id),this.args.inBackground||this.resultCallback()}}const W={name:"Move Randomly",description:"Moves item in a chaotic manner around its original location",args:{radius:{name:"Moving Radius",type:"number",value:20,description:"Radius within which it will perform random movements"},speed:{name:"Moving Speed",type:"number",value:1,description:"Speed of each random movements"},duration:{name:"Duration (sec)",type:"number",value:2},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,o){if(e)return(0,r.oK)(n.editorId,new q(e,t,n,o),e.id,this.name),void(t.inBackground&&o());o()}},G={name:"Wait",description:"Waits for specified amount of time until the next function",multiItem:!0,args:{time:{type:"number",value:.1,name:"Time (s)",description:"Number of seconds for which it should wait until executing next action in the list"}},argsToShortString:e=>""+e.time,execute(e,t,n,i,r){setTimeout(r,1e3*t.time)}},J=[],K={name:"Toggle",description:"Hides all other items on screen, leaving only the selected item visible",args:{},execute(e,t,n,i,r){const o={itemId:e.id,allItems:{}};(0,d.Ed)(n.getTopLevelItems(),(t=>{o.allItems[t.id]=t.visible,t.id!==e.id&&(t.visible=!1,s.Z.item.changed.specific.$emit(n.editorId,t.id))})),0!==J.length&&J[J.length-1].itemId===e.id||J.push(o),e.visible=!0,0===e.opacity&&(e.opacity=100),s.Z.item.changed.specific.$emit(n.editorId,e.id),r()}},Q={name:"Untoggle",description:'Restores previous state of items before using "Toggle" function',args:{},execute(e,t,n,i,r){const o=J.length>0?J.pop():null;o&&(0,d.Ed)(n.getTopLevelItems(),(e=>{e.visible=o.allItems[e.id],s.Z.item.changed.specific.$emit(n.editorId,e.id)})),r()}},Y={name:"Play Frames",description:"Triggers animations in specified frame player",supportedShapes:["frame_player"],args:{startFrame:{type:"number",value:1,min:1,name:"Starting frame"},partial:{type:"boolean",value:!1,name:"Play partial",description:"Play only until specified stop frame"},stopFrame:{type:"number",value:1,min:1,name:"Stop frame",depends:{partial:!0}}},argsToShortString:e=>`from ${e.startFrame} `+(e.partial?`till ${e.stopFrame}`:"till end"),execute(e,t,n,i,o){if(!e)return void o();const s=n.getFrameAnimation(e.id);s?(s.setFrame(t.startFrame),t.partial?s.setStopFrame(t.stopFrame):s.setStopFrame(-1),(0,r.oK)(n.editorId,s,e.id,"frame-player"),o()):o()}},X={name:"Stop Frame Player",description:"Stops currently running animation in specified frame player",supportedShapes:["frame_player"],execute(e,t,n,i,r){if(!e)return void r();const o=n.getFrameAnimation(e.id);o?(o.enabled=!1,r()):r()}},ee={name:"Load component",description:'Triggers loading of component. Applicable to "component" shapes only',args:{},supportedShapes:["component"],execute(e,t,n,i,r){setTimeout((()=>{e&&"component"!==!e.shape?(s.Z.component.loadRequested.specific.$emit(n.editorId,e.id,e),r()):r()}))}};var te=n(6222),ne=n(7196);const ie={name:"Destroy component",description:'Removes all the loaded items of the component. Applicable to "component" shapes only',args:{},supportedShapes:["component"],execute(e,t,n,i,r){try{(0,ne.Hp)(e._childItems,(e=>{i.clearEventsForItem(e.id)})),e._childItems=[],n.reindexItems(),i.emitItemEvent(e.id,te.YL),s.Z.item.changed.specific.$emit(n.editorId,e.id)}catch(e){console.error(e)}r()}},re={name:"Toggle in group",description:"Hides all other items by specified tag, leaving only the specified item visible",args:{group:{name:"Tag",type:"element",description:"Tag representing a group of items that will be hidden instead of the toggled item"}},argsToShortString:e=>e.group?e.group:"...",multiItem:!0,execute(e,t,n,i,r){const o=n.findElementsBySelector(t.group);(0,d.Ed)(o,(t=>{(0,d.sE)(e,(e=>e.id===t.id))||(t.visible=!1,s.Z.item.changed.specific.$emit(n.editorId,t.id))})),(0,d.Ed)(e,(e=>{e.visible=!0,0===e.opacity&&(e.opacity=100),s.Z.item.changed.specific.$emit(n.editorId,e.id)})),r()}};var oe=n(2729),se=n(471),ae=n(6085),le=n(2672);const ce={name:"Copy events",description:"Copies all events except init from the source item to destination items",args:{destination:{name:"Destination",type:"element",value:null,description:"Other item or an item group to which you want to copy events from the source"}},argsToShortString(e,t){if(e.destination){if(e.destination.startsWith("tag:"))return e.destination;const n=t.findFirstElementBySelector(e.destination);if(n)return n.name}return"..."},execute(e,t,n,i,r){if(e){try{const r=n.findElementsBySelector(t.destination);e.behavior&&Array.isArray(e.behavior.events)&&r.forEach((t=>{e.behavior.events.forEach((e=>{if(e.event!==ae.Z.standardEvents.init.id){const r=(0,le.z)(n,null,t,e.actions);i.subscribeItemEvent(t.id,t.name,e.event,r)}}))}))}catch(e){console.error(e)}r()}else r()}},he={name:"Repeat",args:{name:{name:"Name",type:"string",value:"",description:'Unique name of the repeater, with which it can be identified in the "Stop repeater" function'},forever:{name:"Run forever",type:"boolean",value:!0},count:{name:"Number of repeatitions",type:"number",value:10,min:0,depends:{forever:!1}}},argsToShortString:e=>e.forever?"forever":`${e.count} times`,execute(e,t,n,i,r,o,s){if(!o)return void r();const a=t.name?t.name:s,l=`repeaterStarted_${a}`,c=`repeaterStopped_${a}`,h=`repeaterCounter_${a}`,d=`repeaterStartTime_${a}`,u=()=>{delete o.meta[h],delete o.meta[d],delete o.meta[l],delete o.meta[c]};if(o.meta.hasOwnProperty(h)||(t.forever?o.meta[h]=-1:o.meta[h]=t.count,o.meta[d]=Date.now()),0===o.meta[h]||o.meta[c])u();else{const e=t.forever?Math.abs(o.meta[h]):Math.abs(t.count-o.meta[h]),n=Date.now()-o.meta[d];if(n>0&&1e3*e/n>30)return u(),void r();o.meta[h]-=1,o.meta[l]=!0,setTimeout((()=>{i.emitItemEvent(o.id,s)}))}r()}},de={name:"Stop repeater",args:{name:{name:"Name",type:"string",value:"",description:"Unique name of the repeater, which should be stopped"}},argsToShortString:e=>e.name?e.name:"...",execute(e,t,n,i,r,o,s){const a=t.name?t.name:s,l=`repeaterStarted_${a}`,c=`repeaterStopped_${a}`;e.meta[l]&&(e.meta[c]=!0),r()}},ue={name:"Copy links",description:"Copies all links from the source item to destination items. It does not replace exsiting links, but adds new links from the source item",args:{destination:{name:"Destination",type:"element",value:null,description:"Other item or an item group to which you want to copy links from the source"}},argsToShortString(e,t){if(e.destination){if(e.destination.startsWith("tag:"))return e.destination;const n=t.findFirstElementBySelector(e.destination);if(n)return n.name}return"..."},execute(e,t,n,i,r){if(e){try{const i=n.findElementsBySelector(t.destination);if(!Array.isArray(e.links)||0===e.links.length)return void r();i.forEach((t=>{Array.isArray(t.links)||(t.links=[]),t.links=t.links.concat(e.links)}))}catch(e){console.error(e)}r()}else r()}},pe={name:"Copy description",description:"Copies description from the source item to destination items. It does not replace exsiting description, but adds to the existing one",args:{destination:{name:"Destination",type:"element",value:null,description:"Other item or an item group to which you want to copy description from the source"}},argsToShortString(e,t){if(e.destination){if(e.destination.startsWith("tag:"))return e.destination;const n=t.findFirstElementBySelector(e.destination);if(n)return n.name}return"..."},execute(e,t,n,i,r){if(e){try{const i=n.findElementsBySelector(t.destination);if(!e.description)return void r();i.forEach((t=>{t.description+=e.description}))}catch(e){console.error(e)}r()}else r()}},fe={name:"Transform Screen (Hidden)",description:"Animates changing screen transform",args:{x:{name:"x",type:"number",value:0},y:{name:"y",type:"number",value:0},scale:{name:"scale",type:"number",value:0},inBackground:{name:"In Background",type:"boolean",value:!1,depends:{animated:!0},description:"Play animation in background without blocking invocation of other actions"}},argsToShortString:e=>e.animated?`animated, ${e.animationDuration} sec`:"instant",execute(e,t,n,i,a){t.inBackground&&a();const l=n.screenTransform.x,c=n.screenTransform.y,h=n.screenTransform.scale;(0,r.oK)(n.editorId,new o.ZP({durationMillis:500,animationType:"ease-in-out",update:e=>{n.screenTransform.scale=h*(1-e)+t.scale*e,n.screenTransform.x=l*(1-e)+t.x*e,n.screenTransform.y=c*(1-e)+t.y*e},destroy:()=>{s.Z.screenTransformUpdated.$emit(n.editorId,n.screenTransform),t.inBackground||a()}}),"screen","screen-transform")}};class me extends g.Z{constructor(e,t,n,i,r,o,s,a){super(),this.item=e,this.args=s,this.resultCallback=a,this.domContainer=t,this.editorId=n,this.time=0,this.color=r,this.strokeSize=o,this.supportsStrokeShapeProps=i,this.paths=[],this.totalPathsLength=0,this.srcSelfOpacity=this.item.selfOpacity,this.targetSelfOpacity=this.item.selfOpacity,this.targetStrokeSize=1,i&&(this.targetStrokeSize=this.item.shapeProps.strokeSize)}init(){if(!this.domContainer)return!1;const e=v.Z.find(this.item.shape);if(!e)return!1;this.args.revealItem&&this.item.selfOpacity<1&&(this.targetSelfOpacity=100,this.supportsStrokeShapeProps&&(this.item.shapeProps.strokeSize=0,s.Z.item.changed.specific.$emit(this.editorId,this.item.id)));const t=e.computePath(this.item);if(!t)return!1;this.paths=[],this.totalPathsLength=0;let n=0;return function(e){const t=e.split("M"),n=[];return t.forEach((e=>{(e=e.trim())&&n.push("M "+e)})),n}(t).forEach((e=>{const t=this.svg("path",{d:e,"stroke-width":this.strokeSize||1,stroke:this.color,fill:"none","stroke-linejoin":"round"}),i=t.getTotalLength();this.paths.push({domPath:t,length:i,offset:n}),this.totalPathsLength+=i,this.domContainer.appendChild(t),t.setAttribute("stroke-dasharray",i),t.setAttribute("stroke-dashoffset",i),n+=i})),!0}play(e){this.time+=e;let t=1;if(h.Z.tooSmall(this.args.duration)||(t=this.time/(1e3*this.args.duration)),.5<=t<=1){const e=2*(t-.5);this.item.selfOpacity=this.srcSelfOpacity*(1-e)+this.targetSelfOpacity*e}const n=t<1;let i=n?this.totalPathsLength*t:this.totalPathsLength*(t-1);for(let e=0;e<this.paths.length;e++){const t=this.paths[e].offset+this.paths[e].length-i;if(t>0){this.paths[e].domPath.setAttribute("stroke-dashoffset",Math.floor(n?t:this.paths[e].length+t)),e>0&&this.paths[e-1].domPath.setAttribute("stroke-dashoffset",n?0:this.paths[e-1].length);break}}if(this.args.twoWay){if(t>2)return!1}else if(t>1)return!1;return!0}destroy(){this.item.shapeProps.selfOpacity=this.targetSelfOpacity,this.supportsStrokeShapeProps&&(this.item.shapeProps.strokeSize=this.targetStrokeSize,s.Z.item.changed.specific.$emit(this.editorId,this.item.id)),this.args.inBackground||this.resultCallback(),this.paths.forEach((e=>{this.domContainer.removeChild(e.domPath)}))}}const ge={name:"Draw Effect",description:"Animates outline by simulating a drawing effect",args:{customStroke:{name:"Override stroke",type:"boolean",value:!1,description:"Allows to override the stroke of the item and use custom color and stroke size"},color:{name:"Color",type:"color",value:"rgba(255,0,0,1.0)",depends:{customStroke:!0}},strokeSize:{name:"Stroke size",type:"number",value:2,depends:{customStroke:!0}},duration:{name:"Duration (sec)",type:"number",value:2},twoWay:{name:"Two way",type:"boolean",value:!1},revealItem:{name:"Reveal item",type:"boolean",value:!0,description:"If item was hidden it will slowly reveal it while drawing its outline. Only works if the item was hidden before calling this function"},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,o){e.visible||(e.visible=!0),e.opacity<1&&(e.selfOpacity=e.opacity,e.opacity=100),s.Z.item.changed.specific.$emit(n.editorId,e.id,"visible");let a=t.color,l=t.strokeSize;const c=v.Z.find(e.shape),h=v.Z.getShapeArgs(c),d=h.strokeColor&&h.strokeSize&&"color"===h.strokeColor.type&&"number"===h.strokeSize.type;!t.customStroke&&d&&(a=e.shapeProps.strokeColor,l=e.shapeProps.strokeSize),e&&function(e,t,n=500){const i=`animation-container-${e}`;let r=document.getElementById(i);if(r)t(r);else{const e=performance.now(),o=setInterval((()=>{performance.now()-e>n&&(clearInterval(o),t(null)),r=document.getElementById(i),r&&(clearInterval(o),t(r))}),10)}}(e.id,(i=>{const s=new me(e,i,n.editorId,d,a,l,t,o);(0,r.oK)(n.editorId,s,e.id,this.name)})),t.inBackground&&o()}},ve={name:"Size (Width)",description:"Changes width of an item",args:{width:{name:"Width",type:"number",value:50},animated:{name:"Animated",type:"boolean",value:!1},duration:{name:"Duration (sec)",type:"number",value:1,depends:{animated:!0}},animationType:{name:"Animation Type",type:"choice",value:"linear",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions",depends:{animated:!0}}},execute(e,t,n,i,a){if(e){if(t.animated){const i=e.area.w;return(0,r.oK)(n.editorId,new o.ZP({durationMillis:1e3*t.duration,animationType:t.animationType,update:r=>{e.area.w=i*(1-r)+t.width*r,n.updateChildTransforms(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.readjustItemAndDescendants(e.id)},destroy:()=>{t.inBackground||a()}}),e.id,this.name),void(t.inBackground&&a())}e.area.w=t.width,n.updateChildTransforms(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.readjustItemAndDescendants(e.id)}a()}},ye={name:"Size (Height)",description:"Changes height of an item",args:{height:{name:"Height",type:"number",value:50},animated:{name:"Animated",type:"boolean",value:!1},duration:{name:"Duration (sec)",type:"number",value:1,depends:{animated:!0}},animationType:{name:"Animation Type",type:"choice",value:"linear",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions",depends:{animated:!0}}},execute(e,t,n,i,a){if(e){if(t.animated){const i=e.area.h;return(0,r.oK)(n.editorId,new o.ZP({durationMillis:1e3*t.duration,animationType:t.animationType,update:r=>{e.area.h=i*(1-r)+t.height*r,n.updateChildTransforms(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.readjustItemAndDescendants(e.id)},destroy:()=>{t.inBackground||a()}}),e.id,this.name),void(t.inBackground&&a())}e.area.h=t.height,n.updateChildTransforms(e),s.Z.item.changed.specific.$emit(n.editorId,e.id),n.readjustItemAndDescendants(e.id)}a()}};var be=n(70),xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"condition-function-editor"},[e._m(0),e._v(" "),n("ScriptEditor",{attrs:{value:e.args.expression,height:100},on:{changed:function(t){return e.emitArgChange("expression",arguments[0])}}}),e._v(" "),n("table",[n("tr",[n("td",[e._v("If true:")]),e._v(" "),n("td",[n("Dropdown",{attrs:{options:e.conditionBranchOptions,"auto-focus-search":"send-event"!==e.args.success,inline:!0,borderless:!1},on:{selected:e.onSuccessSelected}},[n("i",{class:e.toIcon(e.args.success)}),e._v(" "),n("span",[e._v(" "+e._s(e._f("toPrettyName")(e.args.success))+" ")])]),e._v(" "),"send-event"===e.args.success?n("input",{ref:"sendEventInputSuccess",staticClass:"condition-function-send-event",attrs:{type:"text"},domProps:{value:e.args.successEvent}}):e._e()],1)]),e._v(" "),n("tr",[n("td",[e._v("Else:")]),e._v(" "),n("td",[n("Dropdown",{attrs:{options:e.conditionBranchOptions,"auto-focus-search":"send-event"!==e.args.fail,inline:!0,borderless:!1},on:{selected:e.onFailSelected}},[n("i",{class:e.toIcon(e.args.fail)}),e._v(" "),n("span",[e._v(" "+e._s(e._f("toPrettyName")(e.args.fail))+" ")])]),e._v(" "),"send-event"===e.args.fail?n("input",{ref:"sendEventInputFail",staticClass:"condition-function-send-event",attrs:{type:"text"},domProps:{value:e.args.failEvent}}):e._e()],1)])])],1)};xe._withStripped=!0;var we=n(7502),Ae=n(8063);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pe={pass:"Pass","skip-next":"Skip next","break-event":"Break event","send-event":"Send event"},Ie={pass:"fa-solid fa-check","skip-next":"fa-solid fa-forward-step","break-event":"fa-solid fa-xmark","send-event":"fas fa-bell"},Ee={props:{editorId:{type:String},args:{type:Object}},components:{ScriptEditor:we.Z,Dropdown:Ae.Z},data:()=>({conditionBranchOptions:[{id:"pass",description:"Proceeds to next action in the current event"},{id:"skip-next",description:"Skips next action in the current event"},{id:"break-event",description:"Stops execution of remaining actions for the current event"},{id:"send-event",description:"Sends event to the same item"}].map((e=>ke(ke({},e),{},{name:Pe[e.id],iconClass:Ie[e.id]})))}),methods:{emitArgChange(e,t){this.$emit("argument-changed",e,t)},toIcon:e=>Ie[e],onSuccessSelected(e){this.$emit("argument-changed","success",e.id),"send-event"===e.id&&this.$nextTick((()=>{this.$refs.sendEventInputSuccess.focus()}))},onFailSelected(e){this.$emit("argument-changed","fail",e.id),"send-event"===e.id&&this.$nextTick((()=>{this.$refs.sendEventInputFail.focus()}))}},filters:{toPrettyName:e=>Pe[e]}},_e=(0,n(1900).Z)(Ee,xe,[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"label"},[e._v("\n        Runs a script using SchemioScript language "),n("a",{staticClass:"link",attrs:{target:"_blank",href:"https://github.com/ishubin/schemio/blob/master/docs/Scripting.md"}},[e._v("(documentation)")]),e._v("\n        and evaluates the last executed operation as part of condition\n    ")])}],!1,null,null,null).exports;var Te=n(9532);const $e=["pass","skip-next","break-event","send-event"],Me={name:"Condition",description:"Checkes whether user defined expressions returns true and executes specified command",args:{expression:{name:"Expression",type:"script",value:"",description:"A Schemio script expression that is executed as part of condition"},success:{name:"If true",type:"choice",value:"pass",options:$e},successEvent:{name:"Success event",type:"string",value:"",depends:{success:"send-event"},description:"Sends an event to itself if condition is true"},fail:{name:"Else",type:"choice",value:"skip-next",options:$e},failEvent:{name:"Else event",type:"string",value:"",depends:{success:"send-event"},description:"Sends an event to itself if condition is false"}},editorComponent:_e,argsToShortString(e){const t="send-event"===e.success?`send-event "${e.successEvent}"`:e.success,n="send-event"===e.fail?`send-event "${e.failEvent}"`:e.fail;return`${t} if ${e.expression} else ${n}`},executeWithBranching(e,t,n,i,r){let o=null;try{o=(0,Te.BJ)(t.expression)}catch(e){return s.Z.scriptLog.$emit(n.editorId,"error",`Error in script: ${e.message}\n${t.expression}`),void r({skip:0,break:!1})}if(!o)return void r({skip:0,break:!1});const a=(t,n)=>{"pass"===t?r({skip:0,break:!1}):"skip-next"===t?r({skip:1,break:!1}):"break-event"===t?r({skip:0,break:!0}):"send-event"===t?(i.emitItemEvent(e.id,n),r({skip:0,break:!1})):r({skip:0,break:!1})},l=(0,be.jP)(e,n,i);try{o.evalNode(l)?a(t.success,t.successEvent):a(t.fail,t.failEvent)}catch(e){return console.error(e),void r({skip:0,break:!1})}}};var Oe=n(6012),De=n(8270);const Le={name:"Morph",description:"Morphs item into a destination item",args:{referenceItem:{name:"Reference Item",type:"element",value:null,description:"The item to which it should morph"},alignItems:{name:"Align items",type:"boolean",value:!1,description:"Aligns item position with reference item"},recursive:{name:"Morph child items",type:"boolean",value:!0,description:"Identify items with the same name and hierarchy and apply morphing to them as well"},ignoreVisibility:{name:"Ignore visibility",type:"boolean",value:!1,description:"Ignores the opacity and visibility in reference item. This allows you to hide the reference item"},animationDuration:{name:"Animation duration (sec)",type:"number",value:.5},transition:{name:"Transition",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"]},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},argsToShortString(e,t){if(e.referenceItem){const n=t.findFirstElementBySelector(e.referenceItem);if(n)return n.name}return"..."},execute(e,t,n,i,s){const a=n.findFirstElementBySelector(t.referenceItem);if(!a)return void s();t.inBackground&&s();let l=[Be(e,null,a,null,n.editorId,t)];t.recursive&&Array.isArray(e.childItems)&&Array.isArray(a.childItems)&&(l=l.concat(Ne(e.childItems,e,a.childItems,a,n.editorId,t)));const c=new o.ZP({durationMillis:1e3*t.animationDuration,animationType:t.transition,init(){},update(e){l.forEach((t=>{t(e)}))},destroy(){t.inBackground||s()}});(0,r.oK)(n.editorId,c,e.id,this.name)}};function Ne(e,t,n,i,r,o){const s=new Map,a=new Map;e.forEach((e=>{const t=s.has(e.name)?s.get(e.name)+1:1;s.set(e.name,t),a.set(e.name+"-"+t,e)}));const l=new Map,c=new Map;n.forEach((e=>{const t=l.has(e.name)?l.get(e.name)+1:1;l.set(e.name,t),c.set(e.name+"-"+t,e)}));let h=[];return a.forEach(((e,n)=>{if(!c.has(n))return;const s=c.get(n);h.push(Be(e,t,s,i,r,o)),Array.isArray(e.childItems)&&Array.isArray(s.childItems)&&(h=h.concat(Ne(e.childItems,t,s.childItems,i,r,o)))})),h}function Be(e,t,n,i,r,o){const a=v.Z.find(e.shape),l=v.Z.find(n.shape);if(!a||!l)return()=>{};const c=v.Z.getShapeArgs(a),h=v.Z.getShapeArgs(l),u=[];return(0,d.b0)(c,((t,i)=>{if(!h.hasOwnProperty(i)||h[i].type!==t.type)return;const r=function(e,t,n,i){const r=e.shapeProps[n],o=t.shapeProps[n];if("number"===i.type)return t=>{e.shapeProps[n]=r*(1-t)+o*t};if("color"===i.type){const t=(0,Oe.lu)(r),i=(0,Oe.lu)(o);return r=>{e.shapeProps[n]=(0,Oe.N_)({r:t.r*(1-r)+i.r*r,g:t.g*(1-r)+i.g*r,b:t.b*(1-r)+i.b*r,a:t.a*(1-r)+i.a*r})}}if("advanced-color"===i.type&&"solid"===r.type&&r.type===o.type){const t=(0,Oe.lu)(r.color),i=(0,Oe.lu)(o.color);return r=>{e.shapeProps[n]={type:"solid",color:(0,Oe.N_)({r:t.r*(1-r)+i.r*r,g:t.g*(1-r)+i.g*r,b:t.b*(1-r)+i.b*r,a:t.a*(1-r)+i.a*r})}}}return null}(e,n,i,t);r&&u.push(r)})),o.ignoreVisibility||(u.push(Fe(e.opacity,n.opacity,(t=>e.opacity=t))),u.push(Fe(e.selfOpacity,n.selfOpacity,(t=>e.selfOpacity=t)))),"path"===e.shape&&"path"===n.shape&&u.push(function(e,t,n,i){t||(t=Re),i||(i=Re);const r=[];return n.shapeProps.paths.forEach(((o,s)=>{if(s>=e.shapeProps.paths.length)return;const a=e.shapeProps.paths[s];o.points.forEach(((o,l)=>{l>=a.points.length||r.push(function(e,t,n,i,r,o,s,a){const l=Ze(e,s,t),c=Ze(n,a,i);return n=>{const i=l.x*(1-n)+c.x*n,s=l.y*(1-n)+c.y*n,a=(0,w.rs)(i,s,t),h=(0,w.N5)(a.x,a.y,e);h.t=l.t,h.x1=l.x1,h.y1=l.y1,h.x2=l.x2,h.y2=l.y2,h.h=l.h;let d=0,u=0,p=0,f=0;"B"===l.t&&(d=l.x1,u=l.y1,p=l.x2,f=l.y2);let m=0,g=0,v=0,y=0;"B"===c.t&&(m=c.x1,g=c.y1,v=c.x2,y=c.y2),"L"===h.t&&"B"===c.t&&(h.t="B"),"B"===h.t?(h.t="B",h.x1=d*(1-n)+m*n,h.y1=u*(1-n)+g*n,h.x2=p*(1-n)+v*n,h.y2=f*(1-n)+y*n):"A"===l.t&&"A"===c.t&&(h.h=l.h*(1-n)+c.h*n);const b=(0,De.Vk)(h,e.area.w,e.area.h);e.shapeProps.paths[r].points[o].x=b.x,e.shapeProps.paths[r].points[o].y=b.y,e.shapeProps.paths[r].points[o].t=b.t,"B"===b.t?(e.shapeProps.paths[r].points[o].x1=b.x1,e.shapeProps.paths[r].points[o].y1=b.y1,e.shapeProps.paths[r].points[o].x2=b.x2,e.shapeProps.paths[r].points[o].y2=b.y2):"A"===b.t&&(e.shapeProps.paths[r].points[o].h=b.h)}}(e,t,n,i,s,l,a.points[l],o))}))})),e=>{r.forEach((t=>t(e)))}}(e,t,n,i)),"path"!==e.shape&&(t&&i||o.alignItems)&&(u.push(Fe(e.area.w,n.area.w,(t=>e.area.w=t))),u.push(Fe(e.area.h,n.area.h,(t=>e.area.h=t))),u.push(Fe(e.area.x,n.area.x,(t=>e.area.x=t))),u.push(Fe(e.area.y,n.area.y,(t=>e.area.y=t))),u.push(Fe(e.area.r,n.area.r,(t=>e.area.r=t)))),t=>{u.forEach((e=>e(t))),s.Z.item.changed.specific.$emit(r,e.id)}}const Re={area:{x:0,y:0,w:100,h:100,r:0,px:.5,py:.5,sx:1,sy:1},meta:{parentId:null,ancestorIds:[]}};function Ze(e,t,n){const i=(0,De.oJ)(t,e.area.w,e.area.h),r=(0,w.rs)(i.x,i.y,e),o=(0,w.N5)(r.x,r.y,n);if(o.t=i.t,"B"===i.t){const t=(0,w.rs)(i.x+i.x1,i.y+i.y1,e),r=(0,w.rs)(i.x+i.x2,i.y+i.y2,e),s=(0,w.N5)(t.x,t.y,n),a=(0,w.N5)(r.x,r.y,n);o.x1=s.x-o.x,o.y1=s.y-o.y,o.x2=a.x-o.x,o.y2=a.y-o.y}else"A"===i.t&&(o.h=i.h);return o}function Fe(e,t,n){return i=>{n(e*(1-i)+t*i)}}class je extends g.Z{constructor(e,t,n,i){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.offset=0,this.time=0}init(){return!0}play(e){return this.time+=e,this.offset-=this.args.speed*e/1e3,this.item.meta.strokeOffset=this.offset,s.Z.item.changed.specific.$emit(this.schemeContainer.editorId,this.item.id),!(!this.args.infinite&&this.time>1e3*this.args.duration)}destroy(){this.args.inBackground||this.resultCallback()}}const ze={name:"Flow Animation",description:"Animates displacement of a stroke and simulates a flow animation",args:{speed:{name:"Speed",type:"number",value:30,description:"Use negative value if you want the animation to be performed backwards"},duration:{name:"Duration (sec)",type:"number",value:2,depends:{infinite:!1}},infinite:{name:"Infinite animation",type:"boolean",value:!1,description:"Plays animation indefinitely"},inBackground:{name:"In Background",type:"boolean",value:!1,description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,o){e&&(0,r.oK)(n.editorId,new je(e,t,n,o),e.id,this.name),t.inBackground&&o()}},Ue={main:{hide:a,show:l,set:i.ZP,zoomToIt:m,_transformScreen:fe,particleEffect:T,crawlEffect:b,flowEffect:ze,drawEffect:ge,blinkEffect:M,loadComponent:ee,destroyComponent:ie,move:D,moveAlongPath:V,moveToItem:N,moveRandomly:W,playFrames:Y,rotate:Z,scale:z,replaceItem:B,stopFramePlayer:X,stopAllAnimations:x,sendEvent:c,sendEventToParent:oe.Z,sendEventToChildren:se.Z,wait:G,toggle:K,untoggle:Q,toggleGroup:re,copyEvents:ce,copyLinks:ue,copyDescription:pe,morph:Le,repeater:he,stopRepeater:de,sizeWidth:ve,sizeHeight:ye,script:be.jA,condition:Me}}},70:(e,t,n)=>{"use strict";n.d(t,{jA:()=>R,jP:()=>F,Nd:()=>j,Wx:()=>B});var i=n(9737),r=n(2217),o=n(3805),s=n(8595),a=n(9532),l=n(387),c=n(3762),h=n(471),d=n(2729),u=(n(1757),n(2644)),p=n(3590),f=n(791),m=n(6085),g=n(9149),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"script-function-editor"},[e._m(0),e._v(" "),n("ul",{staticClass:"script-options"},e._l(e.scriptTypeOptions,(function(t,i){return n("li",{staticClass:"script-option",class:{selected:i===e.selectedOptionIdx},on:{click:function(t){return e.selectScriptOption(i)}}},[n("i",{staticClass:"icon",class:t.icon}),e._v(" "),n("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),n("Tooltip",[e._v(e._s(t.description))])],1)})),0),e._v(" "),e.selectedOptionIdx>0?n("div",{staticClass:"script-parameters"},[1===e.selectedOptionIdx?n("div",{staticClass:"script-parameter"},[n("span",[e._v("Duration")]),e._v(" "),n("NumberTextfield",{attrs:{value:e.args.animationDuration},on:{changed:function(t){return e.emitArgChange("animationDuration",arguments[0])}}})],1):e._e(),e._v(" "),1===e.selectedOptionIdx?n("div",{staticClass:"script-parameter"},[n("span",[e._v("Transition")]),e._v(" "),n("select",{domProps:{value:e.args.transition},on:{input:function(t){return e.emitArgChange("transition",arguments[0].target.value)}}},e._l(e.knownTransitions,(function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),n("div",{staticClass:"script-parameter"},[n("input",{attrs:{id:"chk-script-animation-in-background",type:"checkbox"},domProps:{checked:e.args.inBackground},on:{input:function(t){return e.emitArgChange("inBackground",arguments[0].target.checked)}}}),e._v(" "),n("label",{attrs:{for:"chk-script-animation-in-background"}},[e._v("In background")]),e._v(" "),n("Tooltip",[e._v("Play animation in background without blocking invocation of other actions")])],1)]):e._e(),e._v(" "),n("ul",{staticClass:"tabs tabs-file"},e._l(e.tabs,(function(t,i){return t.disabled?e._e():n("li",[n("span",{staticClass:"tab",class:{active:i===e.selectedTabIdx},on:{click:function(t){return e.selectScriptTab(i)}}},[n("i",{staticClass:"fa-solid fa-code"}),e._v("\n                "+e._s(t.name)+"\n                "),t.description?n("Tooltip",[e._v(e._s(t.description))]):e._e()],1)])})),0),e._v(" "),n("div",{staticClass:"tabs-body"},[0===e.selectedTabIdx?n("ScriptEditor",{attrs:{value:e.args.initScript},on:{changed:function(t){return e.emitArgChange("initScript",arguments[0])}}}):e._e(),e._v(" "),1===e.selectedTabIdx?n("ScriptEditor",{attrs:{value:e.args.script},on:{changed:function(t){return e.emitArgChange("script",arguments[0])}}}):e._e(),e._v(" "),2===e.selectedTabIdx?n("ScriptEditor",{attrs:{value:e.args.endScript},on:{changed:function(t){return e.emitArgChange("endScript",arguments[0])}}}):e._e()],1)])};v._withStripped=!0;var y=n(7502),b=n(4628),x=n(9240);const w={props:{editorId:{type:String},args:{type:Object}},components:{ScriptEditor:y.Z,Tooltip:b.Z,NumberTextfield:x.Z,Tooltip:b.Z},data(){const e=this.detectScriptOptionIdx();return{knownTransitions:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],tabs:[{name:"Init",disabled:0===e,description:"Run only once before the animation starts. You can use it to set up some variables. Any variables defined in this script will be accessible in the Main script"},{name:"Main",disabled:!1,description:""},{name:"On Finish",disabled:0===e,description:"Runs at the end of animation"}],selectedTabIdx:1,scriptTypeOptions:[{name:"One time",icon:"fa-solid fa-person-running",description:"Runs script only once"},{name:"Animation",icon:"fa-solid fa-play",description:'Script is called multiple times for the duration of the animation. It has access to "t" variable (start from 0, ends at 1) which represents the relative animation time'},{name:"Infinite Loop",icon:"fa-solid fa-infinity",description:'Script is executed forever until stopped from the script itself or until the "Stop all animations" item function is called. The script has access to "deltaTime" variable which representa time in seconds between frames'}],selectedOptionIdx:e}},methods:{selectScriptTab(e){this.selectedTabIdx=e,this.$forceUpdate()},emitArgChange(e,t){this.$emit("argument-changed",e,t)},detectScriptOptionIdx(){return this.args.animated?"infinite-loop"===this.args.animationType?2:1:0},selectScriptOption(e){this.selectedOptionIdx=e,0===e?(this.emitArgChange("animated",!1),this.tabs[0].disabled=!0,this.tabs[2].disabled=!0,this.selectedTabIdx=1):1===e?(this.tabs[0].disabled=!1,this.tabs[2].disabled=!1,this.emitArgChange("animated",!0),this.emitArgChange("animationType","animation")):2===e&&(this.tabs[0].disabled=!1,this.tabs[2].disabled=!1,this.emitArgChange("animated",!0),this.emitArgChange("animationType","infinite-loop"))}}},A=(0,n(1900).Z)(w,v,[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"label"},[e._v("\n        Runs a script using SchemioScript language "),n("a",{staticClass:"link",attrs:{target:"_blank",href:"https://github.com/ishubin/schemio/blob/master/docs/Scripting.md"}},[e._v("(documentation)")])])}],!1,null,null,null).exports;var C=n(8197),k=n(2672),S=n(7196),P=n(6234);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=Symbol("compiledScripts"),$=!0,M="infinite-loop",O="A Schemio script expression. In animation mode this script is being executed on every animation frame";function D(e,t,n){const i=(0,a.BJ)(t);i&&(e.args||(e.args={}),e.args[T]||(e.args[T]={}),e.args[T][t]=i)}function L(e,t,n,i){D(e,t.script,n.editorId),t.initScript&&D(e,t.initScript,n.editorId),t.endScript&&D(e,t.endScript,n.editorId)}function N(e,t,n,r,a,l,c,h,d={}){if(!e.args||!e.args[T])return void a();const u=e.args[T][t.script];if(!u)return void a();const f=e.args[T][t.initScript],m=e.args[T][t.endScript];let g=!0;const v=F(e,n,r);for(let e in d)d.hasOwnProperty(e)&&v.set(e,d[e]);v.set("getEventName",(()=>c)),v.set("getEventArg",(e=>Array.isArray(h)&&e<h.length?h[e]:null)),v.set("stop",(()=>{g=!1})),t.animationType===M?v.set("deltaTime",0):v.set("t",0),f&&f.evalNode(v);const y=()=>g,b=e=>{t.animationType===M?v.set("deltaTime",Math.min(.1,e)):v.set("t",e),u.evalNode(v)},x=()=>{m&&m.evalNode(v)};if(t.animated){if(t.animationType===M){const r=new U(e,t,n,a,b,x,y);(0,i.oK)(n.editorId,r,e.id,"script-infinite-loop-"+p.Z.stringHash(t.script))}else(0,i.oK)(n.editorId,new o.ZP({durationMillis:1e3*t.animationDuration,animationType:t.transition,init(){},update(e){b(e)},destroy(){try{x()}catch(e){console.error(e)}t.inBackground||a()}}),e.id,"script_"+p.Z.stringHash(t.script));t.inBackground&&a()}else{try{b(0)}catch(e){s.Z.scriptLog.$emit(n.editorId,"error",e.message),console.error(`Failed executing item script: ${t.script}`,e)}a()}}function B(e,t,n){let i=null;return t&&t.meta&&Array.isArray(t.meta.componentScriptFunctions)&&(i=t.meta.componentScriptFunctions.find((e=>e.name===n))),i||(i=e.scheme.scripts.functions.find((e=>e.name===n))),i?{init(e,t,n,r){L(e,i.props,n)},execute(e,n,r,o,s,a,l,c){let h={};t&&t.meta&&t.meta.componentScriptScopeData&&(h=t.meta.componentScriptScopeData);const d=E(E({},n),h);i.args.forEach((t=>{if("element"===t.type&&d.hasOwnProperty(t.name)){const n=d[t.name],i=r.findElementsBySelector(n,e).map((e=>Z(e,r,o)));d[t.name]=new C.a(...i)}})),N(e,i.props,r,o,s,0,l,c,d)}}:null}const R={name:"Script",description:"Runs user defined script using SchemioScript language.",args:{initScript:{name:"Init script",type:"script",value:"",description:"\nA script that runs before the start of animation. It is only invoked in animation mode.\n",depends:{animated:!0}},script:{name:"Script",type:"script",value:"",description:O},endScript:{name:"End Script",type:"script",value:"",description:O,depends:{animated:!0}},animated:{name:"Animated",type:"boolean",value:!1,description:'Script is called multiple times for the duration of the animation. It has access to "t" variable (start from 0, ends at 1) which represents the relative animation time'},animationType:{name:"Animation type",type:"choice",value:"animation",options:["animation",M],depends:{animated:!0}},animationDuration:{name:"Animation duration (sec)",type:"number",value:.5,depends:{animated:!0,animationType:"animation"}},transition:{name:"Transition",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0,animationType:"animation"}},inBackground:{name:"In Background",type:"boolean",value:!1,depends:{animated:!0},description:"Play animation in background without blocking invocation of other actions"}},editorComponent:A,argsToShortString:e=>((e.initScript||"")+(e.script||"")).trim()||"edit script...",init(e,t,n,i){L(e,t,n)},execute(e,t,n,i,r,o,s,a){N(e,t,n,i,r,0,s,a)}};function Z(e,t,n){if(!e)return null;const i=()=>{s.Z.item.changed.specific.$emit(t.editorId,e.id)},r=e=>t=>{const n=parseFloat(t);isNaN(n)||(e(n),i())},o=n=>r=>{const o=parseFloat(r);isNaN(o)||(n(o),i(),t.updateChildTransforms(e),t.readjustItemAndDescendants(e.id,$))},a=(t,n)=>{e&&e.textSlots&&e.textSlots.hasOwnProperty(t)&&(n(e.textSlots[t]),i())},l=g.Z.find(e.shape),v=E({findParent:()=>{let i=null;return e&&e.meta&&(i=e.meta.parentId),Z(t.findItemById(i),t,n)},getId:()=>e.id,getName:()=>e.name,getTags(){const t=Array.isArray(e.tags)?e.tags:[];return new C.a(...t)},setVar(t,n){e.args||(e.args={}),e.args.customVars||(e.args.customVars={}),e.args.customVars[t]=n},getVar:(t,n)=>e.args&&e.args.customVars&&e.args.customVars.hasOwnProperty(t)?e.args.customVars[t]:n,getPosX:()=>e.area.x,getPosY:()=>e.area.y,getPos:()=>new f.O(e.area.x,e.area.y),getWidth:()=>e.area.w,getHeight:()=>e.area.h,getAngle:()=>e.area.r,getScaleX:()=>e.area.sx,getScaleY:()=>e.area.sy,worldPoint:(t,n)=>f.O.fromPoint((0,u.rs)(t,n,e)),localPoint:(t,n)=>f.O.fromPoint((0,u.N5)(t,n,e)),getArg:(t,n)=>e.args&&e.args.hasOwnProperty(t)?e.args[t]:n,setArg:(t,n)=>{e.args||(e.args={}),e.args[t]=n},matchWorld:(n,r,o,s)=>{const a=p.Z.findTranslationMatchingWorldPoint(o,s,n,r,e.area,e.meta.transformMatrix);a&&(e.area.x=a.x,e.area.y=a.y,i(),t.updateChildTransforms(e),t.readjustItemAndDescendants(e.id,$))},getWorldPos:()=>f.O.fromPoint((0,u.rs)(e.area.px*e.area.w,e.area.py*e.area.h,e)),setWorldPos:(n,r)=>{let o=n,s=r;if(n instanceof f.O){const e=n;o=e.x,s=e.y}const a=p.Z.findTranslationMatchingWorldPoint(o,s,e.area.px*e.area.w,e.area.py*e.area.h,e.area,e.meta.transformMatrix);a&&(e.area.x=a.x,e.area.y=a.y,i(),t.updateChildTransforms(e),t.readjustItemAndDescendants(e.id,$))},setAngle:o((t=>e.area.r=t)),setPosX:o((t=>e.area.x=t)),setPosY:o((t=>e.area.y=t)),setPos:(n,r)=>{let o=n,s=r;if(n instanceof f.O){const e=n;o=e.x,s=e.y}e.area.x=o,e.area.y=s,i(),t.updateChildTransforms(e),t.readjustItemAndDescendants(e.id,$)},setWidth:o((t=>e.area.w=t)),setHeight:o((t=>e.area.h=t)),setScaleX:o((t=>e.area.sx=t)),setScaleY:o((t=>e.area.sy=t)),getOpacity:()=>e.opacity,getSelfOpacity:()=>e.selfOpacity,isVisible:()=>e.visible&&0!==e.opacity,setOpacity:r((t=>e.opacity=t)),setSelfOpacity:r((t=>e.SelfOpacity=t)),getText:t=>{if(!e.textSlots||!e.textSlots[t])return"";const n=e.textSlots[t].text||"";return(0,c.v)(n.trim())},setText:(e,t)=>a(e,(e=>e.text=(0,c.Z)(""+t))),setTextColor:(e,t)=>a(e,(e=>e.color=""+t)),setTextSize:(e,t)=>{isNaN(t)||a(e,(e=>e.fontSize=t))},show(){e.visible||0!==e.opacity||(e.opacity=100),e.visible=!0,i()},hide(){e.visible=!1,i()},sendEvent(t,...i){n.emitItemEvent(e.id,t,...i)},sendEventToChildren(t,...i){(0,h.w)(e,t,n,i)},sendEventToParent(i,...r){(0,d.J)(e,i,n,t,r)},findChildItemByName:i=>Z(function(e,t){if(!e||!Array.isArray(e.childItems))return null;let n=[].concat(e.childItems);for(;n.length>0;){const e=n.shift();if(!e)return null;if(e.name===t)return e;Array.isArray(e.childItems)&&(n=n.concat(e.childItems))}return null}(e,i),t,n),findChildItemsByTag(i){const r=function(e,t){if(!e||!Array.isArray(e.childItems))return[];let n=[].concat(e.childItems);const i=[];for(;n.length>0;){const e=n.shift();if(!e)return i;Array.isArray(e.tags)&&e.tags.findIndex((e=>e===t))>=0&&i.push(e),Array.isArray(e.childItems)&&(n=n.concat(e.childItems))}return i}(e,i);return new C.a(...r.map((e=>Z(e,t,n))))},distanceToItem:t=>function(e,t){const n=(0,u.rs)(e.area.px*e.area.w,e.area.py*e.area.h,e),i=(0,u.rs)(t.area.px*t.area.w,t.area.py*t.area.h,t);return p.Z.distanceBetweenPoints(n.x,n.y,i.x,i.y)}(e,t),getValue:()=>e.args&&e.args.hasOwnProperty("value")?e.args.value:0,setValue(n){e.args||(e.args={}),e.args.value=n,s.Z.item.userEvent.$emit(t.editorId,e.id,m.Z.standardEvents.valueChange.id,n),i()},duplicate(i){const r=t.cloneItems([e],!0,!1)[0];i&&(r.name=i);const o=e.meta.parentId?t.findItemById(e.meta.parentId):null;return t.addItem(r,o),(0,S.Hp)([r],(e=>{e.behavior&&Array.isArray(e.behavior.events)&&e.behavior.events.forEach((i=>{const r=(0,k.z)(t,null,e,i.actions);i.event===m.Z.standardEvents.init.id?r(n,n.revision,e.id,m.Z.standardEvents.init.id):n.subscribeItemEvent(e.id,e.name,i.event,r)}))})),Z(r,t,n)},remove(){t.deleteItem(e),n.clearEventsForItem(e.id)},mount(n){n?t.remountItemInsideOtherItemAtTheBottom(e.id,n.getId()):t.remountItemToRoot(e.id)},mountRoot:()=>t.remountItemToRoot(e.id),getOutline:()=>function(e,t){const n=t.getSvgOutlineOfItem(e);return n?{getLength:()=>n.getTotalLength(),getWorldPointAtLength(t){const i=n.getPointAtLength(t);return f.O.fromPoint((0,u.rs)(i.x,i.y,e))}}:null}(e,t)},function(e,t,n){if(!t)return{};const i=g.Z.getShapeArgs(t),r={};return(0,P.b0)(i,((t,i)=>{const o=i.substring(0,1).toUpperCase()+i.substring(1);r["set"+o]=function(e,t,n,i){return n=>{e.shapeProps[t]=n,s.Z.item.changed.specific.$emit(i.editorId,e.id,"shapeProps."+t)}}(e,i,0,n),r["get"+o]=function(e,t){return()=>e.shapeProps[t]}(e,i)})),"math_block"===e.shape&&r.hasOwnProperty("setExpression")&&(r.setExpression=function(e,t,n){return i=>{if(e.meta.hasOwnProperty("delayedPropSetterTimers")||(e.meta.delayedPropSetterTimers={}),!e.meta.delayedPropSetterTimers.hasOwnProperty(t))return e.meta.delayedPropSetterTimers[t]={time:performance.now(),timerId:null,targetValue:i},void n(i);const r=e.meta.delayedPropSetterTimers[t],o=performance.now(),s=o-r.time;s>80?(r.time=o,r.timerId&&(clearTimeout(r.timerId),r.timerId=null),r.targetValue=i,n(i)):(r.value=i,r.timerId||(r.timerId=setTimeout((()=>{n(e.meta.delayedPropSetterTimers[t].value),clearTimeout(e.meta.delayedPropSetterTimers[t].timerId),e.meta.delayedPropSetterTimers[t].timerId=null}),80-s)))}}(e,"expression",r.setExpression)),r}(e,l,t));if(l&&l.scriptFunctions){const n=E(E({},v),l.scriptFunctions(t.editorId,t,e));return n.debugItem=H(n,e,t.editorId),n}return v.debugItem=H(v,e,t.editorId),v}function F(e,t,n){const i=Z(e,t,n),r=new Map,o=t.mainScopeData||{};return new l.s(E(E(E({},o),i),{},{findItemById:e=>Z(t.findItemById(e),t,n),findItemByName:e=>Z(t.findItemByName(e),t,n),log:V(t.editorId)}),null,z(t,n,r))}function j(e,t){const n=new Map,i=e.mainScopeData||{};return new l.s(E(E({},i),{},{findItemById:n=>Z(e.findItemById(n),e,t),findItemByName:n=>Z(e.findItemByName(n),e,t),log:V(e.editorId)}),null,z(e,t,n))}function z(e,t,n){return i=>{const r=n.get(i);if(r)return r;const o=e.findItemByName(i);if(!o)return null;const s=Z(o,e,t);return n.set(i,s),s}}class U extends r.Z{constructor(e,t,n,i,r,o,s){super(),this.item=e,this.args=t,this.schemeContainer=n,this.resultCallback=i,this.scriptExecutor=r,this.onDestroy=o,this.shouldPlayCallback=s}init(){return this.shouldPlayCallback()}play(e){try{this.scriptExecutor(Math.min(100,e)/1e3)}catch(e){return console.error(e),!1}return this.shouldPlayCallback()}destroy(){if(this.onDestroy)try{this.onDestroy()}catch(e){console.error(e)}this.args.inBackground||this.resultCallback()}}function H(e,t,n){return()=>{let i=`Item "${t.name}"\nx = ${t.area.x} y = ${t.area.y} width = ${t.area.w} height = ${t.area.h}`;const r=(0,u.rs)(0,0,t);i+=`\nWorld: x = ${r.x} y = ${r.x}`,i+=`\nRotation: ${t.area.r}`,i+=`\nShape: ${t.shape}`,i+="\nFunctions:";for(let t in e)i+=`\n    - ${t}`;s.Z.scriptLog.$emit(n,"info",i),console.log(i)}}function V(e){return(...t)=>{s.Z.scriptLog.$emit(e,"info",t.join(" ")),console.log(...t)}}},471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,w:()=>r});const i={name:"Send event to children",description:"Sends specified event to all children of an item.\nThis can be used for cross-component communication.\nUsing this function you can send event into dynamic component",args:{event:{name:"Event",type:"string",value:"Unknown event..."}},argsToShortString:e=>e.event,execute(e,t,n,i,o){r(e,t.event,i,[]),o()}};function r(e,t,n,i){if("component"===e.shape&&Array.isArray(e._childItems))return e._childItems.forEach((e=>{e.meta.isComponentContainer&&(o(e.childItems,t,n,i),o(e._childItems,t,n,i))})),void o(e.childItems,t,n,i);o(e.childItems,t,n,i),o(e._childItems,t,n,i)}function o(e,t,n,i){Array.isArray(e)&&e.forEach((e=>{if(e.meta.isComponentContainer)o(e.childItems,t,n,i),o(e._childItems,t,n,i);else{let r=[];Array.isArray(i)&&(r=i),n.emitItemEvent(e.id,t,...r)}}))}},2729:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,Z:()=>i});const i={name:"Send to parent",description:"Sends custom events to parent of this item.\nIt can be used for cross-component communication",args:{event:{name:"Event",type:"string",value:"Unknown event..."}},argsToShortString:e=>e.event,execute(e,t,n,i,o){e.meta&&e.meta.parentId&&r(e,t.event,i,n),o()}};function r(e,t,n,i,o){let s=[];Array.isArray(o)&&(s=o),n.emitItemEvent(e.meta.parentId,t,...s);const a=i.findItemById(e.meta.parentId);a&&a.meta.isComponentContainer&&a.meta.parentId&&r(a,t,n,i,o)}},7731:(e,t,n)=>{"use strict";n.d(t,{OZ:()=>m,ZP:()=>w,fu:()=>b,oR:()=>v,tx:()=>g,xz:()=>y});var i=n(520),r=n(9737),o=n(3805),s=n(6012),a=n(8595),l=n(9149),c=n(8113),h=n(7196);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,i,s){(0,r.oK)(e,new o.ZP({durationMillis:1e3*n.animationDuration,animationType:n.transition,update:s,destroy(){i()}}),t.id,`set-func-${n.field}`)}function m(e,t){return Array.isArray(e.effects)?e.effects.find((e=>e.id===t)):null}function g(e){return"number"===e||"color"===e||"advanced-color"===e||"boolean"===e||"string"===e||"text"===e}function v(e){if(!e.startsWith("effects."))return null;const t=e.indexOf("."),n=e.indexOf(".",t+1);return{effectId:e.substring(t+1,n),argName:e.substring(n+1)}}function y(e,t){const n=v(t);if(!n||!Array.isArray(e.effects))return null;const i=e.effects.find((e=>e.id===n.effectId));if(!i)return null;const r=(0,c.ao)()[i.effect];return r||r.args[n.argName]?r.args[n.argName]:null}function b(e){return"number"===e||"color"===e||"advanced-color"===e}function x(e,t,n,i){const{property:r,startValue:o,onUpdate:l,onFinish:c}=i;if("number"===r.type)f(e,t,n,c,(i=>{l(o*(1-i)+n.value*i),a.Z.item.changed.specific.$emit(e,t.id)}));else if("color"===r.type){const i=(0,s.lu)(o),r=(0,s.lu)(n.value);f(e,t,n,c,(n=>{l((0,s.N_)({r:i.r*(1-n)+r.r*n,g:i.g*(1-n)+r.g*n,b:i.b*(1-n)+r.b*n,a:i.a*(1-n)+r.a*n})),a.Z.item.changed.specific.$emit(e,t.id)}))}else"advanced-color"===r.type&&(function(e,t,n,i){const{startValue:r,onUpdate:o,onFinish:l}=i;if("object"!=typeof n.value||"object"!=typeof r)return!1;if("solid"===n.value.type&&"solid"===r.type){const i=(0,s.lu)(r.color),c=(0,s.lu)(n.value.color);return f(e,t,n,l,(n=>{o({type:"solid",color:(0,s.N_)({r:i.r*(1-n)+c.r*n,g:i.g*(1-n)+c.g*n,b:i.b*(1-n)+c.b*n,a:i.a*(1-n)+c.a*n})}),a.Z.item.changed.specific.$emit(e,t.id)})),!0}return"gradient"===n.value.type&&"gradient"===r.type&&function(e,t,n,i){const{startGradient:r,endGradient:o,onUpdate:l,onFinish:c}=i;if(r.colors.length!==o.colors.length)return!1;l({type:"gradient",gradient:u(u({},r),{},{type:o.type})});const h=r.direction,d=[];for(let e=0;e<o.colors.length;e++)d[e]={start:(0,s.lu)(r.colors[e].c),startPos:r.colors[e].p,end:(0,s.lu)(o.colors[e].c),endPos:o.colors[e].p};return f(e,t,n,c,(n=>{l({type:"gradient",gradient:{direction:h*(1-n)+o.direction*n,colors:d.map(((e,t)=>({c:(0,s.N_)({r:e.start.r*(1-n)+e.end.r*n,g:e.start.g*(1-n)+e.end.g*n,b:e.start.b*(1-n)+e.end.b*n,a:e.start.a*(1-n)+e.end.a*n}),p:e.startPos*(1-n)+e.endPos*n}))),type:o.type}}),a.Z.item.changed.specific.$emit(e,t.id)})),!0}(e,t,n,{startGradient:r.gradient,endGradient:n.value.gradient,onUpdate:o,onFinish:l})}(e,t,n,i)||(l(n.value),a.Z.item.changed.specific.$emit(e,t.id),c()))}const w={name:"Set",args:{field:{name:"Field",type:"text",value:""},value:{name:"Value",type:"any",value:null},animated:{name:"Animated",type:"boolean",value:!1},animationDuration:{name:"Animation duration (sec)",type:"number",value:.5,depends:{animated:!0}},transition:{name:"Transition",type:"choice",value:"ease-out",options:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],depends:{animated:!0}},inBackground:{name:"In Background",type:"boolean",value:!1,depends:{animated:!0},description:"Play animation in background without blocking invocation of other actions"}},execute(e,t,n,i,r){e&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")?t.field.startsWith("effects.")?this.executeEffectField(e,t,n,i,r):this.executeRegularField(e,t,n,i,r):r()},executeEffectField(e,t,n,i,r){const o=v(t.field);if(!o)return void r();const s=e.effects.find((e=>e.id===o.effectId));if(!s)return void r();const l=(0,c.ao)()[s.effect];if(!l)return void r();const h=l.args[o.argName];t.animated&&h&&b(h.type)?(t.inBackground&&r(),x(n.editorId,e,t,{property:h,startValue:s.args[o.argName],onUpdate:e=>{s.args[o.argName]=e},onFinish:()=>{t.inBackground||r()}})):(s.args[o.argName]=t.value,a.Z.item.changed.specific.$emit(n.editorId,e.id),r())},executeRegularField(e,t,n,r,o){const s=(0,h.u2)(l.Z.find(e.shape),t.field);t.animated&&s&&b(s.type)?(t.inBackground&&o(),x(n.editorId,e,t,{property:s,startValue:i.Z.getObjectProperty(e,t.field),onUpdate:n=>{i.Z.setObjectProperty(e,t.field,n)},onFinish:()=>{t.inBackground||o()}})):(i.Z.setObjectProperty(e,t.field,t.value),"visible"===t.field&&n.updateVisibility(e),a.Z.item.changed.specific.$emit(n.editorId,e.id),o())}}},520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(6234);const r="function"==typeof btoa,o="function"==typeof Buffer,s=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),a=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),l=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(a),String.fromCharCode.bind(String)),c=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),h=r?e=>btoa(e):o?e=>Buffer.from(e,"binary").toString("base64"):e=>{let t,n,i,r,o="";const s=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|i<<8|r,o+=a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o},d=o?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,i=e.length;n<i;n+=4096)t.push(l.apply(null,e.subarray(n,n+4096)));return h(t.join(""))},u=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=o?e=>Buffer.from(e,"utf8").toString("base64"):s?e=>d(s.encode(e)):e=>h(e.replace(p,u));function m(e){return e<10?"0"+e:""+e}function g(e){let t={};return(0,i.Ed)(e,((e,n)=>{"childItems"===n?t[n]=(0,i.UI)(e,g):"meta"!==n&&"_childItems"!==n&&(t[n]=e)})),t}const v={main:{source:""},functions:[]};function y(e){return null==e?null:JSON.parse(JSON.stringify(e))}function b(e,t,n,i){let r=null;r=Array.isArray(t)?t:t.split(".");let o=e,s=0;for(;s<r.length;){const e=r[s].trim();if(!e)return;if(!(s<r.length-1))return void(i&&o.hasOwnProperty(e)?delete o[e]:o[e]=n);if(o.hasOwnProperty(e)||(o[e]={}),o=o[e],"object"!=typeof o)return;s+=1}}function x(e,t,n){const i=Math.cos(n*Math.PI/180),r=Math.sin(n*Math.PI/180);return{x:e*i-t*r,y:e*r+t*i}}const w={formatDateAndTime:function(e){var t=new Date(e);return`${m(t.getFullYear())}.${m(t.getMonth())}.${m(t.getDate())} ${m(t.getHours())}:${m(t.getMinutes())}`},clone:y,extendObject:function e(t,n){return(0,i.Ed)(n,((n,i)=>{t.hasOwnProperty(i)?"object"==typeof n&&e(t[i],n):t[i]=y(n)})),t},sanitizeScheme:function(e){const t=(0,i.UI)(e.items,g);return{id:e.id,name:e.name,description:e.description,tags:e.tags,modifiedTime:e.modifiedTime,scripts:e.scripts||v,items:t,style:e.style||{}}},getObjectProperty:function(e,t){if(e){let n=null;n=Array.isArray(t)?t:t.split(".");let i=e,r=0;for(;r<n.length;){const e=n[r].trim();if(!e)return;if(r<n.length-1){if(i=i[e],"object"!=typeof i)return}else if(i.hasOwnProperty(e))return i[e];r+=1}}},setObjectProperty:function(e,t,n){b(e,t,n,!1)},deleteObjectProperty:function(e,t){b(e,t,null,!0)},rotateVector:x,rotatePointAroundCenter:function(e,t,n,i,r){const o=x(e-i,t-r,n);return{x:i+o.x,y:r+o.y}},enumerateConstants:function(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&n===n.toUpperCase()&&t.push(e[n]);return t},domHasParentNode:function e(t,n){return!!n(t)||!!t.parentElement&&e(t.parentElement,n)},domFindAncestorByClassUntil:function e(t,n,i){return t.classList.contains(n)?t:i&&i(t)?null:t.parentElement?e(t.parentElement,n,i):null},forceDownload:function(e,t,n){const i=`data:${t};base64,${((e,t=!1)=>t?c(f(e)):f(e))(n)}`,r=document.createElement("a");document.body.appendChild(r);try{r.href=i,r.download=e,r.click()}catch(e){console.error(e)}setTimeout((()=>document.body.removeChild(r)),100)},equals:function e(t,n){const i=typeof t;if(i!==typeof n)return!1;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}if("object"===i){for(let i in t)if(t.hasOwnProperty(i)&&!e(t[i],n[i]))return!1;for(let e in n)if(!t.hasOwnProperty(e))return!1;return!0}return t===n},hashString:function(e){let t=0;if(0==e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}}},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var r={};return n.isMergeableObject(e)&&o(e).forEach((function(t){r[t]=i(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}(e,n,l):i(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},9960:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},1102:(e,t,n)=>{"use strict";var i=n(6291),r=o(Error);function o(e){return t.displayName=e.displayName||e.name,t;function t(t){return t&&(t=i.apply(null,arguments)),new e(t)}}e.exports=r,r.eval=o(EvalError),r.range=o(RangeError),r.reference=o(ReferenceError),r.syntax=o(SyntaxError),r.type=o(TypeError),r.uri=o(URIError),r.create=o},6291:e=>{!function(){var t;function n(e){for(var t,n,i,r,o=1,s=[].slice.call(arguments),a=0,l=e.length,c="",h=!1,d=!1,u=function(){return s[o++]},p=function(){for(var n="";/\d/.test(e[a]);)n+=e[a++],t=e[a];return n.length>0?parseInt(n):null};a<l;++a)if(t=e[a],h)switch(h=!1,"."==t?(d=!1,t=e[++a]):"0"==t&&"."==e[a+1]?(d=!0,t=e[a+=2]):d=!0,r=p(),t){case"b":c+=parseInt(u(),10).toString(2);break;case"c":c+="string"==typeof(n=u())||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(u(),10);break;case"f":i=String(parseFloat(u()).toFixed(r||6)),c+=d?i:i.replace(/^0/,"");break;case"j":c+=JSON.stringify(u());break;case"o":c+="0"+parseInt(u(),10).toString(8);break;case"s":c+=u();break;case"x":c+="0x"+parseInt(u(),10).toString(16);break;case"X":c+="0x"+parseInt(u(),10).toString(16).toUpperCase();break;default:c+=t}else"%"===t?h=!0:c+=t;return c}(t=e.exports=n).format=n,t.vsprintf=function(e,t){return n.apply(null,[e].concat(t))},"undefined"!=typeof console&&"function"==typeof console.log&&(t.printf=function(){console.log(n.apply(null,arguments))})}()},7802:e=>{function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];"object"!=typeof i||Object.isFrozen(i)||t(i)})),e}var n=t,i=t;n.default=i;class r{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const a=e=>!!e.kind;class l{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=o(e)}openNode(e){if(!a(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){a(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class c{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{c._collapse(e)})))}}class h extends c{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){return new l(this,this.options).value()}finalize(){return!0}}function d(e){return e?"string"==typeof e?e:e.source:null}const u=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,p="[a-zA-Z]\\w*",f="[a-zA-Z_]\\w*",m="\\b\\d+(\\.\\d+)?",g="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",v="\\b(0b[01]+)",y={begin:"\\\\[\\s\\S]",relevance:0},b={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[y]},x={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[y]},w={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},A=function(e,t,n={}){const i=s({className:"comment",begin:e,end:t,contains:[]},n);return i.contains.push(w),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},C=A("//","$"),k=A("/\\*","\\*/"),S=A("#","$"),P={className:"number",begin:m,relevance:0},I={className:"number",begin:g,relevance:0},E={className:"number",begin:v,relevance:0},_={className:"number",begin:m+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},T={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[y,{begin:/\[/,end:/\]/,relevance:0,contains:[y]}]}]},$={className:"title",begin:p,relevance:0},M={className:"title",begin:f,relevance:0},O={begin:"\\.\\s*"+f,relevance:0};var D=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:p,UNDERSCORE_IDENT_RE:f,NUMBER_RE:m,C_NUMBER_RE:g,BINARY_NUMBER_RE:v,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map((e=>d(e))).join("")}(t,/.*\b/,e.binary,/\b.*/)),s({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:y,APOS_STRING_MODE:b,QUOTE_STRING_MODE:x,PHRASAL_WORDS_MODE:w,COMMENT:A,C_LINE_COMMENT_MODE:C,C_BLOCK_COMMENT_MODE:k,HASH_COMMENT_MODE:S,NUMBER_MODE:P,C_NUMBER_MODE:I,BINARY_NUMBER_MODE:E,CSS_NUMBER_MODE:_,REGEXP_MODE:T,TITLE_MODE:$,UNDERSCORE_TITLE_MODE:M,METHOD_GUARD:O,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function L(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function N(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=L,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function B(e,t){Array.isArray(e.illegal)&&(e.illegal=function(...e){return"("+e.map((e=>d(e))).join("|")+")"}(...e.illegal))}function R(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Z(e,t){void 0===e.relevance&&(e.relevance=1)}const F=["of","and","for","in","not","or","if","then","parent","list","value"],j="keyword";function z(e,t,n=j){const i={};return"string"==typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach((function(n){Object.assign(i,z(e[n],t,n))})),i;function r(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");i[n[0]]=[e,U(n[0],n[1])]}))}}function U(e,t){return t?Number(t):function(e){return F.includes(e.toLowerCase())}(e)?0:1}function H(e,{plugins:t}){function n(t,n){return new RegExp(d(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=n(function(e,t="|"){let n=0;return e.map((e=>{n+=1;const t=n;let i=d(e),r="";for(;i.length>0;){const e=u.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r})).map((e=>`(${e})`)).join(t)}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new i;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=s(e.classNameAliases||{}),function t(i,o){const a=i;if(i.isCompiled)return a;[R].forEach((e=>e(i,o))),e.compilerExtensions.forEach((e=>e(i,o))),i.__beforeBegin=null,[N,B,Z].forEach((e=>e(i,o))),i.isCompiled=!0;let l=null;if("object"==typeof i.keywords&&(l=i.keywords.$pattern,delete i.keywords.$pattern),i.keywords&&(i.keywords=z(i.keywords,e.case_insensitive)),i.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return l=l||i.lexemes||/\w+/,a.keywordPatternRe=n(l,!0),o&&(i.begin||(i.begin=/\B|\b/),a.beginRe=n(i.begin),i.endSameAsBegin&&(i.end=i.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(a.endRe=n(i.end)),a.terminatorEnd=d(i.end)||"",i.endsWithParent&&o.terminatorEnd&&(a.terminatorEnd+=(i.end?"|":"")+o.terminatorEnd)),i.illegal&&(a.illegalRe=n(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map((function(e){return function(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return s(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:V(e)?s(e,{starts:e.starts?s(e.starts):null}):Object.isFrozen(e)?s(e):e}("self"===e?i:e)}))),i.contains.forEach((function(e){t(e,a)})),i.starts&&t(i.starts,o),a.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function V(e){return!!e&&(e.endsWithParent||V(e.starts))}function q(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,o(this.code);let t={};return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect(){return!this.language||(e=this.autodetect,Boolean(e||""===e));var e},ignoreIllegals:()=>!0},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(e){e.component("highlightjs",t)}}}}const W={"after:highlightElement":({el:e,result:t,text:n})=>{const i=J(e);if(!i.length)return;const r=document.createElement("div");r.innerHTML=t.value,t.value=function(e,t,n){let i=0,r="";const s=[];function a(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function l(e){r+="<"+G(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+o(e.value)+'"'})).join("")+">"}function c(e){r+="</"+G(e)+">"}function h(e){("start"===e.event?l:c)(e.node)}for(;e.length||t.length;){let t=a();if(r+=o(n.substring(i,t[0].offset)),i=t[0].offset,t===e){s.reverse().forEach(c);do{h(t.splice(0,1)[0]),t=a()}while(t===e&&t.length&&t[0].offset===i);s.reverse().forEach(l)}else"start"===t[0].event?s.push(t[0].node):s.pop(),h(t.splice(0,1)[0])}return r+o(n.substr(i))}(i,J(r),n)}};function G(e){return e.nodeName.toLowerCase()}function J(e){const t=[];return function e(n,i){for(let r=n.firstChild;r;r=r.nextSibling)3===r.nodeType?i+=r.nodeValue.length:1===r.nodeType&&(t.push({event:"start",offset:i,node:r}),i=e(r,i),G(r).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:r}));return i}(e,0),t}const K={},Q=e=>{console.error(e)},Y=(e,...t)=>{console.log(`WARN: ${e}`,...t)},X=(e,t)=>{K[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),K[`${e}/${t}`]=!0)},ee=o,te=s,ne=Symbol("nomatch");var ie=function(e){const t=Object.create(null),i=Object.create(null),o=[];let s=!0;const a=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let d={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:h};function u(e){return d.noHighlightRe.test(e)}function p(e,t,n,i){let r="",o="";"object"==typeof t?(r=e,n=t.ignoreIllegals,o=t.language,i=void 0):(X("10.7.0","highlight(lang, code, ...args) has been deprecated."),X("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,r=t);const s={code:r,language:o};P("before:highlight",s);const a=s.result?s.result:f(s.language,s.code,n,i);return a.code=s.code,P("after:highlight",a),a}function f(e,n,i,a){function c(e,t){const n=x.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function h(){null!=k.subLanguage?function(){if(""===I)return;let e=null;if("string"==typeof k.subLanguage){if(!t[k.subLanguage])return void P.addText(I);e=f(k.subLanguage,I,!0,S[k.subLanguage]),S[k.subLanguage]=e.top}else e=m(I,k.subLanguage.length?k.subLanguage:null);k.relevance>0&&(E+=e.relevance),P.addSublanguage(e.emitter,e.language)}():function(){if(!k.keywords)return void P.addText(I);let e=0;k.keywordPatternRe.lastIndex=0;let t=k.keywordPatternRe.exec(I),n="";for(;t;){n+=I.substring(e,t.index);const i=c(k,t);if(i){const[e,r]=i;if(P.addText(n),n="",E+=r,e.startsWith("_"))n+=t[0];else{const n=x.classNameAliases[e]||e;P.addKeyword(t[0],n)}}else n+=t[0];e=k.keywordPatternRe.lastIndex,t=k.keywordPatternRe.exec(I)}n+=I.substr(e),P.addText(n)}(),I=""}function u(e){return e.className&&P.openNode(x.classNameAliases[e.className]||e.className),k=Object.create(e,{parent:{value:k}}),k}function p(e,t,n){let i=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(i){if(e["on:end"]){const n=new r(e);e["on:end"](t,n),n.isMatchIgnored&&(i=!1)}if(i){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return p(e.parent,t,n)}function g(e){return 0===k.matcher.regexIndex?(I+=e[0],1):($=!0,0)}function v(e){const t=e[0],i=n.substr(e.index),r=p(k,e,i);if(!r)return ne;const o=k;o.skip?I+=t:(o.returnEnd||o.excludeEnd||(I+=t),h(),o.excludeEnd&&(I=t));do{k.className&&P.closeNode(),k.skip||k.subLanguage||(E+=k.relevance),k=k.parent}while(k!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),u(r.starts)),o.returnEnd?0:t.length}let y={};function b(t,o){const a=o&&o[0];if(I+=t,null==a)return h(),0;if("begin"===y.type&&"end"===o.type&&y.index===o.index&&""===a){if(I+=n.slice(o.index,o.index+1),!s){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=y.rule,t}return 1}if(y=o,"begin"===o.type)return function(e){const t=e[0],n=e.rule,i=new r(n),o=[n.__beforeBegin,n["on:begin"]];for(const n of o)if(n&&(n(e,i),i.isMatchIgnored))return g(t);return n&&n.endSameAsBegin&&(n.endRe=new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?I+=t:(n.excludeBegin&&(I+=t),h(),n.returnBegin||n.excludeBegin||(I=t)),u(n),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!i){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(k.className||"<unnamed>")+'"');throw e.mode=k,e}if("end"===o.type){const e=v(o);if(e!==ne)return e}if("illegal"===o.type&&""===a)return 1;if(T>1e5&&T>3*o.index)throw new Error("potential infinite loop, way more iterations than matches");return I+=a,a.length}const x=C(e);if(!x)throw Q(l.replace("{}",e)),new Error('Unknown language: "'+e+'"');const w=H(x,{plugins:o});let A="",k=a||w;const S={},P=new d.__emitter(d);!function(){const e=[];for(let t=k;t!==x;t=t.parent)t.className&&e.unshift(t.className);e.forEach((e=>P.openNode(e)))}();let I="",E=0,_=0,T=0,$=!1;try{for(k.matcher.considerAll();;){T++,$?$=!1:k.matcher.considerAll(),k.matcher.lastIndex=_;const e=k.matcher.exec(n);if(!e)break;const t=b(n.substring(_,e.index),e);_=e.index+t}return b(n.substr(_)),P.closeAllNodes(),P.finalize(),A=P.toHTML(),{relevance:Math.floor(E),value:A,language:e,illegal:!1,emitter:P,top:k}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:n.slice(_-100,_+100),mode:t.mode},sofar:A,relevance:0,value:ee(n),emitter:P};if(s)return{illegal:!1,relevance:0,value:ee(n),emitter:P,language:e,top:k,errorRaised:t};throw t}}function m(e,n){n=n||d.languages||Object.keys(t);const i=function(e){const t={relevance:0,emitter:new d.__emitter(d),value:ee(e),illegal:!1,top:c};return t.emitter.addText(e),t}(e),r=n.filter(C).filter(S).map((t=>f(t,e,!1)));r.unshift(i);const o=r.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(C(e.language).supersetOf===t.language)return 1;if(C(t.language).supersetOf===e.language)return-1}return 0})),[s,a]=o,l=s;return l.second_best=a,l}const g={"before:highlightElement":({el:e})=>{d.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{d.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},v=/^(<[^>]+>|\t)+/gm,y={"after:highlightElement":({result:e})=>{d.tabReplace&&(e.value=e.value.replace(v,(e=>e.replace(/\t/g,d.tabReplace))))}};function b(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=d.languageDetectRe.exec(t);if(n){const t=C(n[1]);return t||(Y(l.replace("{}",n[1])),Y("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>u(e)||C(e)))}(e);if(u(n))return;P("before:highlightElement",{el:e,language:n}),t=e;const r=t.textContent,o=n?p(r,{language:n,ignoreIllegals:!0}):m(r);P("after:highlightElement",{el:e,result:o,text:r}),e.innerHTML=o.value,function(e,t,n){const r=t?i[t]:n;e.classList.add("hljs"),r&&e.classList.add(r)}(e,n,o.language),e.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}const x=()=>{x.called||(x.called=!0,X("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(b))};let w=!1;function A(){"loading"!==document.readyState?document.querySelectorAll("pre code").forEach(b):w=!0}function C(e){return e=(e||"").toLowerCase(),t[e]||t[i[e]]}function k(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{i[e.toLowerCase()]=t}))}function S(e){const t=C(e);return t&&!t.disableAutodetect}function P(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){w&&A()}),!1),Object.assign(e,{highlight:p,highlightAuto:m,highlightAll:A,fixMarkup:function(e){return X("10.2.0","fixMarkup will be removed entirely in v11.0"),X("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),t=e,d.tabReplace||d.useBR?t.replace(a,(e=>"\n"===e?d.useBR?"<br>":e:d.tabReplace?e.replace(/\t/g,d.tabReplace):e)):t;var t},highlightElement:b,highlightBlock:function(e){return X("10.7.0","highlightBlock will be removed entirely in v12.0"),X("10.7.0","Please use highlightElement now."),b(e)},configure:function(e){e.useBR&&(X("10.3.0","'useBR' will be removed entirely in v11.0"),X("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),d=te(d,e)},initHighlighting:x,initHighlightingOnLoad:function(){X("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),w=!0},registerLanguage:function(n,i){let r=null;try{r=i(e)}catch(e){if(Q("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw e;Q(e),r=c}r.name||(r.name=n),t[n]=r,r.rawDefinition=i.bind(null,e),r.aliases&&k(r.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(i))i[t]===e&&delete i[t]},listLanguages:function(){return Object.keys(t)},getLanguage:C,registerAliases:k,requireLanguage:function(e){X("10.4.0","requireLanguage will be removed entirely in v11."),X("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const t=C(e);if(t)return t;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:S,inherit:te,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),o.push(e)},vuePlugin:q(e).VuePlugin}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="10.7.3";for(const e in D)"object"==typeof D[e]&&n(D[e]);return Object.assign(e,D),e.addPlugin(g),e.addPlugin(W),e.addPlugin(y),e}({});e.exports=ie},6470:(e,t,n)=>{"use strict";n(7802),n(1102);i.prototype.addText=function(e){var t,n,i=this.stack;""!==e&&((n=(t=i[i.length-1]).children[t.children.length-1])&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e}))},i.prototype.addKeyword=function(e,t){this.openNode(t),this.addText(e),this.closeNode()},i.prototype.addSublanguage=function(e,t){var n=this.stack,i=n[n.length-1],r=e.rootNode.children,o=t?{type:"element",tagName:"span",properties:{className:[t]},children:r}:r;i.children=i.children.concat(o)},i.prototype.openNode=function(e){var t=this.stack,n={type:"element",tagName:"span",properties:{className:[this.options.classPrefix+e]},children:[]};t[t.length-1].children.push(n),t.push(n)},i.prototype.closeNode=function(){this.stack.pop()},i.prototype.closeAllNodes=r,i.prototype.finalize=r,i.prototype.toHTML=function(){return""};function i(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function r(){}},9430:function(e,t){var n,i;void 0===(i="function"==typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(t){var n,i=t.exec(e.substring(m));if(i)return n=i[0],m+=n.length,n}for(var i,r,o,s,a,l=e.length,c=/^[ \t\n\r\u000c]+/,h=/^[, \t\n\r\u000c]+/,d=/^[^ \t\n\r\u000c]+/,u=/[,]+$/,p=/^\d+$/,f=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,g=[];;){if(n(h),m>=l)return g;i=n(d),r=[],","===i.slice(-1)?(i=i.replace(u,""),y()):v()}function v(){for(n(c),o="",s="in descriptor";;){if(a=e.charAt(m),"in descriptor"===s)if(t(a))o&&(r.push(o),o="",s="after descriptor");else{if(","===a)return m+=1,o&&r.push(o),void y();if("("===a)o+=a,s="in parens";else{if(""===a)return o&&r.push(o),void y();o+=a}}else if("in parens"===s)if(")"===a)o+=a,s="in descriptor";else{if(""===a)return r.push(o),void y();o+=a}else if("after descriptor"===s)if(t(a));else{if(""===a)return void y();s="in descriptor",m-=1}m+=1}}function y(){var t,n,o,s,a,l,c,h,d,u=!1,m={};for(s=0;s<r.length;s++)l=(a=r[s])[a.length-1],c=a.substring(0,a.length-1),h=parseInt(c,10),d=parseFloat(c),p.test(c)&&"w"===l?((t||n)&&(u=!0),0===h?u=!0:t=h):f.test(c)&&"x"===l?((t||n||o)&&(u=!0),d<0?u=!0:n=d):p.test(c)&&"h"===l?((o||n)&&(u=!0),0===h?u=!0:o=h):u=!0;u?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+a+"'."):(m.url=i,t&&(m.w=t),n&&(m.d=n),o&&(m.h=o),g.push(m))}}})?n.apply(t,[]):n)||(e.exports=i)},4241:e=>{var t=String,n=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t}};e.exports=n(),e.exports.createColors=n},1353:(e,t,n)=>{"use strict";let i=n(1019);class r extends i{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=r,r.default=r,i.registerAtRule(r)},9932:(e,t,n)=>{"use strict";let i=n(5631);class r extends i{constructor(e){super(e),this.type="comment"}}e.exports=r,r.default=r},1019:(e,t,n)=>{"use strict";let i,r,o,s,{isClean:a,my:l}=n(5513),c=n(4258),h=n(9932),d=n(5631);function u(e){return e.map((e=>(e.nodes&&(e.nodes=u(e.nodes)),delete e.source,e)))}function p(e){if(e[a]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)p(t)}class f extends d{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,n,i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(t=this.indexes[i],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[i]+=1;return delete this.indexes[i],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,n)=>(e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,i=this.index(e),r=this.normalize(t,this.proxyOf.nodes[i]).reverse();i=this.index(e);for(let e of r)this.proxyOf.nodes.splice(i+1,0,e);for(let e in this.indexes)n=this.indexes[e],i<n&&(this.indexes[e]=n+r.length);return this.markDirty(),this}insertBefore(e,t){let n,i=this.index(e),r=0===i&&"prepend",o=this.normalize(t,this.proxyOf.nodes[i],r).reverse();i=this.index(e);for(let e of o)this.proxyOf.nodes.splice(i,0,e);for(let e in this.indexes)n=this.indexes[e],i<=n&&(this.indexes[e]=n+o.length);return this.markDirty(),this}normalize(e,t){if("string"==typeof e)e=u(i(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new c(e)]}else if(e.selector)e=[new r(e)];else if(e.name)e=[new o(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new h(e)]}return e.map((e=>(e[l]||f.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[a]&&p(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,n)=>{let i;try{i=e(t,n)}catch(e){throw t.addToError(e)}return!1!==i&&t.walk&&(i=t.walk(e)),i}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("atrule"===n.type&&e.test(n.name))return t(n,i)})):this.walk(((n,i)=>{if("atrule"===n.type&&n.name===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("decl"===n.type&&e.test(n.prop))return t(n,i)})):this.walk(((n,i)=>{if("decl"===n.type&&n.prop===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("rule"===n.type&&e.test(n.selector))return t(n,i)})):this.walk(((n,i)=>{if("rule"===n.type&&n.selector===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}f.registerParse=e=>{i=e},f.registerRule=e=>{r=e},f.registerAtRule=e=>{o=e},f.registerRoot=e=>{s=e},e.exports=f,f.default=f,f.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,o.prototype):"rule"===e.type?Object.setPrototypeOf(e,r.prototype):"decl"===e.type?Object.setPrototypeOf(e,c.prototype):"comment"===e.type?Object.setPrototypeOf(e,h.prototype):"root"===e.type&&Object.setPrototypeOf(e,s.prototype),e[l]=!0,e.nodes&&e.nodes.forEach((e=>{f.rebuild(e)}))}},2671:(e,t,n)=>{"use strict";let i=n(4241),r=n(2868);class o extends Error{constructor(e,t,n,i,r,s){super(e),this.name="CssSyntaxError",this.reason=e,r&&(this.file=r),i&&(this.source=i),s&&(this.plugin=s),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,o)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=i.isColorSupported),r&&e&&(t=r(t));let n,o,s=t.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,s.length),c=String(l).length;if(e){let{bold:e,gray:t,red:r}=i.createColors(!0);n=t=>e(r(t)),o=e=>t(e)}else n=o=e=>e;return s.slice(a,l).map(((e,t)=>{let i=a+1+t,r=" "+(" "+i).slice(-c)+" | ";if(i===this.line){let t=o(r.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+o(r)+e+"\n "+t+n("^")}return" "+o(r)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=o,o.default=o},4258:(e,t,n)=>{"use strict";let i=n(5631);class r extends i{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}e.exports=r,r.default=r},6461:(e,t,n)=>{"use strict";let i,r,o=n(1019);class s extends o{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new i(new r,this,e).stringify()}}s.registerLazyResult=e=>{i=e},s.registerProcessor=e=>{r=e},e.exports=s,s.default=s},250:(e,t,n)=>{"use strict";let i=n(4258),r=n(7981),o=n(9932),s=n(1353),a=n(5995),l=n(1025),c=n(1675);function h(e,t){if(Array.isArray(e))return e.map((e=>h(e)));let{inputs:n,...d}=e;if(n){t=[];for(let e of n){let n={...e,__proto__:a.prototype};n.map&&(n.map={...n.map,__proto__:r.prototype}),t.push(n)}}if(d.nodes&&(d.nodes=e.nodes.map((e=>h(e,t)))),d.source){let{inputId:e,...n}=d.source;d.source=n,null!=e&&(d.source.input=t[e])}if("root"===d.type)return new l(d);if("decl"===d.type)return new i(d);if("rule"===d.type)return new c(d);if("comment"===d.type)return new o(d);if("atrule"===d.type)return new s(d);throw new Error("Unknown node type: "+e.type)}e.exports=h,h.default=h},5995:(e,t,n)=>{"use strict";let{SourceMapConsumer:i,SourceMapGenerator:r}=n(209),{fileURLToPath:o,pathToFileURL:s}=n(7414),{isAbsolute:a,resolve:l}=n(9830),{nanoid:c}=n(2618),h=n(2868),d=n(2671),u=n(7981),p=Symbol("fromOffsetCache"),f=Boolean(i&&r),m=Boolean(l&&a);class g{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!m||/^\w+:\/\//.test(t.from)||a(t.from)?this.file=t.from:this.file=l(t.from)),m&&f){let e=new u(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+c(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,i={}){let r,o,a;if(t&&"object"==typeof t){let e=t,i=n;if("number"==typeof e.offset){let i=this.fromOffset(e.offset);t=i.line,n=i.col}else t=e.line,n=e.column;if("number"==typeof i.offset){let e=this.fromOffset(i.offset);o=e.line,a=e.col}else o=i.line,a=i.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let l=this.origin(t,n,o,a);return r=l?new d(e,void 0===l.endLine?l.line:{column:l.column,line:l.line},void 0===l.endLine?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,i.plugin):new d(e,void 0===o?t:{column:n,line:t},void 0===o?n:{column:a,line:o},this.css,this.file,i.plugin),r.input={column:n,endColumn:a,endLine:o,line:t,source:this.css},this.file&&(s&&(r.input.url=s(this.file).toString()),r.input.file=this.file),r}fromOffset(e){let t,n;if(this[p])n=this[p];else{let e=this.css.split("\n");n=new Array(e.length);let t=0;for(let i=0,r=e.length;i<r;i++)n[i]=t,t+=e[i].length+1;this[p]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let t,r=n.length-2;for(;i<r;)if(t=i+(r-i>>1),e<n[t])r=t-1;else{if(!(e>=n[t+1])){i=t;break}i=t+1}}return{col:e-n[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:l(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,i){if(!this.map)return!1;let r,l,c=this.map.consumer(),h=c.originalPositionFor({column:t,line:e});if(!h.source)return!1;"number"==typeof n&&(r=c.originalPositionFor({column:i,line:n})),l=a(h.source)?s(h.source):new URL(h.source,this.map.consumer().sourceRoot||s(this.map.mapFile));let d={column:h.column,endColumn:r&&r.column,endLine:r&&r.line,line:h.line,url:l.toString()};if("file:"===l.protocol){if(!o)throw new Error("file: protocol is not available in this PostCSS build");d.file=o(l)}let u=c.sourceContentFor(h.source);return u&&(d.source=u),d}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}}e.exports=g,g.default=g,h&&h.registerInput&&h.registerInput(g)},1939:(e,t,n)=>{"use strict";let{isClean:i,my:r}=n(5513),o=n(8505),s=n(7088),a=n(1019),l=n(6461),c=(n(2448),n(3632)),h=n(6939),d=n(1025);const u={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},p={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},m=0;function g(e){return"object"==typeof e&&"function"==typeof e.then}function v(e){let t=!1,n=u[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,m,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,m,n+"Exit"]:[n,n+"Exit"]}function y(e){let t;return t="document"===e.type?["Document",m,"DocumentExit"]:"root"===e.type?["Root",m,"RootExit"]:v(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function b(e){return e[i]=!1,e.nodes&&e.nodes.forEach((e=>b(e))),e}let x={};class w{constructor(e,t,n){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof w||t instanceof c)i=b(t.root),t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=h;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{i=e(t,n)}catch(e){this.processed=!0,this.error=e}i&&!i[r]&&a.rebuild(i)}else i=b(t);this.result=new c(e,i,n),this.helpers={...x,postcss:x,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!p[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[n])if("object"==typeof t[n])for(let i in t[n])e(t,"*"===i?n:n+"-"+i.toLowerCase(),t[n][i]);else"function"==typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(g(n))try{await n}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[i];){e[i]=!0;let t=[y(e)];for(;t.length>0;){let e=this.visitTick(t);if(g(e))try{await e}catch(e){let n=t[t.length-1].node;throw this.handleError(e,n)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>n(e,this.helpers)));await Promise.all(t)}else await n(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return g(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=s;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new o(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(g(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[i];)e[i]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,i]of e){let e;this.result.lastPlugin=n;try{e=i(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(g(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:r}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){let r,o=t.iterator;for(;r=n.nodes[n.indexes[o]];)if(n.indexes[o]+=1,!r[i])return r[i]=!0,void e.push(y(r));t.iterator=0,delete n.indexes[o]}let o=t.events;for(;t.eventIndex<o.length;){let e=o[t.eventIndex];if(t.eventIndex+=1,e===m)return void(n.nodes&&n.nodes.length&&(n[i]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[i]=!0;let t=v(e);for(let n of t)if(n===m)e.nodes&&e.each((e=>{e[i]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}w.registerPostcss=e=>{x=e},e.exports=w,w.default=w,d.registerLazyResult(w),l.registerLazyResult(w)},4715:e=>{"use strict";let t={comma:e=>t.split(e,[","],!0),space:e=>t.split(e,[" ","\n","\t"]),split(e,t,n){let i=[],r="",o=!1,s=0,a=!1,l="",c=!1;for(let n of e)c?c=!1:"\\"===n?c=!0:a?n===l&&(a=!1):'"'===n||"'"===n?(a=!0,l=n):"("===n?s+=1:")"===n?s>0&&(s-=1):0===s&&t.includes(n)&&(o=!0),o?(""!==r&&i.push(r.trim()),r="",o=!1):r+=n;return(n||""!==r)&&i.push(r.trim()),i}};e.exports=t,t.default=t},8505:(e,t,n)=>{"use strict";let{SourceMapConsumer:i,SourceMapGenerator:r}=n(209),{dirname:o,relative:s,resolve:a,sep:l}=n(9830),{pathToFileURL:c}=n(7414),h=n(5995),d=Boolean(i&&r),u=Boolean(o&&a&&s&&l);e.exports=class{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),r=e.root||o(e.file);!1===this.mapOpts.sourcesContent?(t=new i(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null)))):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),u&&d&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=r.fromSourceMap(e)}else this.map=new r({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new r({file:this.outputFile()});let e,t,n=1,i=1,o="<no source>",s={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((r,a,l)=>{if(this.css+=r,a&&"end"!==l&&(s.generated.line=n,s.generated.column=i-1,a.source&&a.source.start?(s.source=this.sourcePath(a),s.original.line=a.source.start.line,s.original.column=a.source.start.column-1,this.map.addMapping(s)):(s.source=o,s.original.line=1,s.original.column=0,this.map.addMapping(s))),e=r.match(/\n/g),e?(n+=e.length,t=r.lastIndexOf("\n"),i=r.length-t):i+=r.length,a&&"start"!==l){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(s.source=this.sourcePath(a),s.original.line=a.source.end.line,s.original.column=a.source.end.column-1,s.generated.line=n,s.generated.column=i-2,this.map.addMapping(s)):(s.source=o,s.original.line=1,s.original.column=0,s.generated.line=n,s.generated.column=i-1,this.map.addMapping(s)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?o(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=o(a(n,this.mapOpts.annotation)));let i=s(n,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new h(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let i=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(i,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(c){let t=c(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===l&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}}},7647:(e,t,n)=>{"use strict";let i=n(8505),r=n(7088),o=(n(2448),n(6939));const s=n(3632);class a{constructor(e,t,n){let o;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let a=r;this.result=new s(this._processor,o,this._opts),this.result.css=t;let l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});let c=new i(a,o,this._opts,t);if(c.isMap()){let[e,t]=c.generate();e&&(this.result.css=e),t&&(this.result.map=t)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=o;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}}e.exports=a,a.default=a},5631:(e,t,n)=>{"use strict";let{isClean:i,my:r}=n(5513),o=n(2671),s=n(1062),a=n(7088);function l(e,t){let n=new e.constructor;for(let i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;if("proxyCache"===i)continue;let r=e[i],o=typeof r;"parent"===i&&"object"===o?t&&(n[i]=t):"source"===i?n[i]=r:Array.isArray(r)?n[i]=r.map((e=>l(e,n))):("object"===o&&null!==r&&(r=l(r)),n[i]=r)}return n}class c{constructor(e={}){this.raws={},this[i]=!1,this[r]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"==typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=l(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:n.column,line:n.line},t)}return new o(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,n)=>(e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markDirty(){if(this[i]){this[i]=!1;let e=this;for(;e=e.parent;)e[i]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){let i=(t=this.toString()).indexOf(e.word);-1!==i&&(n=this.positionInside(i,t))}return n}positionInside(e,t){let n=t||this.toString(),i=this.source.start.column,r=this.source.start.line;for(let t=0;t<e;t++)"\n"===n[t]?(i=1,r+=1):i+=1;return{column:i,line:r}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),r=i.indexOf(e.word);-1!==r&&(t=this.positionInside(r,i),n=this.positionInside(r+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return(new s).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},i=null==t;t=t||new Map;let r=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let i=this[e];if(Array.isArray(i))n[e]=i.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof i&&i.toJSON)n[e]=i.toJSON(null,t);else if("source"===e){let o=t.get(i.input);null==o&&(o=r,t.set(i.input,r),r++),n[e]={end:i.end,inputId:o,start:i.start}}else n[e]=i}return i&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=a){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,n){let i={node:this};for(let e in n)i[e]=n[e];return e.warn(t,i)}get proxyOf(){return this}}e.exports=c,c.default=c},6939:(e,t,n)=>{"use strict";let i=n(1019),r=n(8867),o=n(5995);function s(e,t){let n=new o(e,t),i=new r(n);try{i.parse()}catch(e){throw e}return i.root}e.exports=s,s.default=s,i.registerParse(s)},8867:(e,t,n)=>{"use strict";let i=n(4258),r=n(3852),o=n(9932),s=n(1353),a=n(1025),l=n(1675);const c={empty:!0,space:!0};e.exports=class{constructor(e){this.input=e,this.root=new a,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,i,r=new s;r.name=e[1].slice(1),""===r.name&&this.unnamedAtrule(r,e),this.init(r,e[2]);let o=!1,a=!1,l=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){r.source.end=this.getPosition(e[2]),r.source.end.offset++,this.semicolon=!0;break}if("{"===t){a=!0;break}if("}"===t){if(l.length>0){for(i=l.length-1,n=l[i];n&&"space"===n[0];)n=l[--i];n&&(r.source.end=this.getPosition(n[3]||n[2]),r.source.end.offset++)}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),o&&(e=l[l.length-1],r.source.end=this.getPosition(e[3]||e[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),a&&(r.nodes=[],this.current=r)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,i=0;for(let r=t-1;r>=0&&(n=e[r],"space"===n[0]||(i+=1,2!==i));r--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}colon(e){let t,n,i,r=0;for(let[o,s]of e.entries()){if(t=s,n=t[0],"("===n&&(r+=1),")"===n&&(r-=1),0===r&&":"===n){if(i){if("word"===i[0]&&"progid"===i[1])continue;return o}this.doubleColon(t)}i=t}return!1}comment(e){let t=new o;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=r(this.input)}decl(e,t){let n=new i;this.init(n,e[0][2]);let r,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(o[3]||o[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],i=n[3]||n[2];if(i)return i}}(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(r=e.shift(),":"===r[0]){n.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),n.raws.between+=r[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let s,a=[];for(;e.length&&(s=e[0][0],"space"===s||"comment"===s);)a.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(r=e[t],"!important"===r[1].toLowerCase()){n.important=!0;let i=this.stringFrom(e,t);i=this.spacesFromEnd(e)+i," !important"!==i&&(n.raws.important=i);break}if("important"===r[1].toLowerCase()){let i=e.slice(0),r="";for(let e=t;e>0;e--){let t=i[e][0];if(0===r.trim().indexOf("!")&&"space"!==t)break;r=i.pop()[1]+r}0===r.trim().indexOf("!")&&(n.important=!0,n.raws.important=r,e=i)}if("space"!==r[0]&&"comment"!==r[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(n.raws.between+=a.map((e=>e[1])).join(""),a=[]),this.raw(n,"value",a.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new l;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,i=!1,r=null,o=[],s=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)r||(r=l),o.push("("===n?")":"]");else if(s&&i&&"{"===n)r||(r=l),o.push("}");else if(0===o.length){if(";"===n){if(i)return void this.decl(a,s);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(i=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(r=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(r),t&&i){if(!s)for(;a.length&&(l=a[a.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,s)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,i){let r,o,s,a,l=n.length,h="",d=!0;for(let e=0;e<l;e+=1)r=n[e],o=r[0],"space"!==o||e!==l-1||i?"comment"===o?(a=n[e-1]?n[e-1][0]:"empty",s=n[e+1]?n[e+1][0]:"empty",c[a]||c[s]||","===h.slice(-1)?d=!1:h+=r[1]):h+=r[1]:d=!1;if(!d){let i=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:i,value:h}}e[t]=h}rule(e){e.pop();let t=new l;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}},20:(e,t,n)=>{"use strict";let i=n(2671),r=n(4258),o=n(1939),s=n(1019),a=n(1723),l=n(7088),c=n(250),h=n(6461),d=n(1728),u=n(9932),p=n(1353),f=n(3632),m=n(5995),g=n(6939),v=n(4715),y=n(1675),b=n(1025),x=n(5631);function w(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new a(e)}w.plugin=function(e,t){let n,i=!1;function r(...n){console&&console.warn&&!i&&(i=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));let r=t(...n);return r.postcssPlugin=e,r.postcssVersion=(new a).version,r}return Object.defineProperty(r,"postcss",{get:()=>(n||(n=r()),n)}),r.process=function(e,t,n){return w([r(n)]).process(e,t)},r},w.stringify=l,w.parse=g,w.fromJSON=c,w.list=v,w.comment=e=>new u(e),w.atRule=e=>new p(e),w.decl=e=>new r(e),w.rule=e=>new y(e),w.root=e=>new b(e),w.document=e=>new h(e),w.CssSyntaxError=i,w.Declaration=r,w.Container=s,w.Processor=a,w.Document=h,w.Comment=u,w.Warning=d,w.AtRule=p,w.Result=f,w.Input=m,w.Rule=y,w.Root=b,w.Node=x,o.registerPostcss(w),e.exports=w,w.default=w},7981:(e,t,n)=>{"use strict";let{SourceMapConsumer:i,SourceMapGenerator:r}=n(209),{existsSync:o,readFileSync:s}=n(4777),{dirname:a,join:l}=n(9830);class c{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=a(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}loadFile(e){if(this.root=a(e),o(e))return this.mapFile=e,s(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof i)return r.fromSourceMap(t).toString();if(t instanceof r)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=l(a(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}e.exports=c,c.default=c},1723:(e,t,n)=>{"use strict";let i=n(7647),r=n(1939),o=n(6461),s=n(1025);class a{constructor(e=[]){this.version="8.4.32",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else if("object"!=typeof n||!n.parse&&!n.stringify)throw new Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return 0===this.plugins.length&&void 0===t.parser&&void 0===t.stringifier&&void 0===t.syntax?new i(this,e,t):new r(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}e.exports=a,a.default=a,s.registerProcessor(a),o.registerProcessor(a)},3632:(e,t,n)=>{"use strict";let i=n(1728);class r{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new i(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}e.exports=r,r.default=r},1025:(e,t,n)=>{"use strict";let i,r,o=n(1019);class s extends o{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let i=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of i)e.raws.before=t.raws.before;return i}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new i(new r,this,e).stringify()}}s.registerLazyResult=e=>{i=e},s.registerProcessor=e=>{r=e},e.exports=s,s.default=s,o.registerRoot(s)},1675:(e,t,n)=>{"use strict";let i=n(1019),r=n(4715);class o extends i{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return r.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}e.exports=o,o.default=o,i.registerRule(o)},1062:e=>{"use strict";const t={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class n{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let r=(e.raws.between||"")+(t?";":"");this.builder(n+i+r,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let i=e.parent,r=0;for(;i&&"root"!==i.type;)r+=1,i=i.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<r;e++)n+=t}return n}block(e,t){let n,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let r=e.nodes[i],o=this.raw(r,"before");o&&this.builder(o),this.stringify(r,t!==i||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,n,i){let r;if(i||(i=n),n&&(r=e.raws[n],void 0!==r))return r;let o=e.parent;if("before"===i){if(!o||"root"===o.type&&o.first===e)return"";if(o&&"document"===o.type)return""}if(!o)return t[i];let s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[i])return s.rawCache[i];if("before"===i||"after"===i)return this.beforeAfter(e,i);{let t="raw"+((a=i)[0].toUpperCase()+a.slice(1));this[t]?r=this[t](s,e):s.walk((e=>{if(r=e.raws[n],void 0!==r)return!1}))}var a;return void 0===r&&(r=t[i]),s.rawCache[i]=r,r}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}e.exports=n,n.default=n},7088:(e,t,n)=>{"use strict";let i=n(1062);function r(e,t){new i(t).stringify(e)}e.exports=r,r.default=r},5513:e=>{"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},3852:e=>{"use strict";const t="'".charCodeAt(0),n='"'.charCodeAt(0),i="\\".charCodeAt(0),r="/".charCodeAt(0),o="\n".charCodeAt(0),s=" ".charCodeAt(0),a="\f".charCodeAt(0),l="\t".charCodeAt(0),c="\r".charCodeAt(0),h="[".charCodeAt(0),d="]".charCodeAt(0),u="(".charCodeAt(0),p=")".charCodeAt(0),f="{".charCodeAt(0),m="}".charCodeAt(0),g=";".charCodeAt(0),v="*".charCodeAt(0),y=":".charCodeAt(0),b="@".charCodeAt(0),x=/[\t\n\f\r "#'()/;[\\\]{}]/g,w=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,A=/.[\r\n"'(/\\]/,C=/[\da-f]/i;e.exports=function(e,k={}){let S,P,I,E,_,T,$,M,O,D,L=e.css.valueOf(),N=k.ignoreErrors,B=L.length,R=0,Z=[],F=[];function j(t){throw e.error("Unclosed "+t,R)}return{back:function(e){F.push(e)},endOfFile:function(){return 0===F.length&&R>=B},nextToken:function(e){if(F.length)return F.pop();if(R>=B)return;let k=!!e&&e.ignoreUnclosed;switch(S=L.charCodeAt(R),S){case o:case s:case l:case c:case a:P=R;do{P+=1,S=L.charCodeAt(P)}while(S===s||S===o||S===l||S===c||S===a);D=["space",L.slice(R,P)],R=P-1;break;case h:case d:case f:case m:case y:case g:case p:{let e=String.fromCharCode(S);D=[e,e,R];break}case u:if(M=Z.length?Z.pop()[1]:"",O=L.charCodeAt(R+1),"url"===M&&O!==t&&O!==n&&O!==s&&O!==o&&O!==l&&O!==a&&O!==c){P=R;do{if(T=!1,P=L.indexOf(")",P+1),-1===P){if(N||k){P=R;break}j("bracket")}for($=P;L.charCodeAt($-1)===i;)$-=1,T=!T}while(T);D=["brackets",L.slice(R,P+1),R,P],R=P}else P=L.indexOf(")",R+1),E=L.slice(R,P+1),-1===P||A.test(E)?D=["(","(",R]:(D=["brackets",E,R,P],R=P);break;case t:case n:I=S===t?"'":'"',P=R;do{if(T=!1,P=L.indexOf(I,P+1),-1===P){if(N||k){P=R+1;break}j("string")}for($=P;L.charCodeAt($-1)===i;)$-=1,T=!T}while(T);D=["string",L.slice(R,P+1),R,P],R=P;break;case b:x.lastIndex=R+1,x.test(L),P=0===x.lastIndex?L.length-1:x.lastIndex-2,D=["at-word",L.slice(R,P+1),R,P],R=P;break;case i:for(P=R,_=!0;L.charCodeAt(P+1)===i;)P+=1,_=!_;if(S=L.charCodeAt(P+1),_&&S!==r&&S!==s&&S!==o&&S!==l&&S!==c&&S!==a&&(P+=1,C.test(L.charAt(P)))){for(;C.test(L.charAt(P+1));)P+=1;L.charCodeAt(P+1)===s&&(P+=1)}D=["word",L.slice(R,P+1),R,P],R=P;break;default:S===r&&L.charCodeAt(R+1)===v?(P=L.indexOf("*/",R+2)+1,0===P&&(N||k?P=L.length:j("comment")),D=["comment",L.slice(R,P+1),R,P],R=P):(w.lastIndex=R+1,w.test(L),P=0===w.lastIndex?L.length-1:w.lastIndex-2,D=["word",L.slice(R,P+1),R,P],Z.push(D),R=P)}return R++,D},position:function(){return R}}}},2448:e=>{"use strict";let t={};e.exports=function(e){t[e]||(t[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}},1728:e=>{"use strict";class t{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=t,t.default=t},1036:(e,t,n)=>{const i=n(5106),r=n(2997),{isPlainObject:o}=n(977),s=n(9996),a=n(9430),{parse:l}=n(20),c=["img","audio","video","picture","svg","object","map","iframe","embed"],h=["script","style"];function d(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function u(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const n=[];return d(e,(function(e){t(e)&&n.push(e)})),n}e.exports=m;const f=/^[^\0\t\n\f\r /<=>]+$/;function m(e,t,n){if(null==e)return"";"number"==typeof e&&(e=e.toString());let v="",y="";function b(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=v.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){T.length&&(T[T.length-1].text+=n.text)},this.updateParentNodeMediaChildren=function(){T.length&&c.includes(this.tag)&&T[T.length-1].mediaChildren.push(this.tag)}}(t=Object.assign({},m.defaults,t)).parser=Object.assign({},g,t.parser);const x=function(e){return!1===t.allowedTags||(t.allowedTags||[]).indexOf(e)>-1};h.forEach((function(e){x(e)&&!t.allowVulnerableTags&&console.warn(`\n\n⚠️ Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const w=t.nonTextTags||["script","style","textarea","option"];let A,C;t.allowedAttributes&&(A={},C={},d(t.allowedAttributes,(function(e,t){A[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(r(e).replace(/\\\*/g,".*")):A[t].push(e)})),n.length&&(C[t]=new RegExp("^("+n.join("|")+")$"))})));const k={},S={},P={};d(t.allowedClasses,(function(e,t){if(A&&(u(A,t)||(A[t]=[]),A[t].push("class")),k[t]=e,Array.isArray(e)){const n=[];k[t]=[],P[t]=[],e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(r(e).replace(/\\\*/g,".*")):e instanceof RegExp?P[t].push(e):k[t].push(e)})),n.length&&(S[t]=new RegExp("^("+n.join("|")+")$"))}}));const I={};let E,_,T,$,M,O,D;d(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=m.simpleTransform(e)),"*"===t?E=n:I[t]=n}));let L=!1;B();const N=new i.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&B(),O)return void D++;const i=new b(e,n);T.push(i);let r=!1;const c=!!i.text;let h;if(u(I,e)&&(h=I[e](e,n),i.attribs=n=h.attribs,void 0!==h.text&&(i.innerText=h.text),e!==h.tagName&&(i.name=e=h.tagName,M[_]=h.tagName)),E&&(h=E(e,n),i.attribs=n=h.attribs,e!==h.tagName&&(i.name=e=h.tagName,M[_]=h.tagName)),(!x(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(u(e,t))return!1;return!0}($)||null!=t.nestingLimit&&_>=t.nestingLimit)&&(r=!0,$[_]=!0,"discard"===t.disallowedTagsMode&&-1!==w.indexOf(e)&&(O=!0,D=1),$[_]=!0),_++,r){if("discard"===t.disallowedTagsMode)return;y=v,v=""}v+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(i.innerText=""),(!A||u(A,e)||A["*"])&&d(n,(function(n,r){if(!f.test(r))return void delete i.attribs[r];if(""===n&&!t.allowedEmptyAttributes.includes(r)&&(t.nonBooleanAttributes.includes(r)||t.nonBooleanAttributes.includes("*")))return void delete i.attribs[r];let c=!1;if(!A||u(A,e)&&-1!==A[e].indexOf(r)||A["*"]&&-1!==A["*"].indexOf(r)||u(C,e)&&C[e].test(r)||C["*"]&&C["*"].test(r))c=!0;else if(A&&A[e])for(const t of A[e])if(o(t)&&t.name&&t.name===r){c=!0;let e="";if(!0===t.multiple){const i=n.split(" ");for(const n of i)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(r)&&Z(e,n))return void delete i.attribs[r];if("script"===e&&"src"===r){let e=!0;try{const i=F(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===i.url.hostname})),r=(t.allowedScriptDomains||[]).find((function(e){return i.url.hostname===e||i.url.hostname.endsWith(`.${e}`)}));e=n||r}}catch(t){e=!1}if(!e)return void delete i.attribs[r]}if("iframe"===e&&"src"===r){let e=!0;try{const i=F(n);if(i.isRelativeUrl)e=u(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===i.url.hostname})),r=(t.allowedIframeDomains||[]).find((function(e){return i.url.hostname===e||i.url.hostname.endsWith(`.${e}`)}));e=n||r}}catch(t){e=!1}if(!e)return void delete i.attribs[r]}if("srcset"===r)try{let e=a(n);if(e.forEach((function(e){Z("srcset",e.url)&&(e.evil=!0)})),e=p(e,(function(e){return!e.evil})),!e.length)return void delete i.attribs[r];n=p(e,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),i.attribs[r]=n}catch(e){return void delete i.attribs[r]}if("class"===r){const t=k[e],o=k["*"],a=S[e],l=P[e],c=[a,S["*"]].concat(l).filter((function(e){return e}));if(!(h=n,d=t&&o?s(t,o):t||o,m=c,n=d?(h=h.split(/\s+/)).filter((function(e){return-1!==d.indexOf(e)||m.some((function(t){return t.test(e)}))})).join(" "):h).length)return void delete i.attribs[r]}if("style"===r)if(t.parseStyleAttributes)try{if(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(function(e,t){if(!t)return e;const n=e.nodes[0];let i;return i=t[n.selector]&&t["*"]?s(t[n.selector],t["*"]):t[n.selector]||t["*"],i&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){return u(e,n.prop)&&e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n),t}}(i),[])),e}(l(e+" {"+n+"}",{map:!1}),t.allowedStyles)),0===n.length)return void delete i.attribs[r]}catch(t){return"undefined"!=typeof window&&console.warn('Failed to parse "'+e+" {"+n+"}\", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547"),void delete i.attribs[r]}else if(t.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.");v+=" "+r,n&&n.length?v+='="'+R(n,!0)+'"':t.allowedEmptyAttributes.includes(r)&&(v+='=""')}else delete i.attribs[r];var h,d,m})),-1!==t.selfClosing.indexOf(e)?v+=" />":(v+=">",!i.innerText||c||t.textFilter||(v+=R(i.innerText),L=!0)),r&&(v=y+R(v),y="")},ontext:function(e){if(O)return;const n=T[T.length-1];let i;if(n&&(i=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==i&&"style"!==i){const n=R(e,!1);t.textFilter&&!L?v+=t.textFilter(n,i):L||(v+=n)}else v+=e;T.length&&(T[T.length-1].text+=e)},onclosetag:function(e,n){if(O){if(D--,D)return;O=!1}const i=T.pop();if(!i)return;if(i.tag!==e)return void T.push(i);O=!!t.enforceHtmlBoundary&&"html"===e,_--;const r=$[_];if(r){if(delete $[_],"discard"===t.disallowedTagsMode)return void i.updateParentNodeText();y=v,v=""}M[_]&&(e=M[_],delete M[_]),t.exclusiveFilter&&t.exclusiveFilter(i)?v=v.substr(0,i.tagPosition):(i.updateParentNodeMediaChildren(),i.updateParentNodeText(),-1!==t.selfClosing.indexOf(e)||n&&!x(e)&&["escape","recursiveEscape"].indexOf(t.disallowedTagsMode)>=0?r&&(v=y,y=""):(v+="</"+e+">",r&&(v=y+R(v),y=""),L=!1))}},t.parser);return N.write(e),N.end(),v;function B(){v="",_=0,T=[],$={},M={},O=!1,D=0}function R(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function Z(e,n){for(n=n.replace(/[\x00-\x20]+/g,"");;){const e=n.indexOf("\x3c!--");if(-1===e)break;const t=n.indexOf("--\x3e",e+4);if(-1===t)break;n=n.substring(0,e)+n.substring(t+3)}const i=n.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!i)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const r=i[1].toLowerCase();return u(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(r):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(r)}function F(e){if((e=e.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let t="relative://relative-site";for(let e=0;e<100;e++)t+=`/${e}`;const n=new URL(e,t);return{isRelativeUrl:n&&"relative-site"===n.hostname&&"relative:"===n.protocol,url:n}}}const g={decodeEntities:!0};m.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},m.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(i,r){let o;if(n)for(o in t)r[o]=t[o];else r=t;return{tagName:e,attribs:r}}}},2734:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(e){return[e.toLowerCase(),e]}))),t.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(e){return[e.toLowerCase(),e]})))},8427:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var a=s(n(9960)),l=n(7772),c=n(2734),h=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function d(e){return e.replace(/"/g,"&quot;")}var u=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function p(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),i="",r=0;r<n.length;r++)i+=f(n[r],t);return i}function f(e,t){switch(e.type){case a.Root:return p(e.children,t);case a.Doctype:case a.Directive:return"<".concat(e.data,">");case a.Comment:return"\x3c!--".concat(e.data,"--\x3e");case a.CDATA:return function(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}(e);case a.Script:case a.Style:case a.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=c.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&m.has(e.parent.name)&&(t=i(i({},t),{xmlMode:!1}))),!t.xmlMode&&g.has(e.name)&&(t=i(i({},t),{xmlMode:"foreign"}));var r="<".concat(e.name),o=function(e,t){var n;if(e){var i=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?d:t.xmlMode||"utf8"!==t.encodeEntities?l.encodeXML:l.escapeAttribute;return Object.keys(e).map((function(n){var r,o,s=null!==(r=e[n])&&void 0!==r?r:"";return"foreign"===t.xmlMode&&(n=null!==(o=c.attributeNames.get(n))&&void 0!==o?o:n),t.emptyAttrs||t.xmlMode||""!==s?"".concat(n,'="').concat(i(s),'"'):n})).join(" ")}}(e.attribs,t);return o&&(r+=" ".concat(o)),0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&u.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=p(e.children,t)),!t.xmlMode&&u.has(e.name)||(r+="</".concat(e.name,">"))),r}(e,t);case a.Text:return function(e,t){var n,i=e.data||"";return!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&h.has(e.parent.name)||(i=t.xmlMode||"utf8"!==t.encodeEntities?(0,l.encodeXML)(i):(0,l.escapeText)(i)),i}(e,t)}}t.render=p,t.default=p;var m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),g=new Set(["svg","math"])},1142:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(9960),s=n(6218);r(n(6218),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,i=new s.Element(e,t,void 0,n);this.addNode(i),this.tagStack.push(i)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},6218:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(9960),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),A(this,e)},e}();t.Node=a;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(l);t.Text=c;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(l);t.Comment=h;var d=function(e){function t(t,n){var i=e.call(this,n)||this;return i.name=t,i.type=s.ElementType.Directive,i}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(l);t.ProcessingInstruction=d;var u=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(u);t.CDATA=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(u);t.Document=f;var m=function(e){function t(t,n,i,r){void 0===i&&(i=[]),void 0===r&&(r="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var o=e.call(this,i)||this;return o.name=t,o.attribs=n,o.type=r,o}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,i;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(i=e["x-attribsPrefix"])||void 0===i?void 0:i[t]}}))},enumerable:!1,configurable:!0}),t}(u);function g(e){return(0,s.isTag)(e)}function v(e){return e.type===s.ElementType.CDATA}function y(e){return e.type===s.ElementType.Text}function b(e){return e.type===s.ElementType.Comment}function x(e){return e.type===s.ElementType.Directive}function w(e){return e.type===s.ElementType.Root}function A(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new c(e.data);else if(b(e))n=new h(e.data);else if(g(e)){var i=t?C(e.children):[],r=new m(e.name,o({},e.attribs),i);i.forEach((function(e){return e.parent=r})),null!=e.namespace&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=o({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=o({},e["x-attribsPrefix"])),n=r}else if(v(e)){i=t?C(e.children):[];var s=new p(i);i.forEach((function(e){return e.parent=s})),n=s}else if(w(e)){i=t?C(e.children):[];var a=new f(i);i.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!x(e))throw new Error("Not implemented yet: ".concat(e.type));var l=new d(e.name,e.data);null!=e["x-name"]&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function C(e){for(var t=e.map((function(e){return A(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=g,t.isCDATA=v,t.isText=y,t.isComment=b,t.isDirective=x,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=A},2903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var i=n(5283),r=n(9473);t.getFeed=function(e){var t=l(d,e);return t?"feed"===t.name?function(e){var t,n=e.children,i={type:"atom",items:(0,r.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,i={media:a(n)};h(i,"id","id",n),h(i,"title","title",n);var r=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;r&&(i.link=r);var o=c("summary",n)||c("content",n);o&&(i.description=o);var s=c("updated",n);return s&&(i.pubDate=new Date(s)),i}))};h(i,"id","id",n),h(i,"title","title",n);var o=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;o&&(i.link=o),h(i,"description","subtitle",n);var s=c("updated",n);return s&&(i.updated=new Date(s)),h(i,"author","email",n,!0),i}(t):function(e){var t,n,i=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],o={type:e.name.substr(0,3),id:"",items:(0,r.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:a(t)};h(n,"id","guid",t),h(n,"title","title",t),h(n,"link","link",t),h(n,"description","description",t);var i=c("pubDate",t)||c("dc:date",t);return i&&(n.pubDate=new Date(i)),n}))};h(o,"title","title",i),h(o,"link","link",i),h(o,"description","description",i);var s=c("lastBuildDate",i);return s&&(o.updated=new Date(s)),h(o,"author","managingEditor",i,!0),o}(t):null};var o=["url","type","lang"],s=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function a(e){return(0,r.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},i=0,r=o;i<r.length;i++)t[c=r[i]]&&(n[c]=t[c]);for(var a=0,l=s;a<l.length;a++){var c;t[c=l[a]]&&(n[c]=parseInt(t[c],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,r.getElementsByTagName)(e,t,!0,1)[0]}function c(e,t,n){return void 0===n&&(n=!1),(0,i.textContent)((0,r.getElementsByTagName)(e,t,n,1)).trim()}function h(e,t,n,i,r){void 0===r&&(r=!1);var o=c(n,i,r);o&&(e[t]=o)}function d(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},7701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var i,r=n(1142);function o(e,t){var n=[],o=[];if(e===t)return 0;for(var s=(0,r.hasChildren)(e)?e:e.parent;s;)n.unshift(s),s=s.parent;for(s=(0,r.hasChildren)(t)?t:t.parent;s;)o.unshift(s),s=s.parent;for(var a=Math.min(n.length,o.length),l=0;l<a&&n[l]===o[l];)l++;if(0===l)return i.DISCONNECTED;var c=n[l-1],h=c.children,d=n[l],u=o[l];return h.indexOf(d)>h.indexOf(u)?c===t?i.FOLLOWING|i.CONTAINED_BY:i.FOLLOWING:c===e?i.PRECEDING|i.CONTAINS:i.PRECEDING}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var i=n.parent;i;i=i.parent)if(e.includes(i)){e.splice(t,1);break}}return e},function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(i=t.DocumentPosition||(t.DocumentPosition={})),t.compareDocumentPosition=o,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=o(e,t);return n&i.PRECEDING?-1:n&i.FOLLOWING?1:0})),e}},7241:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(n(5283),t),r(n(7972),t),r(n(4541),t),r(n(2764),t),r(n(9473),t),r(n(7701),t),r(n(2903),t);var o=n(1142);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},9473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var i=n(1142),r=n(2764),o={tag_name:function(e){return"function"==typeof e?function(t){return(0,i.isTag)(t)&&e(t.name)}:"*"===e?i.isTag:function(t){return(0,i.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,i.isText)(t)&&e(t.data)}:function(t){return(0,i.isText)(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(n){return(0,i.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,i.isTag)(n)&&n.attribs[e]===t}}function a(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(o,t)?o[t](n):s(t,n)}));return 0===t.length?null:t.reduce(a)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,i){void 0===i&&(i=1/0);var o=l(e);return o?(0,r.filter)(o,t,n,i):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,r.findOne)(s("id",e),t,n)},t.getElementsByTagName=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),(0,r.filter)(o.tag_name(e),t,n,i)},t.getElementsByTagType=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),(0,r.filter)(o.tag_type(e),t,n,i)}},4541:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var i=t.next=e.next;i&&(i.prev=t);var r=t.parent=e.parent;if(r){var o=r.children;o[o.lastIndexOf(e)]=t,e.parent=null}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var i=e.children[e.children.length-2];i.next=t,t.prev=i}else t.prev=null},t.append=function(e,t){n(t);var i=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=i,r){if(r.prev=t,i){var o=i.children;o.splice(o.lastIndexOf(r),0,t)}}else i&&i.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var i=e.children[1];i.prev=t,t.next=i}else t.next=null},t.prepend=function(e,t){n(t);var i=e.parent;if(i){var r=i.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=i,t.prev=e.prev,t.next=e,e.prev=t}},2764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var i=n(1142);function r(e,t,n,r){for(var o=[],s=[t],a=[0];;)if(a[0]>=s[0].length){if(1===a.length)return o;s.shift(),a.shift()}else{var l=s[0][a[0]++];if(e(l)&&(o.push(l),--r<=0))return o;n&&(0,i.hasChildren)(l)&&l.children.length>0&&(a.unshift(0),s.unshift(l.children))}}t.filter=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),r(e,Array.isArray(t)?t:[t],n,i)},t.find=r,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,r){void 0===r&&(r=!0);for(var o=null,s=0;s<n.length&&!o;s++){var a=n[s];(0,i.isTag)(a)&&(t(a)?o=a:r&&a.children.length>0&&(o=e(t,a.children,!0)))}return o},t.existsOne=function e(t,n){return n.some((function(n){return(0,i.isTag)(n)&&(t(n)||e(t,n.children))}))},t.findAll=function(e,t){for(var n=[],r=[t],o=[0];;)if(o[0]>=r[0].length){if(1===r.length)return n;r.shift(),o.shift()}else{var s=r[0][o[0]++];(0,i.isTag)(s)&&(e(s)&&n.push(s),s.children.length>0&&(o.unshift(0),r.unshift(s.children)))}}},5283:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var r=n(1142),o=i(n(8427)),s=n(9960);function a(e,t){return(0,o.default)(e,t)}t.getOuterHTML=a,t.getInnerHTML=function(e,t){return(0,r.hasChildren)(e)?e.children.map((function(e){return a(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,r.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,r.isCDATA)(t)?e(t.children):(0,r.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,r.hasChildren)(t)&&!(0,r.isComment)(t)?e(t.children):(0,r.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,r.hasChildren)(t)&&(t.type===s.ElementType.Tag||(0,r.isCDATA)(t))?e(t.children):(0,r.isText)(t)?t.data:""}},7972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var i=n(1142);function r(e){return(0,i.hasChildren)(e)?e.children:[]}function o(e){return e.parent||null}t.getChildren=r,t.getParent=o,t.getSiblings=function(e){var t=o(e);if(null!=t)return r(t);for(var n=[e],i=e.prev,s=e.next;null!=i;)n.unshift(i),i=i.prev;for(;null!=s;)n.push(s),s=s.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,i.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,i.isTag)(t);)t=t.prev;return t}},722:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var a=s(n(39));t.htmlDecodeTree=a.default;var l=s(n(5518));t.xmlDecodeTree=l.default;var c=o(n(2913));t.decodeCodePoint=c.default;var h,d,u,p,f=n(2913);function m(e){return e>=h.ZERO&&e<=h.NINE}Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(h||(h={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(d=t.BinTrieFlags||(t.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(u||(u={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(p=t.DecodingMode||(t.DecodingMode={}));var g=function(){function e(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=u.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=p.Strict}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=u.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},e.prototype.write=function(e,t){switch(this.state){case u.EntityStart:return e.charCodeAt(t)===h.NUM?(this.state=u.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=u.NamedEntity,this.stateNamedEntity(e,t));case u.NumericStart:return this.stateNumericStart(e,t);case u.NumericDecimal:return this.stateNumericDecimal(e,t);case u.NumericHex:return this.stateNumericHex(e,t);case u.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===h.LOWER_X?(this.state=u.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=u.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,n,i){if(t!==n){var r=n-t;this.result=this.result*Math.pow(i,r)+parseInt(e.substr(t,r),i),this.consumed+=r}},e.prototype.stateNumericHex=function(e,t){for(var n,i=t;t<e.length;){var r=e.charCodeAt(t);if(!(m(r)||(n=r,n>=h.UPPER_A&&n<=h.UPPER_F||n>=h.LOWER_A&&n<=h.LOWER_F)))return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,i,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var n=t;t<e.length;){var i=e.charCodeAt(t);if(!m(i))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(i,2);t+=1}return this.addToNumericResult(e,n,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===h.SEMI)this.consumed+=1;else if(this.decodeMode===p.Strict)return 0;return this.emitCodePoint((0,c.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==h.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var n=this.decodeTree,i=n[this.treeIndex],r=(i&d.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var o=e.charCodeAt(t);if(this.treeIndex=y(n,i,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===p.Attribute&&(0===r||((s=o)===h.EQUALS||function(e){return e>=h.UPPER_A&&e<=h.UPPER_Z||e>=h.LOWER_A&&e<=h.LOWER_Z||m(e)}(s)))?0:this.emitNotTerminatedNamedEntity();if(0!=(r=((i=n[this.treeIndex])&d.VALUE_LENGTH)>>14)){if(o===h.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==p.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var s;return-1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,n=(this.decodeTree[t]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,n){var i=this.decodeTree;return this.emitCodePoint(1===t?i[e]&~d.VALUE_LENGTH:i[e+1],n),3===t&&this.emitCodePoint(i[e+2],n),n},e.prototype.end=function(){var e;switch(this.state){case u.NamedEntity:return 0===this.result||this.decodeMode===p.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case u.NumericDecimal:return this.emitNumericEntity(0,2);case u.NumericHex:return this.emitNumericEntity(0,3);case u.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case u.EntityStart:return 0}},e}();function v(e){var t="",n=new g(e,(function(e){return t+=(0,c.fromCodePoint)(e)}));return function(e,i){for(var r=0,o=0;(o=e.indexOf("&",o))>=0;){t+=e.slice(r,o),n.startEntity(i);var s=n.write(e,o+1);if(s<0){r=o+n.end();break}r=o+s,o=0===s?r+1:r}var a=t+e.slice(r);return t="",a}}function y(e,t,n,i){var r=(t&d.BRANCH_LENGTH)>>7,o=t&d.JUMP_TABLE;if(0===r)return 0!==o&&i===o?n:-1;if(o){var s=i-o;return s<0||s>=r?-1:e[n+s]-1}for(var a=n,l=a+r-1;a<=l;){var c=a+l>>>1,h=e[c];if(h<i)a=c+1;else{if(!(h>i))return e[c+r];l=c-1}}return-1}t.EntityDecoder=g,t.determineBranch=y;var b=v(a.default),x=v(l.default);t.decodeHTML=function(e,t){return void 0===t&&(t=p.Legacy),b(e,t)},t.decodeHTMLAttribute=function(e){return b(e,p.Attribute)},t.decodeHTMLStrict=function(e){return b(e,p.Strict)},t.decodeXML=function(e){return x(e,p.Strict)}},2913:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var i=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function r(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=i.get(e))&&void 0!==t?t:e}t.fromCodePoint=null!==(n=String.fromCodePoint)&&void 0!==n?n:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)},t.replaceCodePoint=r,t.default=function(e){return(0,t.fromCodePoint)(r(e))}},571:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeNonAsciiHTML=t.encodeHTML=void 0;var r=i(n(7048)),o=n(7084),s=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(e,t){for(var n,i="",s=0;null!==(n=e.exec(t));){var a=n.index;i+=t.substring(s,a);var l=t.charCodeAt(a),c=r.default.get(l);if("object"==typeof c){if(a+1<t.length){var h=t.charCodeAt(a+1),d="number"==typeof c.n?c.n===h?c.o:void 0:c.n.get(h);if(void 0!==d){i+=d,s=e.lastIndex+=1;continue}}c=c.v}if(void 0!==c)i+=c,s=a+1;else{var u=(0,o.getCodePoint)(t,a);i+="&#x".concat(u.toString(16),";"),s=e.lastIndex+=Number(u!==l)}}return i+t.substr(s)}t.encodeHTML=function(e){return a(s,e)},t.encodeNonAsciiHTML=function(e){return a(o.xmlReplacer,e)}},7084:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var n=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function i(e){for(var i,r="",o=0;null!==(i=t.xmlReplacer.exec(e));){var s=i.index,a=e.charCodeAt(s),l=n.get(a);void 0!==l?(r+=e.substring(o,s)+l,o=s+1):(r+="".concat(e.substring(o,s),"&#x").concat((0,t.getCodePoint)(e,s).toString(16),";"),o=t.xmlReplacer.lastIndex+=Number(55296==(64512&a)))}return r+e.substr(o)}function r(e,t){return function(n){for(var i,r=0,o="";i=e.exec(n);)r!==i.index&&(o+=n.substring(r,i.index)),o+=t.get(i[0].charCodeAt(0)),r=i.index+1;return o+n.substring(r)}}t.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},t.encodeXML=i,t.escape=i,t.escapeUTF8=r(/[&<>'"]/g,n),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},39:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map((function(e){return e.charCodeAt(0)})))},5518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map((function(e){return e.charCodeAt(0)})))},7048:(e,t)=>{"use strict";function n(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},7772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var i,r,o=n(722),s=n(571),a=n(7084);function l(e,t){if(void 0===t&&(t=i.XML),("number"==typeof t?t:t.level)===i.HTML){var n="object"==typeof t?t.mode:void 0;return(0,o.decodeHTML)(e,n)}return(0,o.decodeXML)(e)}!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(i=t.EntityLevel||(t.EntityLevel={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(r=t.EncodingMode||(t.EncodingMode={})),t.decode=l,t.decodeStrict=function(e,t){var n;void 0===t&&(t=i.XML);var r="number"==typeof t?{level:t}:t;return null!==(n=r.mode)&&void 0!==n||(r.mode=o.DecodingMode.Strict),l(e,r)},t.encode=function(e,t){void 0===t&&(t=i.XML);var n="number"==typeof t?{level:t}:t;return n.mode===r.UTF8?(0,a.escapeUTF8)(e):n.mode===r.Attribute?(0,a.escapeAttribute)(e):n.mode===r.Text?(0,a.escapeText)(e):n.level===i.HTML?n.mode===r.ASCII?(0,s.encodeNonAsciiHTML)(e):(0,s.encodeHTML)(e):(0,a.encodeXML)(e)};var c=n(7084);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var h=n(571);Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return h.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return h.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return h.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return h.encodeHTML}});var d=n(722);Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})},2997:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},6666:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var s=o(n(34)),a=n(722),l=new Set(["input","option","optgroup","select","button","datalist","textarea"]),c=new Set(["p"]),h=new Set(["thead","tbody"]),d=new Set(["dd","dt"]),u=new Set(["rt","rp"]),p=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",c],["h1",c],["h2",c],["h3",c],["h4",c],["h5",c],["h6",c],["select",l],["input",l],["output",l],["button",l],["datalist",l],["textarea",l],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",d],["dt",d],["address",c],["article",c],["aside",c],["blockquote",c],["details",c],["div",c],["dl",c],["fieldset",c],["figcaption",c],["figure",c],["footer",c],["form",c],["header",c],["hr",c],["main",c],["nav",c],["ol",c],["pre",c],["section",c],["table",c],["ul",c],["rt",u],["rp",u],["tbody",h],["tfoot",h]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),m=new Set(["math","svg"]),g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),v=/\s|\//,y=function(){function e(e,t){var n,i,r,o,a;void 0===t&&(t={}),this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(i=t.lowerCaseAttributeNames)&&void 0!==i?i:!t.xmlMode,this.tokenizer=new(null!==(r=t.Tokenizer)&&void 0!==r?r:s.default)(this.options,this),null===(a=(o=this.cbs).onparserinit)||void 0===a||a.call(o,this)}return e.prototype.ontext=function(e,t){var n,i,r=this.getSlice(e,t);this.endIndex=t-1,null===(i=(n=this.cbs).ontext)||void 0===i||i.call(n,r),this.startIndex=t},e.prototype.ontextentity=function(e){var t,n,i=this.tokenizer.getSectionStart();this.endIndex=i-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,(0,a.fromCodePoint)(e)),this.startIndex=i},e.prototype.isVoidElement=function(e){return!this.options.xmlMode&&f.has(e)},e.prototype.onopentagname=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(e){var t,n,i,r;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&p.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var s=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,s,!0)}this.isVoidElement(e)||(this.stack.push(e),m.has(e)?this.foreignContext.push(!0):g.has(e)&&this.foreignContext.push(!1)),null===(r=(i=this.cbs).onopentagname)||void 0===r||r.call(i,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},e.prototype.onclosetag=function(e,t){var n,i,r,o,s,a;this.endIndex=t;var l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(m.has(l)||g.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))this.options.xmlMode||"br"!==l||(null===(i=(n=this.cbs).onopentagname)||void 0===i||i.call(n,"br"),null===(o=(r=this.cbs).onopentag)||void 0===o||o.call(r,"br",{},!0),null===(a=(s=this.cbs).onclosetag)||void 0===a||a.call(s,"br",!1));else{var c=this.stack.lastIndexOf(l);if(-1!==c)if(this.cbs.onclosetag)for(var h=this.stack.length-c;h--;)this.cbs.onclosetag(this.stack.pop(),0!==h);else this.stack.length=c;else this.options.xmlMode||"p"!==l||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},e.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},e.prototype.closeCurrentTag=function(e){var t,n,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,i,!e),this.stack.pop())},e.prototype.onattribname=function(e,t){this.startIndex=e;var n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},e.prototype.onattribentity=function(e){this.attribvalue+=(0,a.fromCodePoint)(e)},e.prototype.onattribend=function(e,t){var n,i;this.endIndex=t,null===(i=(n=this.cbs).onattribute)||void 0===i||i.call(n,this.attribname,this.attribvalue,e===s.QuoteType.Double?'"':e===s.QuoteType.Single?"'":e===s.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(v),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(n))}this.startIndex=t+1},e.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(n))}this.startIndex=t+1},e.prototype.oncomment=function(e,t,n){var i,r,o,s;this.endIndex=t,null===(r=(i=this.cbs).oncomment)||void 0===r||r.call(i,this.getSlice(e,t-n)),null===(s=(o=this.cbs).oncommentend)||void 0===s||s.call(o),this.startIndex=t+1},e.prototype.oncdata=function(e,t,n){var i,r,o,s,a,l,c,h,d,u;this.endIndex=t;var p=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(r=(i=this.cbs).oncdatastart)||void 0===r||r.call(i),null===(s=(o=this.cbs).ontext)||void 0===s||s.call(o,p),null===(l=(a=this.cbs).oncdataend)||void 0===l||l.call(a)):(null===(h=(c=this.cbs).oncomment)||void 0===h||h.call(c,"[CDATA[".concat(p,"]]")),null===(u=(d=this.cbs).oncommentend)||void 0===u||u.call(d)),this.startIndex=t+1},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,i;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(i=(n=this.cbs).onparserinit)||void 0===i||i.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))},e.prototype.end=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=y},34:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var i,r,o,s=n(722);function a(e){return e===i.Space||e===i.NewLine||e===i.Tab||e===i.FormFeed||e===i.CarriageReturn}function l(e){return e===i.Slash||e===i.Gt||a(e)}function c(e){return e>=i.Zero&&e<=i.Nine}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(i||(i={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(r||(r={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(o=t.QuoteType||(t.QuoteType={}));var h={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function e(e,t){var n=e.xmlMode,i=void 0!==n&&n,o=e.decodeEntities,a=void 0===o||o;this.cbs=t,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=a,this.entityTrie=i?s.xmlDecodeTree:s.htmlDecodeTree}return e.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},e.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},e.prototype.end=function(){this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},e.prototype.getIndex=function(){return this.index},e.prototype.getSectionStart=function(){return this.sectionStart},e.prototype.stateText=function(e){e===i.Lt||!this.decodeEntities&&this.fastForwardTo(i.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===i.Amp&&(this.state=r.BeforeEntity)},e.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length;if(t?l(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(e)},e.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===i.Gt||a(e)){var t=this.index-this.currentSequence.length;if(this.sectionStart<t){var n=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=n}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===h.TitleEnd?this.decodeEntities&&e===i.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(i.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===i.Lt)},e.prototype.stateCDATASequence=function(e){e===h.Cdata[this.sequenceIndex]?++this.sequenceIndex===h.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=h.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(e))},e.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},e.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===h.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},e.prototype.isTagStartChar=function(e){return this.xmlMode?!l(e):function(e){return e>=i.LowerA&&e<=i.LowerZ||e>=i.UpperA&&e<=i.UpperZ}(e)},e.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=r.SpecialStartSequence},e.prototype.stateBeforeTagName=function(e){if(e===i.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===i.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var t=32|e;this.sectionStart=this.index,this.xmlMode||t!==h.TitleEnd[2]?this.state=this.xmlMode||t!==h.ScriptEnd[2]?r.InTagName:r.BeforeSpecialS:this.startSpecial(h.TitleEnd,3)}else e===i.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(e))},e.prototype.stateInTagName=function(e){l(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateBeforeClosingTagName=function(e){a(e)||(e===i.Gt?this.state=r.Text:(this.state=this.isTagStartChar(e)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},e.prototype.stateInClosingTagName=function(e){(e===i.Gt||a(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(e))},e.prototype.stateAfterClosingTagName=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeAttributeName=function(e){e===i.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===i.Slash?this.state=r.InSelfClosingTag:a(e)||(this.state=r.InAttributeName,this.sectionStart=this.index)},e.prototype.stateInSelfClosingTag=function(e){e===i.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(e)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateInAttributeName=function(e){(e===i.Eq||l(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(e))},e.prototype.stateAfterAttributeName=function(e){e===i.Eq?this.state=r.BeforeAttributeValue:e===i.Slash||e===i.Gt?(this.cbs.onattribend(o.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e)):a(e)||(this.cbs.onattribend(o.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},e.prototype.stateBeforeAttributeValue=function(e){e===i.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):e===i.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):a(e)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},e.prototype.handleInAttributeValue=function(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===i.DoubleQuote?o.Double:o.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&e===i.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,i.DoubleQuote)},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,i.SingleQuote)},e.prototype.stateInAttributeValueNoQuotes=function(e){a(e)||e===i.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===i.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},e.prototype.stateBeforeDeclaration=function(e){e===i.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=e===i.Dash?r.BeforeComment:r.InDeclaration},e.prototype.stateInDeclaration=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateInProcessingInstruction=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeComment=function(e){e===i.Dash?(this.state=r.InCommentLike,this.currentSequence=h.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},e.prototype.stateInSpecialComment=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeSpecialS=function(e){var t=32|e;t===h.ScriptEnd[3]?this.startSpecial(h.ScriptEnd,4):t===h.StyleEnd[3]?this.startSpecial(h.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(e))},e.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===i.Number?this.state=r.BeforeNumericEntity:e===i.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(e))},e.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,s.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var t=this.trieCurrent&s.BinTrieFlags.VALUE_LENGTH;if(t){var n=(t>>14)-1;if(this.allowLegacyEntity()||e===i.Semi){var r=this.index-this.entityExcess+1;r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,0===n&&this.emitNamedEntity()}else this.trieIndex+=n}},e.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&s.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~s.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},e.prototype.stateBeforeNumericEntity=function(e){(32|e)===i.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(e))},e.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1;t+2+Number(this.state===r.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,s.replaceCodePoint)(this.entityResult))),this.state=this.baseState},e.prototype.stateInNumericEntity=function(e){e===i.Semi?this.emitNumericEntity(!0):c(e)?(this.entityResult=10*this.entityResult+(e-i.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.stateInHexEntity=function(e){e===i.Semi?this.emitNumericEntity(!0):c(e)?(this.entityResult=16*this.entityResult+(e-i.Zero),this.entityExcess++):function(e){return e>=i.UpperA&&e<=i.UpperF||e>=i.LowerA&&e<=i.LowerF}(e)?(this.entityResult=16*this.entityResult+((32|e)-i.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},e.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==r.InAttributeValueDq&&this.state!==r.InAttributeValueSq&&this.state!==r.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},e.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},e.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:this.stateText(e);break;case r.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case r.InSpecialTag:this.stateInSpecialTag(e);break;case r.CDATASequence:this.stateCDATASequence(e);break;case r.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case r.InAttributeName:this.stateInAttributeName(e);break;case r.InCommentLike:this.stateInCommentLike(e);break;case r.InSpecialComment:this.stateInSpecialComment(e);break;case r.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case r.InTagName:this.stateInTagName(e);break;case r.InClosingTagName:this.stateInClosingTagName(e);break;case r.BeforeTagName:this.stateBeforeTagName(e);break;case r.AfterAttributeName:this.stateAfterAttributeName(e);break;case r.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case r.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case r.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case r.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case r.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case r.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case r.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case r.InDeclaration:this.stateInDeclaration(e);break;case r.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case r.BeforeComment:this.stateBeforeComment(e);break;case r.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case r.InNamedEntity:this.stateInNamedEntity(e);break;case r.BeforeEntity:this.stateBeforeEntity(e);break;case r.InHexEntity:this.stateInHexEntity(e);break;case r.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()},e.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===h.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()||this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},e.prototype.emitPartial=function(e,t){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},e.prototype.emitCodePoint=function(e){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},e}();t.default=d},5106:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var a=n(6666),l=n(6666);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var c=n(1142),h=n(1142);function d(e,t){var n=new c.DomHandler(void 0,t);return new a.Parser(n,t).end(e),n.root}function u(e,t){return d(e,t).children}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return h.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return h.DomHandler}}),t.parseDocument=d,t.parseDOM=u,t.createDomStream=function(e,t,n){var i=new c.DomHandler(e,t,n);return new a.Parser(i,t)};var p=n(34);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return s(p).default}}),t.ElementType=o(n(9960));var f=n(7241),m=n(7241);Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var g={xmlMode:!0};t.parseFeed=function(e,t){return void 0===t&&(t=g),(0,f.getFeed)(u(e,t))},t.DomUtils=o(n(7241))},977:(e,t)=>{"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,i;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(i=t.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))}},4670:(e,t,n)=>{"use strict";e.exports=n(5607)},9829:(e,t,n)=>{"use strict";var i,r,o,s=n(8946),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){o=!1}function c(e){if(e){if(e!==i){if(e.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+t.join(", "));i=e,l()}}else i!==a&&(i=a,l())}function h(){return o||(o=function(){i||c(a);for(var e,t=i.split(""),n=[],r=s.nextValue();t.length>0;)r=s.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return i||a},characters:function(e){return c(e),i},seed:function(e){s.seed(e),r!==e&&(l(),r=e)},lookup:function(e){return h()[e]},shuffled:h}},480:(e,t,n)=>{"use strict";var i,r,o=n(8416);n(9829),e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===r?i++:(i=0,r=n),t+=o(7),t+=o(e),i>0&&(t+=o(i)),t+o(n)}},8416:(e,t,n)=>{"use strict";var i=n(9829),r=n(3766),o=n(296);e.exports=function(e){for(var t,n=0,s="";!t;)s+=o(r,i.get(),1),t=e<Math.pow(16,n+1),n++;return s}},5607:(e,t,n)=>{"use strict";var i=n(9829),r=n(480),o=n(1082),s=n(5636)||0;function a(){return r(s)}e.exports=a,e.exports.generate=a,e.exports.seed=function(t){return i.seed(t),e.exports},e.exports.worker=function(t){return s=t,e.exports},e.exports.characters=function(e){return void 0!==e&&i.characters(e),i.shuffled()},e.exports.isValid=o},1082:(e,t,n)=>{"use strict";var i=n(9829);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+i.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},3766:e=>{"use strict";var t,n="object"==typeof window&&(window.crypto||window.msCrypto);t=n&&n.getRandomValues?function(e){return n.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},8946:e=>{"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},5636:e=>{"use strict";e.exports=0},296:e=>{e.exports=function(e,t,n){for(var i=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*i*n/t.length),o="";;)for(var s=e(r),a=r;a--;)if((o+=t[s[a]&i]||"").length===+n)return o}},4023:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=60)}([function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i);return[n].concat(i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}))).concat([r]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],i=h[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));h[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function o(e){var t,n,i=document.querySelector("style["+v+'~="'+e.id+'"]');if(i){if(f)return m;i.parentNode.removeChild(i)}if(y){var o=p++;i=u||(u=r()),t=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),t=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}function s(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function a(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),g.ssrId&&e.setAttribute(v,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(64),h={},d=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,p=0,f=!1,m=function(){},g=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,r){f=n,g=r||{};var o=c(e,t);return i(o),function(t){for(var n=[],r=0;r<o.length;r++){var s=o[r];(a=h[s.id]).refs--,n.push(a)}for(t?i(o=c(e,t)):o=[],r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete h[a.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,i,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,h="function"==typeof a?a.options:a;if(t&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0),n&&(h.functional=!0),r&&(h._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=c):i&&(c=i),c){var d=h.functional,u=d?h.render:h.beforeCreate;d?(h._injectStyles=c,h.render=function(e,t){return c.call(t),u(e,t)}):h.beforeCreate=u?[].concat(u,c):[c]}return{esModule:s,exports:a,options:h}}},function(e,t,n){"use strict";function i(e,t){var n,i=e&&e.a;!(n=e&&e.hsl?(0,r.default)(e.hsl):e&&e.hex&&e.hex.length>0?(0,r.default)(e.hex):e&&e.hsv?(0,r.default)(e.hsv):e&&e.rgba?(0,r.default)(e.rgba):e&&e.rgb?(0,r.default)(e.rgb):(0,r.default)(e))||void 0!==n._a&&null!==n._a||n.setAlpha(i||1);var o=n.toHsl(),s=n.toHsv();return 0===o.s&&(s.h=o.h=e.h||e.hsl&&e.hsl.h||t||0),{hsl:o,hex:n.toHexString().toUpperCase(),hex8:n.toHex8String().toUpperCase(),rgba:n.toRgb(),hsv:s,oldHue:e.h||t||o.h,source:e.source,a:e.a||n.getAlpha()}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(65));t.default={props:["value"],data:function(){return{val:i(this.value)}},computed:{colors:{get:function(){return this.val},set:function(e){this.val=e,this.$emit("input",e)}}},watch:{value:function(e){this.val=i(e)}},methods:{colorChange:function(e,t){this.oldHue=this.colors.hsl.h,this.colors=i(e,t||this.oldHue)},isValidHex:function(e){return(0,r.default)(e).isValid()},simpleCheckForValidColor:function(e){for(var t=["r","g","b","a","h","s","l","v"],n=0,i=0,r=0;r<t.length;r++){var o=t[r];e[o]&&(n++,isNaN(e[o])||i++)}if(n===i)return e},paletteUpperCase:function(e){return e.map((function(e){return e.toUpperCase()}))},isTransparent:function(e){return 0===(0,r.default)(e).getAlpha()}}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(68),a=!1,l=function(e){a||n(66)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/common/EditableInput.vue",t.default=c.exports},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(8),r=n(18);e.exports=n(9)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(16),r=n(42),o=n(25),s=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(17)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(90),r=n(24);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(29)("wks"),r=n(19),o=n(4).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(113),a=!1,l=function(e){a||n(111)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/common/Hue.vue",t.default=c.exports},function(e,t){e.exports=!0},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(12);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(127),a=!1,l=function(e){a||n(123)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/common/Saturation.vue",t.default=c.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(55),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(133),a=!1,l=function(e){a||n(128)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/common/Alpha.vue",t.default=c.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(132),a=!1,l=function(e){a||n(130)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/common/Checkboard.vue",t.default=c.exports},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var i=n(46),r=n(30);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(29)("keys"),r=n(19);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(15),r=n(4),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(14)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(8).f,r=n(6),o=n(11)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(11)},function(e,t,n){var i=n(4),r=n(15),o=n(14),s=n(32),a=n(8).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(5)),s=["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"];t.default={name:"Compact",mixins:[r.default],props:{palette:{type:Array,default:function(){return s}}},components:{"ed-in":o.default},computed:{pick:function(){return this.colors.hex.toUpperCase()}},methods:{handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"editableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get:function(){return this.value},set:function(e){if(!(void 0!==this.max&&+e>this.max))return e;this.$refs.input.value=this.max}},labelId:function(){return"input__label__"+this.label+"__"+Math.random().toString().slice(2,5)},labelSpanText:function(){return this.labelText||this.label}},methods:{update:function(e){this.handleChange(e.target.value)},handleChange:function(e){var t={};t[this.label]=e,(void 0===t.hex&&void 0===t["#"]||e.length>5)&&this.$emit("change",t)},handleKeyDown:function(e){var t=this.val,n=Number(t);if(n){var i=this.arrowOffset||1;38===e.keyCode&&(t=n+i,this.handleChange(t),e.preventDefault()),40===e.keyCode&&(t=n-i,this.handleChange(t),e.preventDefault())}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),r=["#FFFFFF","#F2F2F2","#E6E6E6","#D9D9D9","#CCCCCC","#BFBFBF","#B3B3B3","#A6A6A6","#999999","#8C8C8C","#808080","#737373","#666666","#595959","#4D4D4D","#404040","#333333","#262626","#0D0D0D","#000000"];t.default={name:"Grayscale",mixins:[i.default],props:{palette:{type:Array,default:function(){return r}}},components:{},computed:{pick:function(){return this.colors.hex.toUpperCase()}},methods:{handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(5)),o=i(n(3));t.default={name:"Material",mixins:[o.default],components:{"ed-in":r.default},methods:{onChange:function(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(81)),o=i(n(3)),s=i(n(13));t.default={name:"Slider",mixins:[o.default],props:{swatches:{type:Array,default:function(){return[{s:.5,l:.8},{s:.5,l:.65},{s:.5,l:.5},{s:.5,l:.35},{s:.5,l:.2}]}}},components:{hue:s.default},computed:{normalizedSwatches:function(){return this.swatches.map((function(e){return"object"!==(void 0===e?"undefined":(0,r.default)(e))?{s:.5,l:e}:e}))}},methods:{isActive:function(e,t){var n=this.colors.hsl;return 1===n.l&&1===e.l||0===n.l&&0===e.l||Math.abs(n.l-e.l)<.01&&Math.abs(n.s-e.s)<.01},hueChange:function(e){this.colorChange(e)},handleSwClick:function(e,t){this.colorChange({h:this.colors.hsl.h,s:t.s,l:t.l,source:"hsl"})}}}},function(e,t,n){"use strict";var i=n(14),r=n(41),o=n(44),s=n(7),a=n(26),l=n(88),c=n(31),h=n(95),d=n(11)("iterator"),u=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,f,m,g,v){l(n,t,f);var y,b,x,w=function(e){if(!u&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",C="values"==m,k=!1,S=e.prototype,P=S[d]||S["@@iterator"]||m&&S[m],I=P||w(m),E=m?C?w("entries"):I:void 0,_="Array"==t&&S.entries||P;if(_&&(x=h(_.call(new e)))!==Object.prototype&&x.next&&(c(x,A,!0),i||"function"==typeof x[d]||s(x,d,p)),C&&P&&"values"!==P.name&&(k=!0,I=function(){return P.call(this)}),i&&!v||!u&&!k&&S[d]||s(S,d,I),a[t]=I,a[A]=p,m)if(y={values:C?I:w("values"),keys:g?I:w("keys"),entries:E},v)for(b in y)b in S||o(S,b,y[b]);else r(r.P+r.F*(u||k),t,y);return y}},function(e,t,n){var i=n(4),r=n(15),o=n(86),s=n(7),a=n(6),l=function(e,t,n){var c,h,d,u=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=p?r:r[t]||(r[t]={}),b=y.prototype,x=p?i:f?i[t]:(i[t]||{}).prototype;for(c in p&&(n=t),n)(h=!u&&x&&void 0!==x[c])&&a(y,c)||(d=h?x[c]:n[c],y[c]=p&&"function"!=typeof x[c]?n[c]:g&&h?o(d,i):v&&x[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&s(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){e.exports=!n(9)&&!n(17)((function(){return 7!=Object.defineProperty(n(43)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(12),r=n(4).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){e.exports=n(7)},function(e,t,n){var i=n(16),r=n(89),o=n(30),s=n(28)("IE_PROTO"),a=function(){},l=function(){var e,t=n(43)("iframe"),i=o.length;for(t.style.display="none",n(94).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(6),r=n(10),o=n(91)(!1),s=n(28)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(24);e.exports=function(e){return Object(i(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(46),r=n(30).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data:function(){return{oldHue:0,pullDirection:""}},computed:{colors:function(){var e=this.value.hsl.h;return 0!==e&&e-this.oldHue>0&&(this.pullDirection="right"),0!==e&&e-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=e,this.value},directionClass:function(){return{"vc-hue--horizontal":"horizontal"===this.direction,"vc-hue--vertical":"vertical"===this.direction}},pointerTop:function(){return"vertical"===this.direction?0===this.colors.hsl.h&&"right"===this.pullDirection?0:-100*this.colors.hsl.h/360+100+"%":0},pointerLeft:function(){return"vertical"===this.direction?0:0===this.colors.hsl.h&&"right"===this.pullDirection?"100%":100*this.colors.hsl.h/360+"%"}},methods:{handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container;if(n){var i,r=n.clientWidth,o=n.clientHeight,s=n.getBoundingClientRect().left+window.pageXOffset,a=n.getBoundingClientRect().top+window.pageYOffset,l=(e.pageX||(e.touches?e.touches[0].pageX:0))-s,c=(e.pageY||(e.touches?e.touches[0].pageY:0))-a;"vertical"===this.direction?(i=c<0?360:c>o?0:360*(-100*c/o+100)/100,this.colors.hsl.h!==i&&this.$emit("change",{h:i,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(i=l<0?0:l>r?360:100*l/r*360/100,this.colors.hsl.h!==i&&this.$emit("change",{h:i,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))}},handleMouseDown:function(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(118)),o=i(n(3)),s=["red","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","blueGrey","black"],a=["900","700","500","300","100"],l=function(){var e=[];return s.forEach((function(t){var n=[];"black"===t.toLowerCase()||"white"===t.toLowerCase()?n=n.concat(["#000000","#FFFFFF"]):a.forEach((function(e){var i=r.default[t][e];n.push(i.toUpperCase())})),e.push(n)})),e}();t.default={name:"Swatches",mixins:[o.default],props:{palette:{type:Array,default:function(){return l}}},computed:{pick:function(){return this.colors.hex}},methods:{equal:function(e){return e.toLowerCase()===this.colors.hex.toLowerCase()},handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(5)),s=i(n(20)),a=i(n(13)),l=i(n(21));t.default={name:"Photoshop",mixins:[r.default],props:{head:{type:String,default:"Color Picker"},disableFields:{type:Boolean,default:!1},hasResetButton:{type:Boolean,default:!1},acceptLabel:{type:String,default:"OK"},cancelLabel:{type:String,default:"Cancel"},resetLabel:{type:String,default:"Reset"},newLabel:{type:String,default:"new"},currentLabel:{type:String,default:"current"}},components:{saturation:s.default,hue:a.default,alpha:l.default,"ed-in":o.default},data:function(){return{currentColor:"#FFF"}},computed:{hsv:function(){var e=this.colors.hsv;return{h:e.h.toFixed(),s:(100*e.s).toFixed(),v:(100*e.v).toFixed()}},hex:function(){var e=this.colors.hex;return e&&e.replace("#","")}},created:function(){this.currentColor=this.colors.hex},methods:{childChange:function(e){this.colorChange(e)},inputChange:function(e){e&&(e["#"]?this.isValidHex(e["#"])&&this.colorChange({hex:e["#"],source:"hex"}):e.r||e.g||e.b||e.a?this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}):(e.h||e.s||e.v)&&this.colorChange({h:e.h||this.colors.hsv.h,s:e.s/100||this.colors.hsv.s,v:e.v/100||this.colors.hsv.v,source:"hsv"}))},clickCurrentColor:function(){this.colorChange({hex:this.currentColor,source:"hex"})},handleAccept:function(){this.$emit("ok")},handleCancel:function(){this.$emit("cancel")},handleReset:function(){this.$emit("reset")}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(125)),o=i(n(126));t.default={name:"Saturation",props:{value:Object},computed:{colors:function(){return this.value},bgColor:function(){return"hsl("+this.colors.hsv.h+", 100%, 50%)"},pointerTop:function(){return-100*this.colors.hsv.v+1+100+"%"},pointerLeft:function(){return 100*this.colors.hsv.s+"%"}},methods:{throttle:(0,o.default)((function(e,t){e(t)}),20,{leading:!0,trailing:!1}),handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container;if(n){var i=n.clientWidth,o=n.clientHeight,s=n.getBoundingClientRect().left+window.pageXOffset,a=n.getBoundingClientRect().top+window.pageYOffset,l=e.pageX||(e.touches?e.touches[0].pageX:0),c=e.pageY||(e.touches?e.touches[0].pageY:0),h=(0,r.default)(l-s,0,i),d=(0,r.default)(c-a,0,o),u=h/i,p=(0,r.default)(-d/o+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:u,v:p,a:this.colors.hsv.a,source:"hsva"})}},onChange:function(e){this.$emit("change",e)},handleMouseDown:function(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(22));t.default={name:"Alpha",props:{value:Object,onChange:Function},components:{checkboard:i.default},computed:{colors:function(){return this.value},gradientColor:function(){var e=this.colors.rgba,t=[e.r,e.g,e.b].join(",");return"linear-gradient(to right, rgba("+t+", 0) 0%, rgba("+t+", 1) 100%)"}},methods:{handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container;if(n){var i,r=n.clientWidth,o=n.getBoundingClientRect().left+window.pageXOffset,s=(e.pageX||(e.touches?e.touches[0].pageX:0))-o;i=s<0?0:s>r?1:Math.round(100*s/r)/100,this.colors.a!==i&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:i,source:"rgba"})}},handleMouseDown:function(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";function i(e,t,n){var i=e+","+t+","+n;if(r[i])return r[i];var o=function(e,t,n){if("undefined"==typeof document)return null;var i=document.createElement("canvas");i.width=i.height=2*n;var r=i.getContext("2d");return r?(r.fillStyle=e,r.fillRect(0,0,i.width,i.height),r.fillStyle=t,r.fillRect(0,0,n,n),r.translate(n,n),r.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n);return r[i]=o,o}Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle:function(){return{"background-image":"url("+i(this.white,this.grey,this.size)+")"}}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(5)),s=i(n(20)),a=i(n(13)),l=i(n(21)),c=i(n(22)),h=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"];t.default={name:"Sketch",mixins:[r.default],components:{saturation:s.default,hue:a.default,alpha:l.default,"ed-in":o.default,checkboard:c.default},props:{presetColors:{type:Array,default:function(){return h}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex:function(){return(this.colors.a<1?this.colors.hex8:this.colors.hex).replace("#","")},activeColor:function(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"}},methods:{handlePreset:function(e){this.colorChange({hex:e,source:"hex"})},childChange:function(e){this.colorChange(e)},inputChange:function(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(5)),s=i(n(20)),a=i(n(13)),l=i(n(21)),c=i(n(22));t.default={name:"Chrome",mixins:[r.default],props:{disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},components:{saturation:s.default,hue:a.default,alpha:l.default,"ed-in":o.default,checkboard:c.default},data:function(){return{fieldsIndex:0,highlight:!1}},computed:{hsl:function(){var e=this.colors.hsl,t=e.h,n=e.s,i=e.l;return{h:t.toFixed(),s:(100*n).toFixed()+"%",l:(100*i).toFixed()+"%"}},activeColor:function(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"},hasAlpha:function(){return this.colors.a<1}},methods:{childChange:function(e){this.colorChange(e)},inputChange:function(e){if(e)if(e.hex)this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"});else if(e.r||e.g||e.b||e.a)this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"});else if(e.h||e.s||e.l){var t=e.s?e.s.replace("%","")/100:this.colors.hsl.s,n=e.l?e.l.replace("%","")/100:this.colors.hsl.l;this.colorChange({h:e.h||this.colors.hsl.h,s:t,l:n,source:"hsl"})}},toggleViews:function(){this.fieldsIndex>=2?this.fieldsIndex=0:this.fieldsIndex++},showHighlight:function(){this.highlight=!0},hideHighlight:function(){this.highlight=!1}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(5)),o=i(n(3)),s=["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"];t.default={name:"Twitter",mixins:[o.default],components:{editableInput:r.default},props:{width:{type:[String,Number],default:276},defaultColors:{type:Array,default:function(){return s}},triangle:{default:"top-left",validator:function(e){return["hide","top-left","top-right"].includes(e)}}},computed:{hsv:function(){var e=this.colors.hsv;return{h:e.h.toFixed(),s:(100*e.s).toFixed(),v:(100*e.v).toFixed()}},hex:function(){var e=this.colors.hex;return e&&e.replace("#","")}},methods:{equal:function(e){return e.toLowerCase()===this.colors.hex.toLowerCase()},handlerClick:function(e){this.colorChange({hex:e,source:"hex"})},inputChange:function(e){e&&(e["#"]?this.isValidHex(e["#"])&&this.colorChange({hex:e["#"],source:"hex"}):e.r||e.g||e.b||e.a?this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}):(e.h||e.s||e.v)&&this.colorChange({h:e.h||this.colors.hsv.h,s:e.s/100||this.colors.hsv.s,v:e.v/100||this.colors.hsv.v,source:"hsv"}))}}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=i(n(61)),o=i(n(70)),s=i(n(74)),a=i(n(78)),l=i(n(115)),c=i(n(120)),h=i(n(135)),d=i(n(139)),u=i(n(143)),p=i(n(21)),f=i(n(22)),m=i(n(5)),g=i(n(13)),v=i(n(20)),y=i(n(3)),b={version:"2.8.1",Compact:r.default,Grayscale:o.default,Twitter:u.default,Material:s.default,Slider:a.default,Swatches:l.default,Photoshop:c.default,Sketch:h.default,Chrome:d.default,Alpha:p.default,Checkboard:f.default,EditableInput:m.default,Hue:g.default,Saturation:v.default,ColorMixin:y.default};e.exports=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(69),a=!1,l=function(e){a||n(62)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Compact.vue",t.default=c.exports},function(e,t,n){var i=n(63);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("6ce8a5a8",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-compact {\n  padding-top: 5px;\n  padding-left: 5px;\n  width: 245px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-compact-colors {\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n}\n.vc-compact-color-item {\n  list-style: none;\n  width: 15px;\n  height: 15px;\n  float: left;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  position: relative;\n  cursor: pointer;\n}\n.vc-compact-color-item--white {\n  box-shadow: inset 0 0 0 1px #ddd;\n}\n.vc-compact-color-item--white .vc-compact-dot {\n  background: #000;\n}\n.vc-compact-dot {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  bottom: 5px;\n  left: 5px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #fff;\n}\n",""])},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}},function(e,t,n){var i;!function(r){function o(e,t){if(t=t||{},(e=e||"")instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,s=!1,a=!1;return"string"==typeof e&&(e=function(e){e=e.replace(O,"").replace(D,"").toLowerCase();var t,n=!1;if(F[e])e=F[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=z.hex8.exec(e))?{r:I(t[1]),g:I(t[2]),b:I(t[3]),a:$(t[4]),format:n?"name":"hex8"}:(t=z.hex6.exec(e))?{r:I(t[1]),g:I(t[2]),b:I(t[3]),format:n?"name":"hex"}:(t=z.hex4.exec(e))?{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),a:$(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=z.hex3.exec(e))&&{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(M(e.r)&&M(e.g)&&M(e.b)?(t=function(e,t,n){return{r:255*S(e,255),g:255*S(t,255),b:255*S(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):M(e.h)&&M(e.s)&&M(e.v)?(i=_(e.s),r=_(e.v),t=l(e.h,i,r),s=!0,a="hsv"):M(e.h)&&M(e.s)&&M(e.l)&&(i=_(e.s),o=_(e.l),t=function(e,t,n){function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var r,o,s;if(e=S(e,360),t=S(t,100),n=S(n,100),0===t)r=o=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=i(l,a,e+1/3),o=i(l,a,e),s=i(l,a,e-1/3)}return{r:255*r,g:255*o,b:255*s}}(e.h,i,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=k(n),{ok:s,format:e.format||a,r:B(255,R(t.r,0)),g:B(255,R(t.g,0)),b:B(255,R(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=N(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=n.ok,this._tc_id=L++}function s(e,t,n){e=S(e,255),t=S(t,255),n=S(n,255);var i,r,o=R(e,t,n),s=B(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:a}}function a(e,t,n){e=S(e,255),t=S(t,255),n=S(n,255);var i,r,o=R(e,t,n),s=B(e,t,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:a}}function l(e,t,n){e=6*S(e,360),t=S(t,100),n=S(n,100);var i=r.floor(e),o=e-i,s=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),c=i%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c]}}function c(e,t,n,i){var r=[E(N(e).toString(16)),E(N(t).toString(16)),E(N(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function h(e,t,n,i){return[E(T(i)),E(N(e).toString(16)),E(N(t).toString(16)),E(N(n).toString(16))].join("")}function d(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=P(n.s),o(n)}function u(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=P(n.s),o(n)}function p(e){return o(e).desaturate(100)}function f(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=P(n.l),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=R(0,B(255,n.r-N(-t/100*255))),n.g=R(0,B(255,n.g-N(-t/100*255))),n.b=R(0,B(255,n.b-N(-t/100*255))),o(n)}function g(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=P(n.l),o(n)}function v(e,t){var n=o(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,o(n)}function y(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function b(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function x(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function w(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var i=o(e).toHsl(),r=360/n,s=[o(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,s.push(o(i));return s}function C(e,t){t=t||6;for(var n=o(e).toHsv(),i=n.h,r=n.s,s=n.v,a=[],l=1/t;t--;)a.push(o({h:i,s:r,v:s})),s=(s+l)%1;return a}function k(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function S(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=B(t,R(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return B(1,R(0,e))}function I(e){return parseInt(e,16)}function E(e){return 1==e.length?"0"+e:""+e}function _(e){return e<=1&&(e=100*e+"%"),e}function T(e){return r.round(255*parseFloat(e)).toString(16)}function $(e){return I(e)/255}function M(e){return!!z.CSS_UNIT.exec(e)}var O=/^\s+/,D=/\s+$/,L=0,N=r.round,B=r.min,R=r.max,Z=r.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=k(e),this._roundA=N(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),t=N(360*e.h),n=N(100*e.s),i=N(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=N(360*e.h),n=N(100*e.s),i=N(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return c(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,i,r){var o=[E(N(e).toString(16)),E(N(t).toString(16)),E(N(n).toString(16)),E(T(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*S(this._r,255))+"%",g:N(100*S(this._g,255))+"%",b:N(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*S(this._r,255))+"%, "+N(100*S(this._g,255))+"%, "+N(100*S(this._b,255))+"%)":"rgba("+N(100*S(this._r,255))+"%, "+N(100*S(this._g,255))+"%, "+N(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=o(e);n="#"+h(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:_(e[i]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:Z(),g:Z(),b:Z()})},o.mix=function(e,t,n){n=0===n?0:n||50;var i=o(e).toRgb(),r=o(t).toRgb(),s=n/100;return o({r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a})},o.readability=function(e,t){var n=o(e),i=o(t);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},o.isReadable=function(e,t,n){var i,r,s=o.readability(e,t);switch(r=!1,(i=function(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+i.size){case"AAsmall":case"AAAlarge":r=s>=4.5;break;case"AAlarge":r=s>=3;break;case"AAAsmall":r=s>=7}return r},o.mostReadable=function(e,t,n){var i,r,s,a,l=null,c=0;r=(n=n||{}).includeFallbackColors,s=n.level,a=n.size;for(var h=0;h<t.length;h++)(i=o.readability(e,t[h]))>c&&(c=i,l=o(t[h]));return o.isReadable(e,l,{level:s,size:a})||!r?l:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var F=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(F),z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=o:void 0!==(i=function(){return o}.call(t,n,t,e))&&(e.exports=i)}(Math)},function(e,t,n){var i=n(67);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("0f73e73c",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-editable-input {\n  position: relative;\n}\n.vc-input__input {\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n.vc-input__label {\n  text-transform: capitalize;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-editable-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],ref:"input",staticClass:"vc-input__input",attrs:{"aria-labelledby":e.labelId},domProps:{value:e.val},on:{keydown:e.handleKeyDown,input:[function(t){t.target.composing||(e.val=t.target.value)},e.update]}}),e._v(" "),n("span",{staticClass:"vc-input__label",attrs:{for:e.label,id:e.labelId}},[e._v(e._s(e.labelSpanText))]),e._v(" "),n("span",{staticClass:"vc-input__desc"},[e._v(e._s(e.desc))])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-compact",attrs:{role:"application","aria-label":"Compact color picker"}},[n("ul",{staticClass:"vc-compact-colors",attrs:{role:"listbox"}},e._l(e.paletteUpperCase(e.palette),(function(t){return n("li",{key:t,staticClass:"vc-compact-color-item",class:{"vc-compact-color-item--white":"#FFFFFF"===t},style:{background:t},attrs:{role:"option","aria-label":"color:"+t,"aria-selected":t===e.pick},on:{click:function(n){return e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.pick,expression:"c === pick"}],staticClass:"vc-compact-dot"})])})),0)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(73),a=!1,l=function(e){a||n(71)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Grayscale.vue",t.default=c.exports},function(e,t,n){var i=n(72);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("21ddbb74",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-grayscale {\n  width: 125px;\n  border-radius: 2px;\n  box-shadow: 0 2px 15px rgba(0,0,0,.12), 0 2px 10px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-grayscale-colors {\n  border-radius: 2px;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n}\n.vc-grayscale-color-item {\n  list-style: none;\n  width: 25px;\n  height: 25px;\n  float: left;\n  position: relative;\n  cursor: pointer;\n}\n.vc-grayscale-color-item--white .vc-grayscale-dot {\n  background: #000;\n}\n.vc-grayscale-dot {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 6px;\n  height: 6px;\n  margin: -3px 0 0 -2px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #fff;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-grayscale",attrs:{role:"application","aria-label":"Grayscale color picker"}},[n("ul",{staticClass:"vc-grayscale-colors",attrs:{role:"listbox"}},e._l(e.paletteUpperCase(e.palette),(function(t){return n("li",{key:t,staticClass:"vc-grayscale-color-item",class:{"vc-grayscale-color-item--white":"#FFFFFF"==t},style:{background:t},attrs:{role:"option","aria-label":"Color:"+t,"aria-selected":t===e.pick},on:{click:function(n){return e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.pick,expression:"c === pick"}],staticClass:"vc-grayscale-dot"})])})),0)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(38),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(77),a=!1,l=function(e){a||n(75)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Material.vue",t.default=c.exports},function(e,t,n){var i=n(76);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("1ff3af73",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'\n.vc-material {\n  width: 98px;\n  height: 98px;\n  padding: 16px;\n  font-family: "Roboto";\n  position: relative;\n  border-radius: 2px;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-material .vc-input__input {\n  width: 100%;\n  margin-top: 12px;\n  font-size: 15px;\n  color: #333;\n  height: 30px;\n}\n.vc-material .vc-input__label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 11px;\n  color: #999;\n  text-transform: capitalize;\n}\n.vc-material-hex {\n  border-bottom-width: 2px;\n  border-bottom-style: solid;\n}\n.vc-material-split {\n  display: flex;\n  margin-right: -10px;\n  padding-top: 11px;\n}\n.vc-material-third {\n  flex: 1;\n  padding-right: 10px;\n}\n',""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-material",attrs:{role:"application","aria-label":"Material color picker"}},[n("ed-in",{staticClass:"vc-material-hex",style:{borderColor:e.colors.hex},attrs:{label:"hex"},on:{change:e.onChange},model:{value:e.colors.hex,callback:function(t){e.$set(e.colors,"hex",t)},expression:"colors.hex"}}),e._v(" "),n("div",{staticClass:"vc-material-split"},[n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"r"},on:{change:e.onChange},model:{value:e.colors.rgba.r,callback:function(t){e.$set(e.colors.rgba,"r",t)},expression:"colors.rgba.r"}})],1),e._v(" "),n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"g"},on:{change:e.onChange},model:{value:e.colors.rgba.g,callback:function(t){e.$set(e.colors.rgba,"g",t)},expression:"colors.rgba.g"}})],1),e._v(" "),n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"b"},on:{change:e.onChange},model:{value:e.colors.rgba.b,callback:function(t){e.$set(e.colors.rgba,"b",t)},expression:"colors.rgba.b"}})],1)])],1)};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(114),a=!1,l=function(e){a||n(79)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Slider.vue",t.default=c.exports},function(e,t,n){var i=n(80);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("7982aa43",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-slider {\n  position: relative;\n  width: 410px;\n}\n.vc-slider-hue-warp {\n  height: 12px;\n  position: relative;\n}\n.vc-slider-hue-warp .vc-hue-picker {\n  width: 14px;\n  height: 14px;\n  border-radius: 6px;\n  transform: translate(-7px, -2px);\n  background-color: rgb(248, 248, 248);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n.vc-slider-swatches {\n  display: flex;\n  margin-top: 20px;\n}\n.vc-slider-swatch {\n  margin-right: 1px;\n  flex: 1;\n  width: 20%;\n}\n.vc-slider-swatch:first-child {\n  margin-right: 1px;\n}\n.vc-slider-swatch:first-child .vc-slider-swatch-picker {\n  border-radius: 2px 0px 0px 2px;\n}\n.vc-slider-swatch:last-child {\n  margin-right: 0;\n}\n.vc-slider-swatch:last-child .vc-slider-swatch-picker {\n  border-radius: 0px 2px 2px 0px;\n}\n.vc-slider-swatch-picker {\n  cursor: pointer;\n  height: 12px;\n}\n.vc-slider-swatch:nth-child(n) .vc-slider-swatch-picker.vc-slider-swatch-picker--active {\n  transform: scaleY(1.8);\n  border-radius: 3.6px/2px;\n}\n.vc-slider-swatch-picker--white {\n  box-shadow: inset 0 0 0 1px #ddd;\n}\n.vc-slider-swatch-picker--active.vc-slider-swatch-picker--white {\n  box-shadow: inset 0 0 0 0.6px #ddd;\n}\n",""])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(n(82)),o=i(n(100)),s="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};t.default="function"==typeof o.default&&"symbol"===s(r.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(84),n(96),e.exports=n(32).f("iterator")},function(e,t,n){"use strict";var i=n(85)(!0);n(40)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(23),r=n(24);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){var i=n(87);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var i=n(45),r=n(18),o=n(31),s={};n(7)(s,n(11)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(8),r=n(16),o=n(27);e.exports=n(9)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var i=n(47);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(10),r=n(92),o=n(93);e.exports=function(e){return function(t,n,s){var a,l=i(t),c=r(l.length),h=o(s,c);if(e&&n!=n){for(;c>h;)if((a=l[h++])!=a)return!0}else for(;c>h;h++)if((e||h in l)&&l[h]===n)return e||h||0;return!e&&-1}}},function(e,t,n){var i=n(23),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(23),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(4).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(6),r=n(48),o=n(28)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){n(97);for(var i=n(4),r=n(7),o=n(26),s=n(11)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],h=i[c],d=h&&h.prototype;d&&!d[s]&&r(d,s,c),o[c]=o.Array}},function(e,t,n){"use strict";var i=n(98),r=n(99),o=n(26),s=n(10);e.exports=n(40)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(101),__esModule:!0}},function(e,t,n){n(102),n(108),n(109),n(110),e.exports=n(15).Symbol},function(e,t,n){"use strict";var i=n(4),r=n(6),o=n(9),s=n(41),a=n(44),l=n(103).KEY,c=n(17),h=n(29),d=n(31),u=n(19),p=n(11),f=n(32),m=n(33),g=n(104),v=n(105),y=n(16),b=n(12),x=n(48),w=n(10),A=n(25),C=n(18),k=n(45),S=n(106),P=n(107),I=n(49),E=n(8),_=n(27),T=P.f,$=E.f,M=S.f,O=i.Symbol,D=i.JSON,L=D&&D.stringify,N=p("_hidden"),B=p("toPrimitive"),R={}.propertyIsEnumerable,Z=h("symbol-registry"),F=h("symbols"),j=h("op-symbols"),z=Object.prototype,U="function"==typeof O&&!!I.f,H=i.QObject,V=!H||!H.prototype||!H.prototype.findChild,q=o&&c((function(){return 7!=k($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=T(z,t);i&&delete z[t],$(e,t,n),i&&e!==z&&$(z,t,i)}:$,W=function(e){var t=F[e]=k(O.prototype);return t._k=e,t},G=U&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},J=function(e,t,n){return e===z&&J(j,t,n),y(e),t=A(t,!0),y(n),r(F,t)?(n.enumerable?(r(e,N)&&e[N][t]&&(e[N][t]=!1),n=k(n,{enumerable:C(0,!1)})):(r(e,N)||$(e,N,C(1,{})),e[N][t]=!0),q(e,t,n)):$(e,t,n)},K=function(e,t){y(e);for(var n,i=g(t=w(t)),r=0,o=i.length;o>r;)J(e,n=i[r++],t[n]);return e},Q=function(e){var t=R.call(this,e=A(e,!0));return!(this===z&&r(F,e)&&!r(j,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,N)&&this[N][e])||t)},Y=function(e,t){if(e=w(e),t=A(t,!0),e!==z||!r(F,t)||r(j,t)){var n=T(e,t);return!n||!r(F,t)||r(e,N)&&e[N][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=M(w(e)),i=[],o=0;n.length>o;)r(F,t=n[o++])||t==N||t==l||i.push(t);return i},ee=function(e){for(var t,n=e===z,i=M(n?j:w(e)),o=[],s=0;i.length>s;)!r(F,t=i[s++])||n&&!r(z,t)||o.push(F[t]);return o};U||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(j,n),r(this,N)&&r(this[N],e)&&(this[N][e]=!1),q(this,e,C(1,n))};return o&&V&&q(z,e,{configurable:!0,set:t}),W(e)},a(O.prototype,"toString",(function(){return this._k})),P.f=Y,E.f=J,n(50).f=S.f=X,n(34).f=Q,I.f=ee,o&&!n(14)&&a(z,"propertyIsEnumerable",Q,!0),f.f=function(e){return W(p(e))}),s(s.G+s.W+s.F*!U,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var ie=_(p.store),re=0;ie.length>re;)m(ie[re++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return r(Z,e+="")?Z[e]:Z[e]=O(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in Z)if(Z[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!U,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:X,getOwnPropertySymbols:ee});var oe=c((function(){I.f(1)}));s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return I.f(x(e))}}),D&&s(s.S+s.F*(!U||c((function(){var e=O();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),i[1]=t,L.apply(D,i)}}),O.prototype[B]||n(7)(O.prototype,B,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(19)("meta"),r=n(12),o=n(6),s=n(8).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(17)((function(){return l(Object.preventExtensions({}))})),h=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";h(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;h(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,i)&&h(e),e}}},function(e,t,n){var i=n(27),r=n(49),o=n(34);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),l=o.f,c=0;a.length>c;)l.call(e,s=a[c++])&&t.push(s);return t}},function(e,t,n){var i=n(47);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(10),r=n(50).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(34),r=n(18),o=n(10),s=n(25),a=n(6),l=n(42),c=Object.getOwnPropertyDescriptor;t.f=n(9)?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(33)("asyncIterator")},function(e,t,n){n(33)("observable")},function(e,t,n){var i=n(112);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("7c5f1a1c",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-hue {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-radius: 2px;\n}\n.vc-hue--horizontal {\n  background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.vc-hue--vertical {\n  background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.vc-hue-container {\n  cursor: pointer;\n  margin: 0 2px;\n  position: relative;\n  height: 100%;\n}\n.vc-hue-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.vc-hue-picker {\n  cursor: pointer;\n  margin-top: 1px;\n  width: 4px;\n  border-radius: 1px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  transform: translateX(-2px) ;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-hue",e.directionClass]},[n("div",{ref:"container",staticClass:"vc-hue-container",attrs:{role:"slider","aria-valuenow":e.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360"},on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-hue-pointer",style:{top:e.pointerTop,left:e.pointerLeft},attrs:{role:"presentation"}},[n("div",{staticClass:"vc-hue-picker"})])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-slider",attrs:{role:"application","aria-label":"Slider color picker"}},[n("div",{staticClass:"vc-slider-hue-warp"},[n("hue",{on:{change:e.hueChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-slider-swatches",attrs:{role:"group"}},e._l(e.normalizedSwatches,(function(t,i){return n("div",{key:i,staticClass:"vc-slider-swatch",attrs:{"data-index":i,"aria-label":"color:"+e.colors.hex,role:"button"},on:{click:function(n){return e.handleSwClick(i,t)}}},[n("div",{staticClass:"vc-slider-swatch-picker",class:{"vc-slider-swatch-picker--active":e.isActive(t,i),"vc-slider-swatch-picker--white":1===t.l},style:{background:"hsl("+e.colors.hsl.h+", "+100*t.s+"%, "+100*t.l+"%)"}})])})),0)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(119),a=!1,l=function(e){a||n(116)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Swatches.vue",t.default=c.exports},function(e,t,n){var i=n(117);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("10f839a2",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-swatches {\n  width: 320px;\n  height: 240px;\n  overflow-y: scroll;\n  background-color: #fff;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n}\n.vc-swatches-box {\n  padding: 16px 0 6px 16px;\n  overflow: hidden;\n}\n.vc-swatches-color-group {\n  padding-bottom: 10px;\n  width: 40px;\n  float: left;\n  margin-right: 10px;\n}\n.vc-swatches-color-it {\n  box-sizing: border-box;\n  width: 40px;\n  height: 24px;\n  cursor: pointer;\n  background: #880e4f;\n  margin-bottom: 1px;\n  overflow: hidden;\n  -ms-border-radius: 2px 2px 0 0;\n  -moz-border-radius: 2px 2px 0 0;\n  -o-border-radius: 2px 2px 0 0;\n  -webkit-border-radius: 2px 2px 0 0;\n  border-radius: 2px 2px 0 0;\n}\n.vc-swatches-color--white {\n  border: 1px solid #DDD;\n}\n.vc-swatches-pick {\n  fill: rgb(255, 255, 255);\n  margin-left: 8px;\n  display: block;\n}\n.vc-swatches-color--white .vc-swatches-pick {\n  fill: rgb(51, 51, 51);\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"red",(function(){return i})),n.d(t,"pink",(function(){return r})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return s})),n.d(t,"indigo",(function(){return a})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return c})),n.d(t,"cyan",(function(){return h})),n.d(t,"teal",(function(){return d})),n.d(t,"green",(function(){return u})),n.d(t,"lightGreen",(function(){return p})),n.d(t,"lime",(function(){return f})),n.d(t,"yellow",(function(){return m})),n.d(t,"amber",(function(){return g})),n.d(t,"orange",(function(){return v})),n.d(t,"deepOrange",(function(){return y})),n.d(t,"brown",(function(){return b})),n.d(t,"grey",(function(){return x})),n.d(t,"blueGrey",(function(){return w})),n.d(t,"darkText",(function(){return A})),n.d(t,"lightText",(function(){return C})),n.d(t,"darkIcons",(function(){return k})),n.d(t,"lightIcons",(function(){return S})),n.d(t,"white",(function(){return P})),n.d(t,"black",(function(){return I}));var i={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},r={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},s={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},a={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},h={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},u={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},p={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},f={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},x={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},w={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},A={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},C={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},k={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},P="#ffffff",I="#000000";t.default={red:i,pink:r,purple:o,deepPurple:s,indigo:a,blue:l,lightBlue:c,cyan:h,teal:d,green:u,lightGreen:p,lime:f,yellow:m,amber:g,orange:v,deepOrange:y,brown:b,grey:x,blueGrey:w,darkText:A,lightText:C,darkIcons:k,lightIcons:S,white:P,black:I}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-swatches",attrs:{role:"application","aria-label":"Swatches color picker","data-pick":e.pick}},[n("div",{staticClass:"vc-swatches-box",attrs:{role:"listbox"}},e._l(e.palette,(function(t,i){return n("div",{key:i,staticClass:"vc-swatches-color-group"},e._l(t,(function(t){return n("div",{key:t,class:["vc-swatches-color-it",{"vc-swatches-color--white":"#FFFFFF"===t}],style:{background:t},attrs:{role:"option","aria-label":"Color:"+t,"aria-selected":e.equal(t),"data-color":t},on:{click:function(n){return e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.equal(t),expression:"equal(c)"}],staticClass:"vc-swatches-pick"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])])})),0)})),0)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(53),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(134),a=!1,l=function(e){a||n(121)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Photoshop.vue",t.default=c.exports},function(e,t,n){var i=n(122);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("080365d4",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'\n.vc-photoshop {\n  background: #DCDCDC;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15);\n  box-sizing: initial;\n  width: 513px;\n  font-family: Roboto;\n}\n.vc-photoshop__disable-fields {\n  width: 390px;\n}\n.vc-ps-head {\n  background-image: linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%);\n  border-bottom: 1px solid #B1B1B1;\n  box-shadow: inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02);\n  height: 23px;\n  line-height: 24px;\n  border-radius: 4px 4px 0 0;\n  font-size: 13px;\n  color: #4D4D4D;\n  text-align: center;\n}\n.vc-ps-body {\n  padding: 15px;\n  display: flex;\n}\n.vc-ps-saturation-wrap {\n  width: 256px;\n  height: 256px;\n  position: relative;\n  border: 2px solid #B3B3B3;\n  border-bottom: 2px solid #F0F0F0;\n  overflow: hidden;\n}\n.vc-ps-saturation-wrap .vc-saturation-circle {\n  width: 12px;\n  height: 12px;\n}\n.vc-ps-hue-wrap {\n  position: relative;\n  height: 256px;\n  width: 19px;\n  margin-left: 10px;\n  border: 2px solid #B3B3B3;\n  border-bottom: 2px solid #F0F0F0;\n}\n.vc-ps-hue-pointer {\n  position: relative;\n}\n.vc-ps-hue-pointer--left,\n.vc-ps-hue-pointer--right {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 5px 0 5px 8px;\n  border-color: transparent transparent transparent #555;\n}\n.vc-ps-hue-pointer--left:after,\n.vc-ps-hue-pointer--right:after {\n  content: "";\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 6px;\n  border-color: transparent transparent transparent #fff;\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  transform: translate(-8px, -5px);\n}\n.vc-ps-hue-pointer--left {\n  transform: translate(-13px, -4px);\n}\n.vc-ps-hue-pointer--right {\n  transform: translate(20px, -4px) rotate(180deg);\n}\n.vc-ps-controls {\n  width: 180px;\n  margin-left: 10px;\n  display: flex;\n}\n.vc-ps-controls__disable-fields {\n  width: auto;\n}\n.vc-ps-actions {\n  margin-left: 20px;\n  flex: 1;\n}\n.vc-ps-ac-btn {\n  cursor: pointer;\n  background-image: linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%);\n  border: 1px solid #878787;\n  border-radius: 2px;\n  height: 20px;\n  box-shadow: 0 1px 0 0 #EAEAEA;\n  font-size: 14px;\n  color: #000;\n  line-height: 20px;\n  text-align: center;\n  margin-bottom: 10px;\n}\n.vc-ps-previews {\n  width: 60px;\n}\n.vc-ps-previews__swatches {\n  border: 1px solid #B3B3B3;\n  border-bottom: 1px solid #F0F0F0;\n  margin-bottom: 2px;\n  margin-top: 1px;\n}\n.vc-ps-previews__pr-color {\n  height: 34px;\n  box-shadow: inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000;\n}\n.vc-ps-previews__label {\n  font-size: 14px;\n  color: #000;\n  text-align: center;\n}\n.vc-ps-fields {\n  padding-top: 5px;\n  padding-bottom: 9px;\n  width: 80px;\n  position: relative;\n}\n.vc-ps-fields .vc-input__input {\n  margin-left: 40%;\n  width: 40%;\n  height: 18px;\n  border: 1px solid #888888;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC;\n  margin-bottom: 5px;\n  font-size: 13px;\n  padding-left: 3px;\n  margin-right: 10px;\n}\n.vc-ps-fields .vc-input__label, .vc-ps-fields .vc-input__desc {\n  top: 0;\n  text-transform: uppercase;\n  font-size: 13px;\n  height: 18px;\n  line-height: 22px;\n  position: absolute;\n}\n.vc-ps-fields .vc-input__label {\n  left: 0;\n  width: 34px;\n}\n.vc-ps-fields .vc-input__desc {\n  right: 0;\n  width: 0;\n}\n.vc-ps-fields__divider {\n  height: 5px;\n}\n.vc-ps-fields__hex .vc-input__input {\n  margin-left: 20%;\n  width: 80%;\n  height: 18px;\n  border: 1px solid #888888;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC;\n  margin-bottom: 6px;\n  font-size: 13px;\n  padding-left: 3px;\n}\n.vc-ps-fields__hex .vc-input__label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 14px;\n  text-transform: uppercase;\n  font-size: 13px;\n  height: 18px;\n  line-height: 22px;\n}\n',""])},function(e,t,n){var i=n(124);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("b5380e52",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-saturation,\n.vc-saturation--white,\n.vc-saturation--black {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.vc-saturation--white {\n  background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n}\n.vc-saturation--black {\n  background: linear-gradient(to top, #000, rgba(0,0,0,0));\n}\n.vc-saturation-pointer {\n  cursor: pointer;\n  position: absolute;\n}\n.vc-saturation-circle {\n  cursor: head;\n  width: 4px;\n  height: 4px;\n  box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4);\n  border-radius: 50%;\n  transform: translate(-2px, -2px);\n}\n",""])},function(e,t){e.exports=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}},function(e,t){function i(e,t,n){function i(t){var n=d,i=u;return d=u=void 0,v=t,f=e.apply(i,n)}function a(e){var n=e-g;return void 0===g||n>=t||n<0||A&&e-v>=p}function l(){var e=x();if(a(e))return c(e);m=setTimeout(l,function(e){var n=t-(e-g);return A?b(n,p-(e-v)):n}(e))}function c(e){return m=void 0,C&&d?i(e):(d=u=void 0,f)}function h(){var e=x(),n=a(e);if(d=arguments,u=this,g=e,n){if(void 0===m)return function(e){return v=e,m=setTimeout(l,t),w?i(e):f}(g);if(A)return m=setTimeout(l,t),i(g)}return void 0===m&&(m=setTimeout(l,t)),f}var d,u,p,f,m,g,v=0,w=!1,A=!1,C=!0;if("function"!=typeof e)throw new TypeError(s);return t=o(t)||0,r(n)&&(w=!!n.leading,p=(A="maxWait"in n)?y(o(n.maxWait)||0,t):p,C="trailing"in n?!!n.trailing:C),h.cancel=function(){void 0!==m&&clearTimeout(m),v=0,d=g=u=m=void 0},h.flush=function(){return void 0===m?f:c(x())},h}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&v.call(e)==l}(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=d.test(e);return n||u.test(e)?p(e.slice(2),n?2:8):h.test(e)?a:+e}var s="Expected a function",a=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,m="object"==typeof self&&self&&self.Object===Object&&self,g=f||m||Function("return this")(),v=Object.prototype.toString,y=Math.max,b=Math.min,x=function(){return g.Date.now()};e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(s);return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"vc-saturation",style:{background:e.bgColor},on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-saturation--white"}),e._v(" "),n("div",{staticClass:"vc-saturation--black"}),e._v(" "),n("div",{staticClass:"vc-saturation-pointer",style:{top:e.pointerTop,left:e.pointerLeft}},[n("div",{staticClass:"vc-saturation-circle"})])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){var i=n(129);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("4dc1b086",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-alpha {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n}\n.vc-alpha-checkboard-wrap {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  overflow: hidden;\n}\n.vc-alpha-gradient {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n}\n.vc-alpha-container {\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  margin: 0 3px;\n}\n.vc-alpha-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.vc-alpha-picker {\n  cursor: pointer;\n  width: 4px;\n  border-radius: 1px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  margin-top: 1px;\n  transform: translateX(-2px);\n}\n",""])},function(e,t,n){var i=n(131);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("7e15c05b",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-checkerboard {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  background-size: contain;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vc-checkerboard",style:e.bgStyle})};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-alpha"},[n("div",{staticClass:"vc-alpha-checkboard-wrap"},[n("checkboard")],1),e._v(" "),n("div",{staticClass:"vc-alpha-gradient",style:{background:e.gradientColor}}),e._v(" "),n("div",{ref:"container",staticClass:"vc-alpha-container",on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-alpha-pointer",style:{left:100*e.colors.a+"%"}},[n("div",{staticClass:"vc-alpha-picker"})])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-photoshop",e.disableFields?"vc-photoshop__disable-fields":""],attrs:{role:"application","aria-label":"PhotoShop color picker"}},[n("div",{staticClass:"vc-ps-head",attrs:{role:"heading"}},[e._v(e._s(e.head))]),e._v(" "),n("div",{staticClass:"vc-ps-body"},[n("div",{staticClass:"vc-ps-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-ps-hue-wrap"},[n("hue",{attrs:{direction:"vertical"},on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}},[n("div",{staticClass:"vc-ps-hue-pointer"},[n("i",{staticClass:"vc-ps-hue-pointer--left"}),n("i",{staticClass:"vc-ps-hue-pointer--right"})])])],1),e._v(" "),n("div",{class:["vc-ps-controls",e.disableFields?"vc-ps-controls__disable-fields":""]},[n("div",{staticClass:"vc-ps-previews"},[n("div",{staticClass:"vc-ps-previews__label"},[e._v(e._s(e.newLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-previews__swatches"},[n("div",{staticClass:"vc-ps-previews__pr-color",style:{background:e.colors.hex},attrs:{"aria-label":"New color is "+e.colors.hex}}),e._v(" "),n("div",{staticClass:"vc-ps-previews__pr-color",style:{background:e.currentColor},attrs:{"aria-label":"Current color is "+e.currentColor},on:{click:e.clickCurrentColor}})]),e._v(" "),n("div",{staticClass:"vc-ps-previews__label"},[e._v(e._s(e.currentLabel))])]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-ps-actions"},[n("div",{staticClass:"vc-ps-ac-btn",attrs:{role:"button","aria-label":e.acceptLabel},on:{click:e.handleAccept}},[e._v(e._s(e.acceptLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-ac-btn",attrs:{role:"button","aria-label":e.cancelLabel},on:{click:e.handleCancel}},[e._v(e._s(e.cancelLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-fields"},[n("ed-in",{attrs:{label:"h",desc:"°",value:e.hsv.h},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"s",desc:"%",value:e.hsv.s,max:100},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"v",desc:"%",value:e.hsv.v,max:100},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-ps-fields__divider"}),e._v(" "),n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-ps-fields__divider"}),e._v(" "),n("ed-in",{staticClass:"vc-ps-fields__hex",attrs:{label:"#",value:e.hex},on:{change:e.inputChange}})],1),e._v(" "),e.hasResetButton?n("div",{staticClass:"vc-ps-ac-btn",attrs:{"aria-label":"reset"},on:{click:e.handleReset}},[e._v(e._s(e.resetLabel))]):e._e()])])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(57),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(138),a=!1,l=function(e){a||n(136)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Sketch.vue",t.default=c.exports},function(e,t,n){var i=n(137);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("612c6604",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-sketch {\n  position: relative;\n  width: 200px;\n  padding: 10px 10px 0;\n  box-sizing: initial;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, .15), 0 8px 16px rgba(0, 0, 0, .15);\n}\n.vc-sketch-saturation-wrap {\n  width: 100%;\n  padding-bottom: 75%;\n  position: relative;\n  overflow: hidden;\n}\n.vc-sketch-controls {\n  display: flex;\n}\n.vc-sketch-sliders {\n  padding: 4px 0;\n  flex: 1;\n}\n.vc-sketch-sliders .vc-hue,\n.vc-sketch-sliders .vc-alpha-gradient {\n  border-radius: 2px;\n}\n.vc-sketch-hue-wrap {\n  position: relative;\n  height: 10px;\n}\n.vc-sketch-alpha-wrap {\n  position: relative;\n  height: 10px;\n  margin-top: 4px;\n  overflow: hidden;\n}\n.vc-sketch-color-wrap {\n  width: 24px;\n  height: 24px;\n  position: relative;\n  margin-top: 4px;\n  margin-left: 4px;\n  border-radius: 3px;\n}\n.vc-sketch-active-color {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 2px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15), inset 0 0 4px rgba(0, 0, 0, .25);\n  z-index: 2;\n}\n.vc-sketch-color-wrap .vc-checkerboard {\n  background-size: auto;\n}\n.vc-sketch-field {\n  display: flex;\n  padding-top: 4px;\n}\n.vc-sketch-field .vc-input__input {\n  width: 90%;\n  padding: 4px 0 3px 10%;\n  border: none;\n  box-shadow: inset 0 0 0 1px #ccc;\n  font-size: 10px;\n}\n.vc-sketch-field .vc-input__label {\n  display: block;\n  text-align: center;\n  font-size: 11px;\n  color: #222;\n  padding-top: 3px;\n  padding-bottom: 4px;\n  text-transform: capitalize;\n}\n.vc-sketch-field--single {\n  flex: 1;\n  padding-left: 6px;\n}\n.vc-sketch-field--double {\n  flex: 2;\n}\n.vc-sketch-presets {\n  margin-right: -10px;\n  margin-left: -10px;\n  padding-left: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #eee;\n}\n.vc-sketch-presets-color {\n  border-radius: 3px;\n  overflow: hidden;\n  position: relative;\n  display: inline-block;\n  margin: 0 10px 10px 0;\n  vertical-align: top;\n  cursor: pointer;\n  width: 16px;\n  height: 16px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);\n}\n.vc-sketch-presets-color .vc-checkerboard {\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);\n  border-radius: 3px;\n}\n.vc-sketch__disable-alpha .vc-sketch-color-wrap {\n  height: 10px;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-sketch",e.disableAlpha?"vc-sketch__disable-alpha":""],attrs:{role:"application","aria-label":"Sketch color picker"}},[n("div",{staticClass:"vc-sketch-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-controls"},[n("div",{staticClass:"vc-sketch-sliders"},[n("div",{staticClass:"vc-sketch-hue-wrap"},[n("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-sketch-alpha-wrap"},[n("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)]),e._v(" "),n("div",{staticClass:"vc-sketch-color-wrap"},[n("div",{staticClass:"vc-sketch-active-color",style:{background:e.activeColor},attrs:{"aria-label":"Current color is "+e.activeColor}}),e._v(" "),n("checkboard")],1)]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-sketch-field"},[n("div",{staticClass:"vc-sketch-field--double"},[n("ed-in",{attrs:{label:"hex",value:e.hex},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{staticClass:"vc-sketch-presets",attrs:{role:"group","aria-label":"A color preset, pick one to set as current color"}},[e._l(e.presetColors,(function(t){return[e.isTransparent(t)?n("div",{key:t,staticClass:"vc-sketch-presets-color",attrs:{"aria-label":"Color:"+t},on:{click:function(n){return e.handlePreset(t)}}},[n("checkboard")],1):n("div",{key:t,staticClass:"vc-sketch-presets-color",style:{background:t},attrs:{"aria-label":"Color:"+t},on:{click:function(n){return e.handlePreset(t)}}})]}))],2)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(58),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(142),a=!1,l=function(e){a||n(140)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Chrome.vue",t.default=c.exports},function(e,t,n){var i=n(141);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("1cd16048",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-chrome {\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3);\n  box-sizing: initial;\n  width: 225px;\n  font-family: Menlo;\n  background-color: #fff;\n}\n.vc-chrome-controls {\n  display: flex;\n}\n.vc-chrome-color-wrap {\n  position: relative;\n  width: 36px;\n}\n.vc-chrome-active-color {\n  position: relative;\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  overflow: hidden;\n  z-index: 1;\n}\n.vc-chrome-color-wrap .vc-checkerboard {\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  background-size: auto;\n}\n.vc-chrome-sliders {\n  flex: 1;\n}\n.vc-chrome-fields-wrap {\n  display: flex;\n  padding-top: 16px;\n}\n.vc-chrome-fields {\n  display: flex;\n  margin-left: -6px;\n  flex: 1;\n}\n.vc-chrome-field {\n  padding-left: 6px;\n  width: 100%;\n}\n.vc-chrome-toggle-btn {\n  width: 32px;\n  text-align: right;\n  position: relative;\n}\n.vc-chrome-toggle-icon {\n  margin-right: -4px;\n  margin-top: 12px;\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n}\n.vc-chrome-toggle-icon-highlight {\n  position: absolute;\n  width: 24px;\n  height: 28px;\n  background: #eee;\n  border-radius: 4px;\n  top: 10px;\n  left: 12px;\n}\n.vc-chrome-hue-wrap {\n  position: relative;\n  height: 10px;\n  margin-bottom: 8px;\n}\n.vc-chrome-alpha-wrap {\n  position: relative;\n  height: 10px;\n}\n.vc-chrome-hue-wrap .vc-hue {\n  border-radius: 2px;\n}\n.vc-chrome-alpha-wrap .vc-alpha-gradient {\n  border-radius: 2px;\n}\n.vc-chrome-hue-wrap .vc-hue-picker, .vc-chrome-alpha-wrap .vc-alpha-picker {\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  transform: translate(-6px, -2px);\n  background-color: rgb(248, 248, 248);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n.vc-chrome-body {\n  padding: 16px 16px 12px;\n  background-color: #fff;\n}\n.vc-chrome-saturation-wrap {\n  width: 100%;\n  padding-bottom: 55%;\n  position: relative;\n  border-radius: 2px 2px 0 0;\n  overflow: hidden;\n}\n.vc-chrome-saturation-wrap .vc-saturation-circle {\n  width: 12px;\n  height: 12px;\n}\n.vc-chrome-fields .vc-input__input {\n  font-size: 11px;\n  color: #333;\n  width: 100%;\n  border-radius: 2px;\n  border: none;\n  box-shadow: inset 0 0 0 1px #dadada;\n  height: 21px;\n  text-align: center;\n}\n.vc-chrome-fields .vc-input__label {\n  text-transform: uppercase;\n  font-size: 11px;\n  line-height: 11px;\n  color: #969696;\n  text-align: center;\n  display: block;\n  margin-top: 12px;\n}\n.vc-chrome__disable-alpha .vc-chrome-active-color {\n  width: 18px;\n  height: 18px;\n}\n.vc-chrome__disable-alpha .vc-chrome-color-wrap {\n  width: 30px;\n}\n.vc-chrome__disable-alpha .vc-chrome-hue-wrap {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-chrome",e.disableAlpha?"vc-chrome__disable-alpha":""],attrs:{role:"application","aria-label":"Chrome color picker"}},[n("div",{staticClass:"vc-chrome-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-body"},[n("div",{staticClass:"vc-chrome-controls"},[n("div",{staticClass:"vc-chrome-color-wrap"},[n("div",{staticClass:"vc-chrome-active-color",style:{background:e.activeColor},attrs:{"aria-label":"current color is "+e.colors.hex}}),e._v(" "),e.disableAlpha?e._e():n("checkboard")],1),e._v(" "),n("div",{staticClass:"vc-chrome-sliders"},[n("div",{staticClass:"vc-chrome-hue-wrap"},[n("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-alpha-wrap"},[n("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)])]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-chrome-fields-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.fieldsIndex,expression:"fieldsIndex === 0"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[e.hasAlpha?e._e():n("ed-in",{attrs:{label:"hex",value:e.colors.hex},on:{change:e.inputChange}}),e._v(" "),e.hasAlpha?n("ed-in",{attrs:{label:"hex",value:e.colors.hex8},on:{change:e.inputChange}}):e._e()],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.fieldsIndex,expression:"fieldsIndex === 1"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.fieldsIndex,expression:"fieldsIndex === 2"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"h",value:e.hsl.h},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"s",value:e.hsl.s},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"l",value:e.hsl.l},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{staticClass:"vc-chrome-toggle-btn",attrs:{role:"button","aria-label":"Change another color definition"},on:{click:e.toggleViews}},[n("div",{staticClass:"vc-chrome-toggle-icon"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"},on:{mouseover:e.showHighlight,mouseenter:e.showHighlight,mouseout:e.hideHighlight}},[n("path",{attrs:{fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.highlight,expression:"highlight"}],staticClass:"vc-chrome-toggle-icon-highlight"})])])])])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(59),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(146),a=!1,l=function(e){a||n(144)},c=n(2)(r.a,s.a,!1,l,null,null);c.options.__file="src/components/Twitter.vue",t.default=c.exports},function(e,t,n){var i=n(145);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(1)("669a48a5",i,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-twitter {\n  background: #fff;\n  border: 0 solid rgba(0,0,0,0.25);\n  box-shadow: 0 1px 4px rgba(0,0,0,0.25);\n  border-radius: 4px;\n  position: relative;\n}\n.vc-twitter-triangle {\n  width: 0px;\n  height: 0px;\n  border-style: solid;\n  border-width: 0 9px 10px 9px;\n  border-color: transparent transparent #fff transparent;\n  position: absolute;\n}\n.vc-twitter-triangle-shadow {\n  width: 0px;\n  height: 0px;\n  border-style: solid;\n  border-width: 0 9px 10px 9px;\n  border-color: transparent transparent rgba(0, 0, 0, .1) transparent;\n  position: absolute;\n}\n.vc-twitter-body {\n  padding: 15px 9px 9px 15px;\n}\n.vc-twitter .vc-editable-input {\n  position: relative;\n}\n.vc-twitter .vc-editable-input input {\n  width: 100px;\n  font-size: 14px;\n  color: #666;\n  border: 0px;\n  outline: none;\n  height: 28px;\n  box-shadow: inset 0 0 0 1px #F0F0F0;\n  box-sizing: content-box;\n  border-radius: 0 4px 4px 0;\n  float: left;\n  padding: 1px;\n  padding-left: 8px;\n}\n.vc-twitter .vc-editable-input span {\n  display: none;\n}\n.vc-twitter-hash {\n  background: #F0F0F0;\n  height: 30px;\n  width: 30px;\n  border-radius: 4px 0 0 4px;\n  float: left;\n  color: #98A1A4;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.vc-twitter-swatch {\n  width: 30px;\n  height: 30px;\n  float: left;\n  border-radius: 4px;\n  margin: 0 6px 6px 0;\n  cursor: pointer;\n  position: relative;\n  outline: none;\n}\n.vc-twitter-clear {\n  clear: both;\n}\n.vc-twitter-hide-triangle .vc-twitter-triangle {\n  display: none;\n}\n.vc-twitter-hide-triangle .vc-twitter-triangle-shadow {\n  display: none;\n}\n.vc-twitter-top-left-triangle .vc-twitter-triangle{\n  top: -10px;\n  left: 12px;\n}\n.vc-twitter-top-left-triangle .vc-twitter-triangle-shadow{\n  top: -11px;\n  left: 12px;\n}\n.vc-twitter-top-right-triangle .vc-twitter-triangle{\n  top: -10px;\n  right: 12px;\n}\n.vc-twitter-top-right-triangle .vc-twitter-triangle-shadow{\n  top: -11px;\n  right: 12px;\n}\n",""])},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-twitter",class:{"vc-twitter-hide-triangle ":"hide"===e.triangle,"vc-twitter-top-left-triangle ":"top-left"===e.triangle,"vc-twitter-top-right-triangle ":"top-right"===e.triangle},style:{width:"number"==typeof e.width?e.width+"px":e.width}},[n("div",{staticClass:"vc-twitter-triangle-shadow"}),e._v(" "),n("div",{staticClass:"vc-twitter-triangle"}),e._v(" "),n("div",{staticClass:"vc-twitter-body"},[e._l(e.defaultColors,(function(t,i){return n("span",{key:i,staticClass:"vc-twitter-swatch",style:{background:t,boxShadow:"0 0 4px "+(e.equal(t)?t:"transparent")},on:{click:function(n){return e.handlerClick(t)}}})})),e._v(" "),n("div",{staticClass:"vc-twitter-hash"},[e._v("#")]),e._v(" "),n("editable-input",{attrs:{label:"#",value:e.hex},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-twitter-clear"})],2)])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};t.a=r}])},8063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"dropdown-container",class:{inline:e.inline,borderless:e.borderless}},[n("div",{staticClass:"dropdown-click-area",class:{"hover-effect":e.hoverEffect&&!e.disabled},style:e.dropwonClickAreaStyle,on:{click:e.toggleDropdown}},[null===e.value?e._t("default"):n("div",[e.selectedOption?n("div",[e.selectedOption.iconClass?n("i",{class:e.selectedOption.iconClass}):e._e(),e._v(" "),n("span",{style:e.selectedOption.style||{}},[e._v(" "+e._s(e.selectedOption.name)+" ")])]):n("span",[e._v("Unknown Value")])])],2),e._v(" "),e.shown?n("div",{ref:"dropdownPopup",staticClass:"dropdown-popup",style:{top:e.y+"px",left:e.x+"px","max-width":e.maxWidth+"px"}},[e.searchEnabled?n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKeyword,expression:"searchKeyword"}],ref:"searchTextfield",staticClass:"dropdown-search",attrs:{placeholder:"Search...","data-input-type":"dropdown-search"},domProps:{value:e.searchKeyword},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelPopup()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterDown()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onKeyArrowDown()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onKeyArrowUp()}],input:function(t){t.target.composing||(e.searchKeyword=t.target.value)}}}):e._e(),e._v(" "),n("div",{style:{"max-width":e.maxWidth+"px","max-height":e.maxHeight+"px",overflow:"auto"}},[n("ul",{staticClass:"__options"},e._l(e.filteredOptions,(function(t,i){return n("li",{class:{hovered:i===e.hoveredOption.idx},on:{click:function(n){return e.onOptionClicked(t)},mouseover:function(n){return e.onOptionMouseOver(t,i)},mouseleave:function(t){return e.onOptionMouseLeave()}}},[t.iconClass?n("i",{class:t.iconClass}):e._e(),e._v(" "),t.html?n("div",{domProps:{innerHTML:e._s(t.html)}}):n("span",{style:t.style||{}},[e._v(" "+e._s(t.name)+" ")])])})),0)])]):e._e(),e._v(" "),e.shown&&e.hoveredOption.shown?n("div",{staticClass:"dropdown-option-tooltip",style:{top:e.hoveredOption.y+"px",left:e.hoveredOption.x+"px",width:e.hoveredOption.w+"px",height:e.hoveredOption.h+"px"}},[n("h3",[e.hoveredOption.iconClass?n("i",{class:e.hoveredOption.iconClass}):e._e(),e._v("\n            "+e._s(e.hoveredOption.title)+"\n        ")]),e._v("\n        "+e._s(e.hoveredOption.text)+"\n    ")]):e._e()])};i._withStripped=!0;var r=n(6234);const o={props:{options:{type:Array,required:!0},value:{type:String,default:null},hoverEffect:{type:Boolean,default:!0},searchEnabled:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},autoFocusSearch:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},width:{type:Number,default:0},borderless:{type:Boolean,default:!1}},mounted(){document.body.addEventListener("click",this.onBodyClick),document.body.addEventListener("keydown",this.onGlobalKeydown)},beforeDestroy(){document.body.removeEventListener("click",this.onBodyClick),document.body.removeEventListener("keydown",this.onGlobalKeydown)},data(){let e=null;return this.value&&(e=(0,r.sE)(this.options,(e=>e.name===this.value))),{shown:!1,lastTimeClicked:0,searchKeyword:"",x:0,y:0,maxHeight:300,searchTextfieldHeight:30,maxWidth:400,elementRect:null,selectedOption:e,isAbove:!1,filteredOptions:[],hoveredOption:{shown:!1,title:"",text:"",x:0,y:0,w:200,h:200,idx:-1}}},methods:{updateFilteredOptions(){this.hoveredOption.idx=-1,this.filteredOptions=this.filterOptions()},filterOptions(){return(0,r.hX)(this.options,(e=>e.name.toLowerCase().indexOf(this.searchKeyword.toLowerCase())>=0))},onKeyArrowDown(){this.hoveredOption.idx=Math.min(this.hoveredOption.idx+1,this.filteredOptions.length),this.toggleHoverOptionByKeyboard()},onKeyArrowUp(){this.hoveredOption.idx=Math.max(0,this.hoveredOption.idx-1),this.toggleHoverOptionByKeyboard()},toggleHoverOptionByKeyboard(){if(this.hoveredOption.idx>=0&&this.hoveredOption.idx<this.filteredOptions.length){this.toggleHoverOption(this.filteredOptions[this.hoveredOption.idx]);const e=this.$refs.container.querySelectorAll("ul.__options li");e&&this.hoveredOption.idx>=0&&this.hoveredOption.idx<e.length&&e[this.hoveredOption.idx].scrollIntoView()}},toggleDropdown(e){if(this.updateFilteredOptions(),this.searchKeyword="",this.disabled)return;const t=this.$refs.container.getBoundingClientRect();this.elementRect=t,this.lastTimeClicked=(new Date).getTime(),this.shown=!this.shown,this.shown?(this.emitToggled(),this.$nextTick((()=>{this.readjustDropdownPopup(),this.$refs.searchTextfield&&this.autoFocusSearch&&this.$refs.searchTextfield.focus()}))):this.emitHidden()},emitToggled(){this.$emit("dropdown-toggled")},emitHidden(){this.$emit("dropdown-hidden")},readjustDropdownPopup(){const e=this.$refs.dropdownPopup;if(!e||!this.elementRect)return;const t=e.getBoundingClientRect().width,n=e.getBoundingClientRect().height;let i=Math.max(0,this.elementRect.x),r=Math.max(0,this.elementRect.bottom),o=i+t,s=r+n+this.searchTextfieldHeight;o>window.innerWidth?this.x=i+window.innerWidth-o:this.x=i,s>window.innerHeight?window.innerHeight-r-this.searchTextfieldHeight>r?(this.y=r,this.maxHeight=window.innerHeight-r-this.searchTextfieldHeight,this.isAbove=!1):(this.y=Math.max(5,r-n-this.elementRect.height),this.maxHeight=Math.max(100,Math.min(300,r-this.y-this.searchTextfieldHeight-5)),this.isAbove=!0):(this.y=r,this.isAbove=!1)},updateYPosition(){if(!this.isAbove)return;const e=this.$refs.dropdownPopup.getBoundingClientRect().height,t=this.$refs.container.getBoundingClientRect().y;this.y=Math.max(5,t-e)},onOptionClicked(e){this.$emit("selected",e)},onBodyClick(e){if(!0===this.shown&&(new Date).getTime()-this.lastTimeClicked>200){if(e.srcElement&&"dropdown-search"===e.srcElement.getAttribute("data-input-type"))return;this.cancelPopup()}},onGlobalKeydown(e){if(!0===this.shown&&(new Date).getTime()-this.lastTimeClicked>200){if(e.srcElement&&"dropdown-search"===e.srcElement.getAttribute("data-input-type"))return;this.cancelPopup()}},cancelPopup(){this.shown&&this.emitHidden(),this.shown=!1},onEnterDown(){this.hoveredOption.idx>=0&&this.hoveredOption.idx<this.filteredOptions.length?this.onOptionClicked(this.filteredOptions[this.hoveredOption.idx]):this.filteredOptions.length>0&&this.onOptionClicked(this.filteredOptions[0]),this.cancelPopup()},onOptionMouseOver(e,t){this.hoveredOption.idx=t,this.toggleHoverOption(e)},toggleHoverOption(e){if(e.description){if(this.hoveredOption.title!==e.name||!this.hoveredOption.shown){this.hoveredOption.shown=!0,this.hoveredOption.title=e.name,this.hoveredOption.iconClass=e.iconClass,this.hoveredOption.text=e.description;const t=this.$refs.dropdownPopup;if(t){const e=t.getBoundingClientRect();let n=e.left-this.hoveredOption.w,i=e.top;n<0&&(n=e.right);let r=i+this.hoveredOption.h-window.innerHeight;r>0&&(i-=r),this.hoveredOption.x=n,this.hoveredOption.y=i}}}else this.hoveredOption.shown=!1},onOptionMouseLeave(){this.hoveredOption.shown=!1}},computed:{dropwonClickAreaStyle(){const e={};return this.inline&&this.width>0&&(e["min-width"]=`${this.width}px`),e}},watch:{value(e){this.selectedOption=(0,r.sE)(this.options,(t=>t.name===e))},searchKeyword(){this.updateFilteredOptions(),this.$nextTick((()=>{this.updateYPosition()}))}}},s=(0,n(1900).Z)(o,i,[],!1,null,null,null).exports},5018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.useMask?n("div",{staticClass:"modal-mask"}):e._e(),e._v(" "),n("div",{ref:"modalContainer",staticClass:"modal-container",style:{width:e.actualWidth+"px",top:e.y+"px",left:e.x+"px"}},[e.showHeader?n("div",{staticClass:"modal-header",class:{dragging:e.dragging},on:{touchstart:e.initModalDrag,mousedown:e.initModalDrag}},[n("h3",[e._v(e._s(e.title))]),e._v(" "),e.closable?n("span",{staticClass:"modal-close",on:{click:function(t){return e.$emit("close")}}},[n("i",{staticClass:"fas fa-times"})]):e._e()]):e._e(),e._v(" "),n("div",{staticClass:"modal-body",style:e.modalBodyStyles},[e._t("default")],2),e._v(" "),e.showFooter?n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"modal-controls"},[e.primaryButton?n("span",{staticClass:"btn btn-primary",class:{disabled:e.primaryButtonDisabled},on:{click:function(t){return e.$emit("primary-submit")}}},[e._v(e._s(e.primaryButton))]):e._e(),e._v(" "),e.extraButton?n("span",{class:"btn "+e.extraButtonStyle,on:{click:function(t){return e.$emit("extra-submit")}}},[e._v(e._s(e.extraButton))]):e._e(),e._v(" "),e.secondaryButton?n("span",{class:"btn "+e.secondaryButtonStyle,on:{click:function(t){return e.$emit("secondary-submit")}}},[e._v(e._s(e.secondaryButton))]):e.closable?n("span",{staticClass:"btn btn-secondary",on:{click:function(t){return e.$emit("close")}}},[e._v(e._s(e.closeName))]):e._e()])]):e._e()])])};i._withStripped=!0;var r=n(1068);function o(e,t,n,i){return e+t<i?i-t:n-e<i?n-i:e}const s=50,a={},l={props:{title:{type:String,default:""},width:{type:Number,default:600},maxWidth:{type:Number,default:0},maxHeight:{type:Number,default:0},stretchWidth:{type:Boolean,default:!1},primaryButton:{type:String,default:null},primaryButtonDisabled:{type:Boolean,default:!1},secondaryButton:{type:String,default:null},secondaryButtonStyle:{type:String,default:"btn-secondary"},extraButton:{type:String,default:null},extraButtonStyle:{type:String,default:"btn-secondary"},useMask:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},closeName:{type:String,default:"Close"},repositionId:{type:Number,default:0}},beforeMount(){this.stretchWidth&&(this.actualWidth=window.innerWidth-80,this.maxWidth>0&&(this.actualWidth=Math.min(this.actualWidth,this.maxWidth))),document.addEventListener("keydown",this.onKeyPress)},mounted(){const e=this.$refs.modalContainer.getBoundingClientRect();let t=(window.innerWidth-e.width)/2,n=(window.innerHeight-e.height)/2;const i=a[this.title];i&&(t=i.x,n=i.y),this.x=o(t,e.width,window.innerWidth,s),this.y=o(n,40,window.innerHeight,s)},beforeDestroy(){document.removeEventListener("keydown",this.onKeyPress)},data(){return{x:100,y:100,actualWidth:Math.min(this.width,window.innerWidth-20),dragging:!1}},methods:{onKeyPress(e){if("Escape"===e.key){if(e.target.classList.contains("script-editor"))return;this.$emit("close")}},initModalDrag(e){let t=this.x,n=this.y;const i=this.$refs.modalContainer.getBoundingClientRect();(0,r.E)(e).onDragStart((()=>{this.dragging=!0})).onDrag(((e,r,l,c,h)=>{const d=r-c,u=l-h;this.x=o(t+d,i.width,window.innerWidth,s),this.y=o(n+u,40,window.innerHeight,s),a[this.title]={x:this.x,y:this.y}})).onDone((()=>{this.dragging=!1})).build()},repositionModal(){const e=this.$refs.modalContainer.getBoundingClientRect();if(e.right>window.innerWidth){const t=e.left-e.right+window.innerWidth;this.x=o(t,e.width,window.innerWidth,s)}if(e.bottom>window.innerHeight){const t=e.top-e.bottom+window.innerHeight;this.y=o(t,40,window.innerHeight,s)}}},computed:{modalBodyStyles(){const e={};return this.maxHeight>0?e["max-height"]=`${Math.min(this.maxHeight,window.innerHeight-120)}px`:e["max-height"]=window.innerHeight-120+"px",e}},watch:{repositionId(){this.$nextTick((()=>{this.repositionModal()}))}}},c=(0,n(1900).Z)(l,i,[],!1,null,null,null).exports},9240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"number-textfield-container",class:{disabled:e.disabled}},[e.name?n("div",{ref:"label",staticClass:"label",on:{click:e.onLabelClicked}},[e._v(e._s(e.name))]):e._e(),e._v(" "),!e.name&&e.icon?n("div",{ref:"icon",staticClass:"label"},[n("i",{class:e.icon})]):e._e(),e._v(" "),n("div",{staticClass:"wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"textfield",attrs:{type:"text",disabled:e.disabled},domProps:{value:e.text},on:{blur:e.submitEvent,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitEvent.apply(null,arguments)},input:function(t){t.target.composing||(e.text=t.target.value)}}}),e._v(" "),n("div",{staticClass:"step-controls"},[n("span",{staticClass:"step step-up",on:{click:function(t){return e.onStepClicked(1)},mousedown:e.onMouseDownIncrement}},[n("i",{staticClass:"fas fa-caret-up"})]),e._v(" "),n("span",{staticClass:"step step-down",on:{click:function(t){return e.onStepClicked(-1)},mousedown:e.onMouseDownDecrement}},[n("i",{staticClass:"fas fa-caret-down"})])])])])};i._withStripped=!0;var r=n(3590);function o(e){if(e%1==0)return""+e;let t="";return t=Math.floor(Math.abs(e))>0?""+r.Z.roundPrecise(e,3):""+r.Z.roundPrecise(e,4),t}const s={props:{value:[Number,String,Object],format:{type:String,default:"float"},name:{type:String,default:null},icon:{type:String,default:null},min:{type:Number,default:null},max:{type:Number,default:null},disabled:{type:Boolean,default:!1},incrementSpeed:{type:Number,default:1},incrementMaxSpeed:{type:Number,default:50},incrementAcceleration:{type:Number,default:.15}},beforeDestroy(){document.body.removeEventListener("mouseup",this.onMouseUp)},data(){return{text:o(this.value),number:this.value,autoIncrementDelayTimeoutId:-1,autoIncrementDirection:1,autoIncrementInitDelay:300,autoIncrementDelay:50,autoIncrementIntervalId:-1,autoIncrementSpeed:this.incrementSpeed,autoIncrementMaxSpeed:this.incrementMaxSpeed,autoIncrementAcceleration:this.incrementAcceleration}},methods:{onLabelClicked(){this.$refs.textfield.focus()},textToFloat(e){const t=parseFloat(e.replace(/[^\d.-]/g,""));return isFinite(t)?t:0},textToInt(e){const t=parseInt(e.replace(/[^\d-]/g,""));return isFinite(t)?t:0},textToNumber(e){return e=""+e,"float"===this.format?this.textToFloat(e):this.textToInt(e)},submitEvent(){this.number=this.enforceLimits(this.textToNumber(this.text)),this.$emit("changed",this.number)},onStepClicked(e){if(this.disabled)return;let t=this.textToNumber(this.text);t+=e,this.number=this.enforceLimits(t),this.$emit("changed",this.number),this.text=""+this.number},enforceLimits(e){return null!==this.min&&e<this.min?this.min:null!==this.max&&e>this.max?this.max:e},onMouseDownIncrement(e){this.onMouseDown(e,1)},onMouseDownDecrement(e){this.onMouseDown(e,-1)},onMouseDown(e,t){this.autoIncrementDirection=t,this.autoIncrementDelayTimeoutId&&clearTimeout(this.autoIncrementDelayTimeoutId),this.autoIncrementDelayTimeoutId=setTimeout((()=>{this.initAutoIncrement()}),this.autoIncrementInitDelay),document.body.addEventListener("mouseup",this.onMouseUp)},onMouseUp(){document.body.removeEventListener("mouseup",this.onMouseUp),this.autoIncrementIntervalId&&(clearInterval(this.autoIncrementIntervalId),this.autoIncrementIntervalId=-1),this.autoIncrementDelayTimeoutId&&(clearTimeout(this.autoIncrementDelayTimeoutId),this.autoIncrementDelayTimeoutId=-1)},initAutoIncrement(){this.autoIncrementSpeed=this.incrementSpeed,this.number=this.textToNumber(this.text),this.autoIncrementIntervalId=setInterval((()=>{this.number=this.enforceLimits(this.number+this.autoIncrementDirection*Math.floor(this.autoIncrementSpeed)),this.text=""+this.number,this.$emit("changed",this.number),this.autoIncrementSpeed<this.autoIncrementMaxSpeed&&(this.autoIncrementSpeed+=this.autoIncrementAcceleration)}),this.autoIncrementDelay)}},watch:{value(e){this.text=o(e)}}},a=(0,n(1900).Z)(s,i,[],!1,null,null,null).exports},4628:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tooltip",class:{disabled:e.disabled},on:{mouseover:e.onMouseOver}},[n("i",{staticClass:"tooltip-icon fas fa-info-circle"}),e._v(" "),e.disabled?e._e():n("div",{staticClass:"tooltip-wrapper",style:{left:e.x+"px",top:e.y+"px"},attrs:{id:"tooltip-wrapper-"+e.id}},[n("div",{staticClass:"tooltip-text"},[e._t("default")],2)])])};i._withStripped=!0;var r=n(4670),o=n.n(r);const s={props:{disabled:{type:Boolean,default:!1}},data:()=>({id:o().generate(),x:0,y:0}),methods:{onMouseOver(e){this.x=e.x+10;let t=e.y+20;const n=document.getElementById(`tooltip-wrapper-${this.id}`);if(n){const i=n.getBoundingClientRect();i.height+t>window.innerHeight&&(t=e.y-i.height)}this.y=t}}},a=(0,n(1900).Z)(s,i,[],!1,null,null,null).exports},18:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"advanced-color-editor",class:{disabled:e.disabled},style:{width:e.width,height:e.height}},[e.color.type&&"none"!==e.color.type?e._e():n("span",{staticClass:"none-picker-toggle-button",on:{click:function(t){return e.showModal()}}}),e._v(" "),"solid"===e.color.type?n("span",{staticClass:"color-picker-toggle-button",style:{background:e.color.color},on:{click:function(t){return e.showModal()}}}):e._e(),e._v(" "),"image"===e.color.type?n("div",{staticClass:"image-container",on:{click:function(t){return e.showModal()}}},[n("img",{attrs:{src:e.color.image}})]):e._e(),e._v(" "),"gradient"===e.color.type?n("div",{staticClass:"gradient-container",style:{background:e.gradientPreview},on:{click:function(t){return e.showModal()}}}):e._e(),e._v(" "),e.modal.shown?n("modal",{attrs:{title:"Color",width:400,"use-mask":!1},on:{close:function(t){e.modal.shown=!1}}},[n("ul",{staticClass:"tabs"},e._l(e.colorTypes,(function(t){return n("li",[n("span",{staticClass:"tab",class:{active:e.color.type===t},on:{click:function(n){return e.selectColorType(t)}}},[e._v("\n                    "+e._s(t)+"\n                ")])])})),0),e._v(" "),n("div",{staticClass:"tabs-body",staticStyle:{"min-height":"320px"}},["none"===e.color.type?n("div",[n("p",[e._v("\n                    This setting disables the fill\n                ")])]):e._e(),e._v(" "),"solid"===e.color.type?n("div",[n("color-picker",{attrs:{palette:[],pressets:[]},on:{input:e.updateSolidColor},model:{value:e.modal.pickerColor,callback:function(t){e.$set(e.modal,"pickerColor",t)},expression:"modal.pickerColor"}})],1):e._e(),e._v(" "),"image"===e.color.type?n("div",[n("div",{staticClass:"image-control"},[n("input",{staticClass:"textfield",attrs:{placeholder:"Image URL..."},domProps:{value:e.modal.image.path},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onImagePathChange.apply(null,arguments)},blur:e.onImagePathChange}}),e._v(" "),e.isUploadEnabled?n("div",{staticClass:"file-upload-button"},[n("i",{staticClass:"fas fa-file-upload icon"}),e._v(" "),n("input",{attrs:{type:"file",accept:"image/*"},on:{change:e.onImageUpload}})]):e._e()]),e._v(" "),n("div",{staticClass:"ctrl-group"},[n("input",{attrs:{type:"checkbox",id:"image-stretch-"+e.id},domProps:{checked:e.color.stretch||!1},on:{input:e.onImageStretchChange}}),n("label",{attrs:{for:"image-stretch-"+e.id}},[e._v(" Stretch")])]),e._v(" "),e.isUploading?n("div",{staticClass:"msg msg-info"},[n("i",{staticClass:"fas fa-spinner fa-spin"}),e._v(" Uploading...\n                ")]):e._e(),e._v(" "),e.uploadErrorMessage?n("div",{staticClass:"msg msg-error"},[e._v(e._s(e.uploadErrorMessage))]):e._e(),e._v(" "),"image"===e.color.type&&e.color.image?n("img",{staticStyle:{"max-width":"360px","max-height":"360px"},attrs:{src:e.color.image}}):e._e()]):e._e(),e._v(" "),"gradient"===e.color.type?n("div",[n("div",{ref:"gradientSliderContainer",staticClass:"gradient-slider-container text-nonselectable"},[n("div",{staticClass:"gradient-container large",style:{background:e.gradientPreview},on:{dblclick:e.onGradientContainerDblClick}}),e._v(" "),e._l(e.color.gradient.colors,(function(t,i){return n("div",{staticClass:"gradient-slider",style:{left:t.p+"%"}},[n("div",{staticClass:"gradient-slider-knob",class:{selected:i===e.gradient.selectedSliderIdx},style:{background:t.c},on:{mousedown:function(t){return e.onGradientSliderKnobClick(i,arguments[0])},dblclick:function(t){return e.onGradientSliderKnobDblClick(i)}}})])}))],2),e._v(" "),n("div",{staticClass:"gradient-controls"},[n("div",{staticClass:"ctrl-group"},[n("div",{staticClass:"ctrl-label"},[e._v("Gradient Type")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.color.gradient.type,expression:"color.gradient.type"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.color.gradient,"type",t.target.multiple?n:n[0])},e.onGradientTypeChange]}},[n("option",{attrs:{value:"linear"}},[e._v("Linear")]),e._v(" "),n("option",{attrs:{value:"radial"}},[e._v("Radial")])])]),e._v(" "),"linear"===e.color.gradient.type?n("div",{staticClass:"ctrl-group"},[n("div",{staticClass:"ctrl-label"},[e._v("Direction")]),e._v(" "),n("number-textfield",{attrs:{value:e.color.gradient.direction},on:{changed:function(t){e.color.gradient.direction=arguments[0],e.emitChange()}}})],1):e._e(),e._v(" "),n("div",{staticClass:"ctrl-group"},[n("span",{staticClass:"btn btn-secondary",on:{click:e.invertGradient}},[e._v("Invert")])])]),e._v(" "),n("div",{staticClass:"gradient-color-picker"},[n("color-picker",{key:"gradient-"+e.id+"-"+e.gradient.selectedSliderIdx+"-"+e.revision,attrs:{value:e.gradient.selectedColor},on:{input:e.updateGradientSliderColor}})],1)]):e._e()])]):e._e()],1)};i._withStripped=!0;var r=n(4670),o=n.n(r),s=n(4023),a=n.n(s),l=n(5018),c=n(9240),h=n(6012),d=n(520),u=n(4925),p=n(3590);const f={props:{editorId:{type:String,required:!0},value:{type:Object,required:!0},width:{type:String,default:"100%"},height:{type:String,default:"26px"},disabled:{type:Boolean,default:!1}},components:{"color-picker":a().Chrome,Modal:l.Z,NumberTextfield:c.Z},beforeMount(){this.updateCurrentColor(this.value)},mounted(){document.body.addEventListener("mousemove",this.onMouseMove),document.body.addEventListener("mouseup",this.onMouseUp)},beforeDestroy(){document.body.removeEventListener("mousemove",this.onMouseMove),document.body.addEventListener("mouseup",this.onMouseUp)},data(){return{id:o().generate(),revision:0,colorTypes:["none","solid","image","gradient"],color:d.Z.clone(this.value),modal:{shown:!1,pickerColor:{hex:this.value.color||"#fff"},image:{path:this.value.image||""}},gradient:{selectedSliderIdx:0,isDragging:!1,selectedColor:{hex:"#fff"},originalClickPoint:{x:0},originalKnobPosition:0},gradientPreview:"",isUploading:!1,uploadErrorMessage:null}},watch:{value(e){this.updateCurrentColor(e)}},methods:{showModal(){this.disabled||(this.modal.shown=!0)},updateCurrentColor(e){"gradient"===e.type&&(this.gradient.selectedColor.hex=e.gradient.colors[this.gradient.selectedSliderIdx].c,this.gradientPreview=this.computeGradientPreview(e.gradient)),this.color=d.Z.clone(e),this.modal.pickerColor={hex:e.color||"#fff"},"image"===this.color.type&&(this.modal.image.path=this.color.image),this.image={path:e.image||""}},onImageStretchChange(e){this.color.stretch=e.target.checked,this.emitChange()},onGradientTypeChange(){this.emitChange(),this.$forceUpdate()},emitChange(){this.$emit("changed",d.Z.clone(this.color))},updateSolidColor(e){this.color.color=`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${e.rgba.a})`,this.emitChange()},selectColorType(e){if(this.color.type=e,"image"!==e||this.color.image||(this.color.image="",this.color.stretch=!1,this.color.imageBox={x:0,y:0,w:1,h:1}),"solid"!==e||this.color.color||(this.color.color="rgba(255,255,255,1.0)"),"gradient"===e&&!this.color.gradient){let e="rgba(0,0,0,1.0)",t="rgba(255,255,255,1.0)";this.color.color&&(e=this.color.color,t=this.color.color),this.color.gradient={colors:[{c:e,p:0},{c:t,p:100}],type:"linear",direction:0},this.gradientPreview=this.computeGradientPreview(this.color.gradient)}this.emitChange()},onImagePathChange(e){this.color.image=e.target.value,this.emitChange()},onImageUpload(e){if(!this.$store.state.apiClient||!this.$store.state.apiClient.uploadFile)return;const t=e.target.files[0];t&&(this.isUploading=!0,this.uploadErrorMessage=null,this.$store.state.apiClient.uploadFile(t).then((e=>{this.isUploading=!1,this.color.image=e,this.modal.image.path=e,this.emitChange()})).catch((e=>{this.isUploading=!1,this.uploadErrorMessage="Failed to upload image",e.data&&e.data.message&&u.Z.addErrorSystemMessage(this.$store,e.data.message)})))},onMouseUp(e){this.gradient.isDragging&&"gradient"===this.color.type&&(this.gradient.isDragging=!1,this.color.gradient.colors.sort(((e,t)=>e.p-t.p)))},onMouseMove(e){if(this.gradient.isDragging){if(0===e.buttons)return void(this.gradient.isDragging=!1);const t=e.clientX,n=this.$refs.gradientSliderContainer.getBoundingClientRect();let i=0;i=t<n.left?0:t>n.right?100:Math.round(1e4*(t-n.left)/n.width)/100,this.color.gradient.colors[this.gradient.selectedSliderIdx].p=i,this.gradientPreview=this.computeGradientPreview(this.color.gradient),this.$forceUpdate(),this.emitChange()}},onGradientContainerDblClick(e){const t=e.clientX,n=this.$refs.gradientSliderContainer.getBoundingClientRect();if(t<n.left||t>n.right)return;const i=Math.round(1e4*(t-n.left)/n.width)/100;this.color.gradient.colors.sort(((e,t)=>e.p-t.p));let r=0,o=!1;for(let e=0;e<this.color.gradient.colors.length&&!o;e++)i>this.color.gradient.colors[e].p?r=e+1:(r=e,o=!0);this.color.gradient.colors.splice(r,0,{c:"rgba(0,0,0,1.0)",p:i}),0===r&&this.color.gradient.colors.length>1?this.color.gradient.colors[0].c=this.color.gradient.colors[1].c:r===this.color.gradient.colors.length-1&&this.color.gradient.colors.length>1?this.color.gradient.colors[r].c=this.color.gradient.colors[r-1].c:this.color.gradient.colors.length>2&&(this.color.gradient.colors[r].c=function(e,t,n){let i=n.p-t.p;if(Math.abs(i)<.001)return t.c;let r=Math.max(0,Math.min((e.p-t.p)/i,1));const o=(0,h.lu)(t.c),s=(0,h.lu)(n.c),a=Math.max(0,Math.min(Math.round(o.r*(1-r)+s.r*r),255)),l=Math.max(0,Math.min(Math.round(o.g*(1-r)+s.g*r),255)),c=Math.max(0,Math.min(Math.round(o.b*(1-r)+s.b*r),255)),d=Math.max(0,Math.min(Math.round(o.a*(1-r)+s.a*r),1));return(0,h.N_)({r:a,g:l,b:c,a:d})}(this.color.gradient.colors[r],this.color.gradient.colors[r-1],this.color.gradient.colors[r+1])),this.gradient.selectedSliderIdx=r,this.gradient.selectedColor.hex=this.color.gradient.colors[r].c,this.revision+=1,this.gradient.isDragging=!1,this.gradientPreview=this.computeGradientPreview(this.color.gradient),this.emitChange()},onGradientSliderKnobClick(e,t){this.gradient.isDragging=!0,this.gradient.originalClickPoint.x=t.clientX,this.gradient.selectedColor.hex=this.color.gradient.colors[e].c,this.gradient.selectedSliderIdx=e,this.gradient.originalKnobPosition=this.color.gradient.colors[e].p},onGradientSliderKnobDblClick(e){this.color.gradient.colors.length>2&&(this.color.gradient.colors.splice(e,1),e>0&&(e-=1),this.color.gradient.selectedColor=this.color.gradient.colors[e].c,this.revision+=1,this.gradientPreview=this.computeGradientPreview(this.color.gradient),this.emitChange())},updateGradientSliderColor(e){this.color.gradient.colors[this.gradient.selectedSliderIdx].c=`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${e.rgba.a})`,this.gradientPreview=this.computeGradientPreview(this.color.gradient),this.emitChange()},invertGradient(){this.color.gradient.colors.reverse();for(let e=0;e<this.color.gradient.colors.length;e++)this.color.gradient.colors[e].p=p.Z.clamp(100-this.color.gradient.colors[e].p,0,100);this.gradientPreview=this.computeGradientPreview(this.color.gradient),this.emitChange()},computeGradientPreview(e){let t="linear-gradient(90deg, ",n=e.colors,i=!1;for(let e=0;e<n.length-1;e++)n[e].p>n[e+1].p&&(i=!0);i&&(n=e.colors.slice(),n.sort(((e,t)=>e.p-t.p)));for(let e=0;e<n.length;e++)e>0&&(t+=", "),t+=`${n[e].c} ${n[e].p}%`;return t+=")",t}},computed:{isUploadEnabled(){return this.$store.state.apiClient&&this.$store.state.apiClient.uploadFile}}},m=f,g=(0,n(1900).Z)(m,i,[],!1,null,null,null).exports},7455:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"color-picker",class:["color-picker-uid-"+e.uid],style:{width:e.width,"min-width":e.width,height:e.height},attrs:{title:e.hint}},[n("div",{ref:"toggleButton",staticClass:"color-picker-toggle-button",class:{disabled:e.disabled}},[n("span",{staticClass:"color-picker-toggle-button-background"}),e._v(" "),n("span",{staticClass:"color-picker-toggle-button-fill",style:e.cssStyle,on:{click:function(t){return e.toggleColorPicker()}}})]),e._v(" "),e.tooltip.shown?n("div",{ref:"tooltip",staticClass:"color-picker-tooltip",style:{left:e.tooltip.x+"px",top:e.tooltip.y+"px"}},[n("color-picker",{on:{input:e.updateColor},model:{value:e.vuePickerColor,callback:function(t){e.vuePickerColor=t},expression:"vuePickerColor"}})],1):e._e()])};i._withStripped=!0;var r=n(4670),o=n.n(r),s=n(4023),a=n.n(s),l=n(8595);const c={props:{editorId:{type:String,required:!1},color:{type:String,default:"rgba(0,0,0,1.0)"},width:{type:String,default:"100%"},height:{type:String,default:"26px"},hollow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hint:{type:String,default:""}},components:{"color-picker":a().Chrome},beforeMount(){document.body.addEventListener("click",this.onGlobalClick)},beforeDestroy(){document.body.removeEventListener("click",this.onGlobalClick),l.Z.colorControlToggled.$emit(this.editorId,!1)},data(){return{uid:o().generate(),pickerColor:this.color,vuePickerColor:{hex:this.color},showColorPicker:!1,tooltip:{shown:!1,x:0,y:0},oldColor:null,oldAlpha:1}},methods:{toggleColorPicker(){if(!this.disabled){if(this.tooltip.shown)return l.Z.colorControlToggled.$emit(this.editorId,!1),void(this.tooltip.shown=!1);this.oldColor=this.color,this.vuePickerColor={hex:this.color},this.tooltip.shown=!0,l.Z.colorControlToggled.$emit(this.editorId,!0),this.$nextTick((()=>{this.readjustTooltipPosition()}))}},updateColor(e){this.pickerColor=e.hex,this.$emit("input",`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${e.rgba.a})`)},readjustTooltipPosition(){const e=this.$refs.tooltip,t=this.$refs.toggleButton;if(!e||!t)return;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=window.innerWidth,o=window.innerHeight;let s=0,a=0;s=i.left<r/2?i.right:i.left-n.width,a=i.top<o/2?i.top:i.bottom-n.height,s+n.width>window.innerWidth&&(s-=s+n.width-window.innerWidth),s=Math.max(0,s),a+n.height>window.innerHeight&&(a-=a+n.height-window.innerHeight),a=Math.max(60,a),this.tooltip.x=s,this.tooltip.y=a},onGlobalClick(e){!this.tooltip.shown||e.target&&e.target.closest(`.color-picker-uid-${this.uid}`)||(l.Z.colorControlToggled.$emit(this.editorId,!1),this.tooltip.shown=!1)}},watch:{color(e){this.pickerColor=e,this.vuePickerColor.hex=e,this.$forceUpdate()}},computed:{cssStyle(){return this.hollow?{background:"none",border:`2px solid ${this.pickerColor}`}:{background:this.pickerColor,border:`2px solid ${this.pickerColor}`}}}},h=(0,n(1900).Z)(c,i,[],!1,null,null,null).exports},7502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"script-editor-container"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.script,expression:"script"}],staticClass:"script-editor",style:{height:e.height+"px"},attrs:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},domProps:{value:e.script},on:{input:[function(t){t.target.composing||(e.script=t.target.value)},function(t){return e.$emit("changed",arguments[0].target.value)}],keydown:e.onTextareaKeydown}}),e._v(" "),n("span",{staticClass:"text-editor-enlarge",on:{click:function(t){e.enlarged=!0}}},[n("i",{staticClass:"fas fa-expand"})]),e._v(" "),e.enlarged?n("div",{staticClass:"textarea-enlarged-container"},[n("div",{staticClass:"rich-text-editor-menubar"},[n("span",{staticClass:"btn btn-secondary action-close",on:{click:function(t){e.enlarged=!1}}},[e._v("Close")])]),e._v(" "),n("div",{staticClass:"editor-frame"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.script,expression:"script"}],staticClass:"script-editor",domProps:{value:e.script},on:{input:[function(t){t.target.composing||(e.script=t.target.value)},function(t){return e.$emit("changed",arguments[0].target.value)}],keydown:e.onTextareaKeydown}})])]):e._e()])};i._withStripped=!0;const r={props:{value:{type:String,default:""},height:{type:Number,default:400}},data(){return{enlarged:!1,script:this.value}},methods:{onTextareaKeydown(e){!function(e,t){if("Tab"===t.key){t.preventDefault();const{selectionStart:n,selectionEnd:i}=e;t.shiftKey?function(e){const{value:t,selectionStart:n,selectionEnd:i}=e,r=t.substring(0,n).split("\n"),o=r.length-1,s=t.substring(0,i).split("\n").length-1,a=t.split("\n").map(((e,t)=>o<=t&&t<=s&&e.startsWith("\t")?e.substring(1):e)).join("\n");e.value=a;const l=r[o];e.selectionStart=null!=l&&l.startsWith("\t")?n-1:n,e.selectionEnd=i-(t.length-a.length)}(e):n===i?function(e){const{value:t,selectionEnd:n}=e;e.value=`${t.substring(0,n)}\t${t.substring(n)}`,e.selectionStart=e.selectionEnd=n+1}(e):function(e){const{value:t,selectionStart:n,selectionEnd:i}=e,r=t.substring(0,n).split("\n"),o=r.length-1,s=t.substring(0,i).split("\n").length-1,a=t.split("\n").map(((e,t)=>o<=t&&t<=s?`\t${e}`:e)).join("\n");e.value=a;const l=r[o];e.selectionStart=l&&/\S/.test(l)?n+1:n,e.selectionEnd=i+(s-o+1)}(e)}else if("Enter"===t.key){const{selectionStart:n,selectionEnd:i}=e;n===i&&(t.preventDefault(),function(e,t){const n=e.value,i=function(e,t){let n=t;"\n"===e.charAt(t)&&(n=t-1);for(let i=n;i>=0;i--)if("\n"===e.charAt(i))return e.substring(i+1,t);return e.substring(0,t)}(n,t).replaceAll("\n",""),r=i.trim(),o=r.length>0?r.charAt(r.length-1):"";let s=i.replace(/^(\s*).*$/,"$1");("{"===o||"("===o)&&(s+="\t"),e.value=n.substring(0,t)+"\n"+s+n.substring(t),e.selectionStart=t+1+s.length,e.selectionEnd=e.selectionStart}(e,n))}}(e.target,e)}},watch:{value(e){this.script=e}}},o=(0,n(1900).Z)(r,i,[],!1,null,null,null).exports},9421:(e,t,n)=>{"use strict";n.d(t,{uQ:()=>o,pz:()=>r,ZP:()=>a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",["image"===e.fill.type&&e.fill.image?n("defs",[n("pattern",{attrs:{id:e.fillId,patternUnits:"userSpaceOnUse",width:e.area.w,height:e.area.h}},[n("image",{attrs:{"xlink:href":e.fill.image,x:e.area.w*e.imageBox.x,y:e.area.h*e.imageBox.y,width:e.area.w*e.imageBox.w,height:e.area.h*e.imageBox.h,preserveAspectRatio:e.imagePreserveAspectRatio}})])]):e._e(),e._v(" "),"gradient"===e.fill.type&&e.fill.gradient?n("defs",["linear"===e.fill.gradient.type?n("linearGradient",{attrs:{id:e.fillId,x1:e.direction.x1+"%",y1:e.direction.y1+"%",x2:e.direction.x2+"%",y2:e.direction.y2+"%"}},e._l(e.fill.gradient.colors,(function(e){return n("stop",{style:{"stop-color":e.c},attrs:{offset:e.p+"%"}})})),1):e._e(),e._v(" "),"radial"===e.fill.gradient.type?n("radialGradient",{attrs:{id:e.fillId,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"}},e._l(e.fill.gradient.colors,(function(e){return n("stop",{style:{"stop-color":e.c},attrs:{offset:e.p+"%"}})})),1):e._e()],1):e._e()])};function r(e,t){return e?"solid"===e.type?e.color:"image"===e.type&&e.image||"gradient"===e.type&&e.gradient?`url(#${t})`:"none":"none"}function o(e){return r(e.shapeProps.fill,`fill-pattern-${e.id}`)}i._withStripped=!0;const s={props:["fillId","fill","area"],computed:{direction(){let e=parseInt(this.fill.gradient.direction);if(isFinite(e)||(e=0),"gradient"===this.fill.type&&this.fill.gradient){const t=50*Math.cos(Math.PI*(e-90)/180),n=50*Math.sin(Math.PI*(e-90)/180);return{x1:50-t,y1:50-n,x2:50+t,y2:50+n}}return{x1:0,y1:0,x2:100,y2:0}},imagePreserveAspectRatio(){return this.fill.stretch?"none":"xMidYMid meet"},imageBox(){return"image"===this.fill.type&&this.fill.imageBox?this.fill.imageBox:{x:0,y:0,w:1,h:1}}}},a=(0,n(1900).Z)(s,i,[],!1,null,null,null).exports},1045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("path",{attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,fill:e.svgFill}}),e._v(" "),"mac"===e.item.shapeProps.frame?n("g",[n("circle",{attrs:{cx:"15",cy:"15",r:"5",fill:"#EC6762"}}),e._v(" "),n("circle",{attrs:{cx:"30",cy:"15",r:"5",fill:"#F4BE5E"}}),e._v(" "),n("circle",{attrs:{cx:"45",cy:"15",r:"5",fill:"#61C761"}})]):e._e()],1)};i._withStripped=!0;var r=n(9498),o=n(9421);const s=e=>{const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/4,e.area.h/4);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}   L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} Z`},a="rgba(40, 40, 40, 1.0)";function l(e,t,n){const i=c[t.shapeProps.lang];if(!i)return;let r=e.state.assetsPath;"/"===r&&(r=""),e.state.routePrefix&&(r=e.state.routePrefix+r);const o=new Worker(`${r}/js/syntax-highlight-worker.js`);o.onmessage=e=>{const t=n.querySelector(".item-text-element");t&&(t.innerHTML=e.data)};const s=document.createElement("code");s.appendChild(document.createTextNode(t.textSlots.body.text)),o.postMessage({text:s.innerText,lang:i})}const c={Bash:"bash",C:"c","C++":"cpp","C#":"csharp",CSS:"css",Diff:"diff",GO:"go",GraphQL:"graphql",Ini:"ini",Java:"java",JavaScript:"javascript",JSON:"json",Kotlin:"kotlin",Less:"less",Lua:"lua",Makefile:"makefile",Markdown:"markdown","Objective C":"objectivec",Perl:"perl",PHP:"php","PHP Template":"php-template",Text:"plaintext",Python:"python","Python REPL":"python-repl",R:"r",Ruby:"ruby",Rust:"rust",SCSS:"scss",Shell:"shell",SQL:"sql",Swift:"swift",TypeScript:"typescript","VB.NET":"vbnet",WebAssembly:"wasm",XML:"xml",YAML:"yaml"},h=Object.keys(c),d={props:["item","editorId"],components:{AdvancedFill:o.ZP},shapeConfig:{shapeType:"vue",id:"code_block",menuItems:[{group:"General",name:"Code Block",iconUrl:"/assets/images/items/code-block.svg",item:{textSlots:{title:{text:"<b>Code</b>",halign:"center",valign:"middle",color:"rgba(245, 245, 245, 1.0)",paddingTop:4,paddingLeft:10,paddingRight:10,paddingBottom:4},body:{font:"Courier New",text:"",color:"rgba(245, 245, 245, 1.0)",halign:"left",valign:"top",whiteSpace:"pre-wrap",paddingTop:10,paddingLeft:10,paddingRight:10,paddingBottom:10}}}}],getPins:e=>(0,r.Fb)(e),computePath:s,onTextSlotTextUpdate(e,t,n,i){"body"===n&&l(e,t,i)},getTextSlots(e){const t="none"===e.shapeProps.frame?0:e.shapeProps.headerHeight,n=[{name:"body",markupDisabled:!0,cssClass:`syntax-theme-${e.shapeProps.theme}`,area:{x:0,y:t,w:e.area.w,h:Math.max(1,e.area.h-t)}}];return"none"!==e.shapeProps.frame&&n.push({name:"title",area:{x:0,y:0,w:e.area.w,h:Math.max(0,e.shapeProps.headerHeight)}}),n},editorProps:{},args:{theme:{type:"choice",value:"dark",options:["dark","light"],name:"Theme",onUpdate:function(e,t,n,i){"dark"===n?(t.shapeProps.fill={type:"solid",color:a},t.textSlots.title.color="rgba(245, 245, 245, 1.0)",t.textSlots.body.color="rgba(245, 245, 245, 1.0)"):(t.shapeProps.fill={type:"solid",color:"rgba(240, 240, 240, 1.0)"},t.textSlots.title.color="rgba(0, 0, 0, 1.0)",t.textSlots.body.color="rgba(0, 0, 0, 1.0)")}},frame:{type:"choice",value:"mac",options:["mac","none"],name:"Frame"},lang:{type:"choice",value:"JavaScript",options:h,name:"Language",onUpdate:function(e,t,n,i){const r=document.getElementById(`item-text-slot-${t.id}-body`);r&&l(e,t,r)}},fill:{type:"advanced-color",value:{type:"solid",color:a},name:"Fill"},strokeColor:{type:"color",value:"rgba(80, 80, 80, 1.0)",name:"Stroke color"},strokeSize:{type:"number",value:1,name:"Stroke size"},cornerRadius:{type:"number",value:4,name:"Corner radius",min:0},headerHeight:{type:"number",value:30,name:"Header hight",min:0}},mounted(e,t,n){Array.isArray(n)&&n.forEach((n=>{"body"===n.getAttribute("data-text-slot-name")&&l(e,t,n)}))}},computed:{shapePath(){return s(this.item)},svgFill(){return(0,o.uQ)(this.item)}}},u=(0,n(1900).Z)(d,i,[],!1,null,null,null).exports},6222:(e,t,n)=>{"use strict";n.d(t,{YL:()=>y,LM:()=>v,lK:()=>g,C0:()=>m,ZP:()=>w,Si:()=>b});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("advanced-fill",{attrs:{fillId:"fill-pattern-button-"+e.item.id,fill:e.item.shapeProps.buttonFill,area:e.item.area}}),e._v(" "),n("advanced-fill",{attrs:{fillId:"fill-pattern-button-hovered-"+e.item.id,fill:e.item.shapeProps.buttonHoverFill,area:e.item.area}}),e._v(" "),"embedded"!==e.item.shapeProps.kind?n("path",{attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,"stroke-dasharray":e.strokeDashArray,"stroke-dashoffset":e.item.meta.strokeOffset,fill:e.svgFill}}):e._e(),e._v(" "),"embedded"!==e.item.shapeProps.kind&&"body"!==e.hideTextSlot&&e.bodyTextShown?n("foreignObject",{attrs:{x:0,y:0,width:e.item.area.w,height:e.bodyTextSlotHeight}},[n("div",{staticClass:"item-text-container",style:e.bodyTextStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"},domProps:{innerHTML:e._s(e.sanitizedBodyText)}})]):e._e(),e._v(" "),(!e.isLoading||!e.item.shapeProps.showProgressBar)&&e.buttonShown&&e.buttonArea.w>0&&e.buttonArea.h>0?n("g",{staticStyle:{cursor:"pointer"}},[e.buttonHovered?n("path",{attrs:{fill:e.svgButtonHoverFill,"stroke-width":e.item.shapeProps.buttonStrokeSize+"px",stroke:e.item.shapeProps.buttonStrokeColor,d:e.buttonPath}}):n("path",{attrs:{fill:e.svgButtonFill,"stroke-width":e.item.shapeProps.buttonStrokeSize+"px",stroke:e.item.shapeProps.buttonHoverStrokeColor,d:e.buttonPath}}),e._v(" "),"button"!==e.hideTextSlot?n("foreignObject",{attrs:{x:e.buttonArea.x,y:e.buttonArea.y,width:e.buttonArea.w,height:e.buttonArea.h}},[n("div",{staticClass:"item-text-container",style:e.textStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"},domProps:{innerHTML:e._s(e.sanitizedButtonText)}})]):e._e()]):e._e(),e._v(" "),e.isLoading&&e.item.shapeProps.showProgressBar&&e.progressBar.w>0&&e.progressBar.h>0?n("foreignObject",{attrs:{x:e.progressBar.x,y:e.progressBar.y,width:e.progressBar.w,height:e.progressBar.h}},[n("div",{staticClass:"progress-bar",style:e.progressBarStyle})]):e._e(),e._v(" "),!e.isLoading&&e.item.meta&&e.item.meta.componentLoadFailed?n("g",{staticStyle:{cursor:"pointer"}},[n("rect",{attrs:{x:0,y:0,width:e.item.area.w,height:e.item.area.h,fill:"rgba(250, 70, 70)"}}),e._v(" "),n("foreignObject",{attrs:{x:0,y:0,width:e.item.area.w,height:e.item.area.h}},[n("div",{staticClass:"item-text-container",style:e.failureMessageStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("b",[e._v("Loading failed")])])])]):e._e(),e._v(" "),e.item.meta&&e.item.meta.cyclicComponent?n("g",[n("rect",{attrs:{x:0,y:0,width:e.item.area.w,height:e.item.area.h,fill:"rgba(250, 70, 70)"}}),e._v(" "),n("foreignObject",{attrs:{x:0,y:0,width:e.item.area.w,height:e.item.area.h}},[n("div",{staticClass:"item-text-container",style:e.failureMessageStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("b",[e._v("Cyclic dependency!")])])])]):e._e()],1)};i._withStripped=!0;var r=n(9498),o=n(4502),s=n(9421),a=n(5635),l=n(3762),c=n(3590),h=n(4670),d=n.n(h),u=n(8595);const p=e=>{const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/2,e.area.h/2);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}   L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} Z`};function f(e,t,n){const i=e.area.w-10,r=e.area.h-10,o=Math.min(t,i),s=Math.min(n,r);return{x:(e.area.w-o)/2,y:Math.max(5,e.area.h-s-10),w:o,h:s}}function m(e){const t=f(e,e.shapeProps.buttonWidth,e.shapeProps.buttonHeight),n=Math.min(e.shapeProps.buttonCornerRadius,t.w/2,t.h/2),i=t.x,r=t.y,o=t.w,s=t.h;return`M ${i+o-n} ${r+s}  L ${i+n} ${r+s} a ${n} ${n} 0 0 1 ${-n} ${-n}  L ${i} ${r+n}  a ${n} ${n} 0 0 1 ${n} ${-n}   L ${i+o-n} ${r}   a ${n} ${n} 0 0 1 ${n} ${n}  L ${i+o} ${r+s-n}   a ${n} ${n} 0 0 1 ${-n} ${n} Z`}const g="Component Loaded",v="Component Failed",y="Component Destroyed";function b(e,t,n,i,r){if(!e.shapeProps.showBackButton||"external"!==e.shapeProps.kind)return null;const o=e.area.w/1900,s=e.area.h/600,a=Math.max(o,s)*e.shapeProps.backButtonScale;return{id:e.id+"-go-back-btn",shape:"rect",area:{x:0+e.area.w-(95+e.shapeProps.backButtonHPad)*a,y:(30-e.shapeProps.backButtonVPad)*a,w:95,h:30,sx:a,sy:a,r:0,px:0,py:0},textSlots:{body:{text:"<b>go back</b>",color:e.shapeProps.backButtonTextColor}},selfOpacity:50,visible:!0,cursor:"pointer",shapeProps:{cornerRadius:e.shapeProps.backButtonCornerRadius,strokeSize:0,fill:e.shapeProps.backButtonFill},behavior:{events:[{id:d().generate(),event:"clicked",actions:[{id:d().generate(),element:"#"+e.id,method:"_transformScreen",args:{x:n.x,y:n.y,scale:n.scale,inBackground:!0}},{id:d().generate(),element:"#"+t.id,method:"hide",args:{}},{id:d().generate(),element:"#"+e.id,method:"destroyComponent",args:{}}]},{id:d().generate(),event:"mousein",actions:[{id:d().generate(),element:"self",method:"set",args:{field:"selfOpacity",value:100,animated:!0,animationDuration:.2,transition:"ease-in-out",inBackground:!1}}]},{id:d().generate(),event:"mouseout",actions:[{id:d().generate(),element:"self",method:"set",args:{field:"selfOpacity",value:50,animated:!0,animationDuration:.2,transition:"ease-in-out",inBackground:!1}}]}]}}}const x={props:["item","editorId"],components:{AdvancedFill:s.ZP},shapeConfig:{shapeType:"vue",id:"component",menuItems:[{group:"General",name:"Component",iconUrl:"/assets/images/items/component.svg",description:"\n                Lets you embed other documents into this item.\n            ",item:{textSlots:{body:{text:"Component",valign:"middle",halign:"center",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0},button:{text:"Load more",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}}}}],getPins:e=>(0,r.Fb)(e),getTextSlots(e){if("embedded"===e.shapeProps.kind)return[];const t=f(e,e.shapeProps.buttonWidth,e.shapeProps.buttonHeight);let n=e.area.h,i=!1;"external"===e.shapeProps.kind&&e.shapeProps.showButton&&(n=t.y,i=!0);const r=[{name:"body",area:{x:0,y:0,w:e.area.w,h:n}}];return i&&r.push({name:"button",area:t}),r},onMouseDown(e,t,n,i,r){u.Z.item.custom.$emit("mouse-down",e,t.id,n)},onMouseMove(e,t,n,i,r){u.Z.item.custom.$emit("mouse-move",e,t.id,n)},computeCustomAreas:e=>"embedded"===e.shapeProps.kind||e.meta&&e.meta.componentLoadFailed?[]:[{id:"load-button",cursor:"pointer",path:m(e)}],computePath:p,controlPoints:{make(e){const t={cornerRadius:{x:Math.min(e.area.w,Math.max(e.area.w-e.shapeProps.cornerRadius,e.area.w/2)),y:0}};if("external"===e.shapeProps.kind&&e.shapeProps.showButton){const n=f(e,e.shapeProps.buttonWidth,e.shapeProps.buttonHeight);t.buttonCornerRadius={x:n.x+n.w-Math.min(e.shapeProps.buttonCornerRadius,n.w/2,n.h/2),y:n.y}}return t},handleDrag(e,t,n,i,r,o){if("cornerRadius"===t)e.shapeProps.cornerRadius=Math.max(0,c.Z.roundPrecise(e.area.w-Math.max(e.area.w/2,n+r),1));else if("buttonCornerRadius"===t){const t=f(e,e.shapeProps.buttonWidth,e.shapeProps.buttonHeight);e.shapeProps.buttonCornerRadius=Math.min(t.h/2,t.w/2,Math.max(0,c.Z.roundPrecise(t.x+t.w-n-r)))}}},args:{kind:{type:"choice",value:"external",name:"Kind",options:["external","embedded"],description:"External - allows to fetch other documents and render them inside the component. Embedded - uses the items in the same document"},schemeId:{type:"scheme-ref",value:"",name:"External Document",depends:{kind:"external"},description:"ID of the document that this component should load"},referenceItem:{type:"element",name:"Item",depends:{kind:"embedded"},description:"Reference item that this component should render"},fill:{type:"advanced-color",value:{type:"solid",color:"rgba(255,255,255,1)"},name:"Fill"},strokeColor:{type:"color",value:"#466AAA",name:"Stroke color"},strokeSize:{type:"number",value:2,name:"Stroke size"},strokePattern:{type:"stroke-pattern",value:"solid",name:"Stroke pattern"},cornerRadius:{type:"number",value:0,name:"Corner radius",min:0},placement:{type:"choice",value:"centered",options:["centered","stretch"],name:"Placement"},autoZoom:{type:"boolean",value:!0,name:"Auto zoom",description:"Zoom into component when it is loaded",depends:{kind:"external"}},showButton:{type:"boolean",value:!0,name:"Show button",description:"Displays a button which user can click to load component in view mode",depends:{kind:"external"}},buttonFill:{type:"advanced-color",value:{type:"solid",color:"rgba(14,195,255,0.15)"},name:"Button Fill",depends:{showButton:!0,kind:"external"}},buttonStrokeColor:{type:"color",value:"rgba(24,127,191,0.9)",name:"Button stroke color",depends:{showButton:!0,kind:"external"}},buttonHoverFill:{type:"advanced-color",value:{type:"solid",color:"rgba(14,195,255,0.45)"},name:"Hovered button Fill",depends:{showButton:!0,kind:"external"}},buttonHoverStrokeColor:{type:"color",value:"rgba(24,127,191,0.9)",name:"Hovered button stroke color",depends:{showButton:!0,kind:"external"}},buttonStrokeSize:{type:"number",value:2,name:"Button stroke size",depends:{showButton:!0,kind:"external"}},buttonCornerRadius:{type:"number",value:0,name:"Button Corner radius",min:0,depends:{showButton:!0,kind:"external"}},buttonWidth:{type:"number",value:180,name:"Button width",depends:{showButton:!0,kind:"external"}},buttonHeight:{type:"number",value:40,name:"Button height",depends:{showButton:!0,kind:"external"}},showProgressBar:{type:"boolean",value:!0,name:"Show progress bar",depends:{kind:"external"}},progressColor1:{type:"color",value:"rgba(24,127,191,1)",name:"Progress bar color 1",depends:{showProgressBar:!0,kind:"external"}},progressColor2:{type:"color",value:"rgba(140,214,219,1)",name:"Progress bar color 2",depends:{showProgressBar:!0,kind:"external"}},showBackButton:{type:"boolean",value:!0,name:"Show back button",depends:{kind:"external"}},backButtonFill:{type:"advanced-color",value:{type:"solid",color:"rgba(102,102,102,1.0)"},name:"Button Fill",depends:{showBackButton:!0,kind:"external"}},backButtonTextColor:{type:"color",value:"rgba(245,245,245,1.0)",name:"Back button text color",depends:{showBackButton:!0,kind:"external"}},backButtonVPad:{type:"number",value:20,name:"Back button vertical padding",depends:{showBackButton:!0,kind:"external"}},backButtonHPad:{type:"number",value:20,name:"Back button horizontal padding",depends:{showBackButton:!0,kind:"external"}},backButtonCornerRadius:{type:"number",value:15,name:"Back button corner radius",depends:{showBackButton:!0,kind:"external"}},backButtonScale:{type:"number",value:1,name:"Back button scale",depends:{showBackButton:!0,kind:"external"}}},editorProps:{customTextRendering:!0},getEvents:e=>[{name:g},{name:v},{name:y}]},beforeMount(){u.Z.item.custom.$on("mouse-move",this.editorId,this.item.id,this.onMouseMove),u.Z.item.custom.$on("mouse-down",this.editorId,this.item.id,this.onMouseDown),u.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChanged),u.Z.textSlot.triggered.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),u.Z.textSlot.canceled.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditCanceled),u.Z.component.loadRequested.specific.$on(this.editorId,this.item.id,this.onComponentLoadRequested),u.Z.component.loadFailed.specific.$on(this.editorId,this.item.id,this.onComponentLoadFailed),u.Z.component.mounted.specific.$on(this.editorId,this.item.id,this.onComponentMounted)},beforeDestroy(){u.Z.item.custom.$off("mouse-move",this.editorId,this.item.id,this.onMouseMove),u.Z.item.custom.$off("mouse-down",this.editorId,this.item.id,this.onMouseDown),u.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChanged),u.Z.textSlot.triggered.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),u.Z.textSlot.canceled.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditCanceled),u.Z.component.loadRequested.specific.$off(this.editorId,this.item.id,this.onComponentLoadRequested),u.Z.component.loadFailed.specific.$off(this.editorId,this.item.id,this.onComponentLoadFailed),u.Z.component.mounted.specific.$off(this.editorId,this.item.id,this.onComponentMounted)},data(){const e=this.item._childItems&&this.item._childItems.length>0;return{buttonHovered:!1,buttonShown:"external"===this.item.shapeProps.kind&&this.item.shapeProps.showButton&&!e,bodyTextShown:!e,isLoading:!1,hideTextSlot:null,textStyle:this.createTextStyle(),bodyTextStyle:this.createBodyTextStyle()}},methods:{onMouseMove(e){"load-button"===e?this.onButtonMouseOver():this.onButtonMouseLeave()},onMouseDown(e){!this.isLoading&&this.item.meta&&this.item.meta.componentLoadFailed?this.resetFailureMessage():"load-button"===e&&this.onLoadSchemeClick()},onLoadSchemeClick(){this.isLoading=!0,u.Z.component.loadRequested.specific.$emit(this.editorId,this.item.id,this.item)},onItemChanged(){this.item._childItems&&this.item._childItems.length>0&&(this.buttonShown=!1,this.bodyTextShown=!1),this.isLoading=!1,this.buttonHovered=!1,this.textStyle=this.createTextStyle(),this.bodyTextStyle=this.createBodyTextStyle()},createBodyTextStyle(){let e={};if(this.item.textSlots&&this.item.textSlots.body){e=(0,a.A)(this.item.textSlots.body);const t=f(this.item,this.item.shapeProps.buttonWidth,this.item.shapeProps.buttonHeight);e.width=`${this.item.area.w}px`;let n=this.item.area.h;"external"===this.item.shapeProps.kind&&this.item.shapeProps.showButton&&(n=t.y),e.height=`${n}px`}return e},createTextStyle(){let e={};if(this.item.textSlots&&this.item.textSlots.button){e=(0,a.A)(this.item.textSlots.button);const t=f(this.item,this.item.shapeProps.buttonWidth,this.item.shapeProps.buttonHeight);e.width=`${t.w}px`,e.height=`${t.h}px`}return e},onItemTextSlotEditTriggered(e,t,n,i){this.hideTextSlot=t},onItemTextSlotEditCanceled(e,t){this.hideTextSlot=null},onButtonMouseOver(){this.buttonHovered=!0,this.$forceUpdate()},onButtonMouseLeave(){this.buttonHovered=!1,this.$forceUpdate()},onComponentLoadRequested(){this.isLoading=!0},onComponentLoadFailed(){this.isLoading=!1},onComponentMounted(){this.isLoading=!1},resetFailureMessage(){this.item.meta.componentLoadFailed=!1,this.$forceUpdate()}},computed:{buttonPath(){return m(this.item)},shapePath(){return p(this.item)},svgFill(){return(0,s.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)},svgButtonFill(){return(0,s.pz)(this.item.shapeProps.buttonFill,`fill-pattern-button-${this.item.id}`)},svgButtonHoverFill(){return(0,s.pz)(this.item.shapeProps.buttonHoverFill,`fill-pattern-button-hovered-${this.item.id}`)},strokeDashArray(){return o.Z.createDashArray(this.item.shapeProps.strokePattern,this.item.shapeProps.strokeSize)},buttonArea(){return f(this.item,this.item.shapeProps.buttonWidth,this.item.shapeProps.buttonHeight)},bodyTextSlotHeight(){const e=f(this.item,this.item.shapeProps.buttonWidth,this.item.shapeProps.buttonHeight);return"external"===this.item.shapeProps.kind&&this.item.shapeProps.showButton?e.y:this.item.area.h},sanitizedBodyText(){return this.item.textSlots&&this.item.textSlots.body?(0,l.Z)(this.item.textSlots.body.text):""},sanitizedButtonText(){if(this.isLoading)return"Loading ...";let e="";return this.item.textSlots&&this.item.textSlots.button&&(e=this.item.textSlots.button.text),(0,l.Z)(e)},failureMessageStyle(){return{color:"rgb(255, 255, 255)","font-size":"14px","font-family":"Arial, Helvetica, sans-serif",padding:"10px","text-align":"center","vertical-align":"middle","white-space":"normal",display:"table-cell","box-sizing":"border-box",width:`${this.item.area.w}px`,height:`${this.item.area.h}px`}},progressBar(){return f(this.item,180,10)},progressBarStyle(){return{background:`linear-gradient(90deg, ${this.item.shapeProps.progressColor1} 0%, ${this.item.shapeProps.progressColor2} 25%, ${this.item.shapeProps.progressColor2} 50%, ${this.item.shapeProps.progressColor1} 75%) 0% 0% / 60% 100%`}},progressBarHeight(){return Math.min(20,this.item.area.h)}}},w=(0,n(1900).Z)(x,i,[],!1,null,null,null).exports},4773:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("path",{staticStyle:{"stroke-linejoin":"round"},attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,"stroke-dasharray":e.strokeDashArray,"stroke-dashoffset":e.item.meta.strokeOffset,fill:e.svgFill}}),e._v(" "),e.item.shapeProps.thick?e._e():n("g",e._l(e.caps,(function(t){return n("path",{attrs:{d:t.path,"data-item-id":e.item.id,stroke:e.item.shapeProps.strokeColor,"stroke-width":e.item.shapeProps.strokeSize,fill:t.hollow?"none":e.item.shapeProps.strokeColor,"stroke-linejoin":"round"}})})),0)],1)};i._withStripped=!0;var r=n(6234),o=n(4502),s=n(2017),a=n(3590),l=n(125),c=n(520),h=n(9421),d=n(8595),u=n(2644),p=(n(8270),n(791));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=new s.Yd("Connector");function y(e){return a.Z.roundPrecise2(e)}const b=0,x=1,w=2,A=3,C=4,k=5,S=6,P=[x,b,A,w,C];function I(e,t){return e<=-.5?w:e>=.5?A:t<=-.5?b:t>=.5?x:void 0}const E=[[0,0,-1,1],[0,0,1,-1],[1,-1,0,0],[-1,1,0,0]];function _(e){return e===A||e===w?S:e===b||e===x?k:C}function T(e){return P[e]}function $(e,t){return{way:t>e?x:b,value:Math.abs(t-e)}}function M(e,t){return{way:t>e?A:w,value:Math.abs(t-e)}}const O=(e,t,n,i)=>{const r=(t+i)/2;return[$(t,r),M(e,n),$(r,i)]},D=(e,t,n,i)=>[M(e,n),$(t,i)],L=(e,t,n,i)=>[$(t,i),M(e,n)],N=(e,t,n,i)=>{const r=(e+n)/2;return[M(e,r),$(t,i),M(r,n)]};function B(e,t,n,i,r,o){const s=T(n);let l=[];const c=i-e,h=r-t;a.Z.tooSmall(c)||l.push(i>e?A:w),a.Z.tooSmall(h)||l.push(r>t?x:b),2===l.length&&(l[0]===s||o===l[0]&&l[1]!==s||o===C&&l[1]===n)&&(l=[l[1],l[0]]);const d=_(n),u=_(l[0]),p=_(o);if(u===p||d===p)if(p===k){if(r<t&&n!==x||r>t&&n!==b)return O(e,t,i,r)}else if(i<e&&n!==A||i>e&&n!==w)return N(e,t,i,r);return u===S?D(e,t,i,r):L(e,t,i,r)}function R(e,t,n,i){return n===A?e+=i:n===w?e-=i:n===b?t-=i:n===x&&(t+=i),{x:e,y:t}}function Z(e,t,n){const i=c.Z.clone(e.shapeProps.points),o=[];let s=b,a=C;i[0].hasOwnProperty("nx")&&(s=I(i[0].nx,i[0].ny));const l=i[i.length-1];if(l.hasOwnProperty("nx")&&(a=I(l.nx,l.ny)),e.shapeProps.sourceCap&&"empty"!==e.shapeProps.sourceCap){const t=R(0,0,s,e.shapeProps.sourceCapSize),n=z(i[0].x,i[0].y,i[0].x+t.x,i[0].y+t.y,e.shapeProps.sourceCapSize,e.shapeProps.sourceCap);n&&(n.prolongLine||(i[0].x=n.entryPoint.x,i[0].y=n.entryPoint.y),o.push(n))}const h=[];let d=s,u=i[0];const p=e=>{(0,r.Ed)(e,(e=>{h.push(e),u=R(u.x,u.y,e.way,e.value)})),d=e[e.length-1].way};for(let e=1;e<i.length-1;e++)p(B(u.x,u.y,d,i[e].x,i[e].y,C));p(B(u.x,u.y,d,l.x,l.y,T(a)));let f=`M ${i[0].x} ${i[0].y}`;if(u=i[0],!t)return(0,r.Ed)(h,((t,n)=>{const i=R(u.x,u.y,t.way,t.value);let r=null;n===h.length-1&&e.shapeProps.destinationCap&&"empty"!==e.shapeProps.destinationCap&&(r=z(i.x,i.y,u.x,u.y,e.shapeProps.destinationCapSize,e.shapeProps.destinationCap)),r?(f+=` L ${r.entryPoint.x} ${r.entryPoint.y}`,o.push(r)):(f+=` L ${i.x} ${i.y}`,u=i)})),{path:f,caps:o};const m=Math.max(0,e.shapeProps.stepSize);let g=0;for(let e=0;e<h.length-1;e++){const t=h[e],i=h[e+1],r=Math.min(t.value,i.value);if(r>1&&i.way!==t.way){const e=Math.min(m,r/2),o=R(u.x,u.y,t.way,t.value-g),s=R(u.x,u.y,t.way,t.value-e-g),a=R(o.x,o.y,i.way,e);if(n){const n=(v=t.way,y=i.way,E[v][y]>0?1:0);f+=` L ${s.x} ${s.y} A ${e} ${e} 0 0 ${n} ${a.x} ${a.y}`}else f+=` L ${s.x} ${s.y} L ${a.x} ${a.y}`;g=e,u=a}else{const e=R(u.x,u.y,t.way,t.value-g);f+=` L ${e.x} ${e.y}`,u=e,g=0}}var v,y;const x=h[h.length-1],w=R(u.x,u.y,x.way,x.value-g);let A=null;return e.shapeProps.destinationCap&&"empty"!==e.shapeProps.destinationCap&&(A=z(w.x,w.y,u.x,u.y,e.shapeProps.destinationCapSize,e.shapeProps.destinationCap)),A?(f+=` L ${A.entryPoint.x} ${A.entryPoint.y}`,A.prolongLine&&(f+=` L ${w.x} ${w.y}`),o.push(A)):f+=` L ${w.x} ${w.y}`,{path:f,caps:o}}function F(e){if(e.shapeProps.points.length<2)return"";let t="";const n=[],i=[],o=[],s=[],l=[],c=[];(0,r.Ed)(e.shapeProps.points,((t,r)=>{if(r<e.shapeProps.points.length-1){const a=e.shapeProps.points[r+1];n[r]={x:a.x-t.x,y:a.y-t.y};const h=n[r].x*n[r].x+n[r].y*n[r].y;if(h>.001){const e=Math.sqrt(h);i[r]={x:n[r].x/e,y:n[r].y/e}}else i[r]=n[r];o[r]={x:i[r].y*e.shapeProps.thickWidth,y:-i[r].x*e.shapeProps.thickWidth},s[r]={x:-o[r].x,y:-o[r].y},l[r]={x:t.x+o[r].x,y:t.y+o[r].y},c[r]={x:t.x+s[r].x,y:t.y+s[r].y}}}));const h=[];let d=!1,u=!1;(0,r.Ed)(e.shapeProps.points,((r,s)=>{if(0!==s){if(s>0&&s<e.shapeProps.points.length-1)if(h[s]=a.Z.angleBetweenVectors(n[s].x,n[s].y,-n[s-1].x,-n[s-1].y),h[s]<0){const e=a.Z.linesIntersection(a.Z.createLineEquation(l[s-1].x,l[s-1].y,l[s-1].x+n[s-1].x,l[s-1].y+n[s-1].y),a.Z.createLineEquation(l[s].x,l[s].y,l[s].x+n[s].x,l[s].y+n[s].y));e&&h[s]<-.1?t+=` L ${e.x} ${e.y}`:t+=` L ${l[s].x} ${l[s].y}`}else t+=` L ${r.x+o[s-1].x} ${r.y+o[s-1].y}  L ${r.x+o[s].x} ${r.y+o[s].y}`;if(s===e.shapeProps.points.length-1&&s>0){const a=n[s-1].x*n[s-1].x+n[s-1].y*n[s-1].y,l=3*e.shapeProps.thickWidth;if("triangle"===e.shapeProps.destinationCap&&Math.sqrt(a)>l){d=!0;const e=r.x-i[s-1].x*l,n=r.y-i[s-1].y*l;t+=` L ${e+o[s-1].x} ${n+o[s-1].y} L ${e+2*o[s-1].x} ${n+2*o[s-1].y} L ${r.x} ${r.y}`}else t+=` L ${r.x+o[s-1].x} ${r.y+o[s-1].y}`}}else{const a=n[0].x*n[0].x+n[0].y*n[0].y,c=3*e.shapeProps.thickWidth;if("triangle"===e.shapeProps.sourceCap&&Math.sqrt(a)>c){u=!0;const n=r.x+i[0].x*e.shapeProps.thickWidth*3,s=r.y+i[0].y*e.shapeProps.thickWidth*3;t+=` M ${y(r.x)} ${y(r.y)}  L ${n+2*o[0].x} ${s+2*o[0].y} L ${n+o[0].x} ${s+o[0].y}`}else t=`M ${y(l[s].x)} ${y(l[s].y)}`}}));for(let r=e.shapeProps.points.length-1;r>=0;r--){const o=e.shapeProps.points[r];if(r===e.shapeProps.points.length-1)if(d){const n=o.x-i[r-1].x*e.shapeProps.thickWidth*3,a=o.y-i[r-1].y*e.shapeProps.thickWidth*3;t+=` L ${n+2*s[r-1].x} ${a+2*s[r-1].y} L ${n+s[r-1].x} ${a+s[r-1].y}`}else t+=` L ${o.x+s[r-1].x} ${o.y+s[r-1].y}`;else if(r>0)if(h[r]>0){const e=a.Z.linesIntersection(a.Z.createLineEquation(c[r-1].x,c[r-1].y,c[r-1].x+n[r-1].x,c[r-1].y+n[r-1].y),a.Z.createLineEquation(c[r].x,c[r].y,c[r].x+n[r].x,c[r].y+n[r].y));e&&h[r]>.1?t+=` L ${e.x} ${e.y}`:t+=` L ${c[r].x} ${c[r].y}`}else t+=` L ${o.x+s[r].x} ${o.y+s[r].y} L ${o.x+s[r-1].x} ${o.y+s[r-1].y}`;else if(0===r)if(u){const n=o.x+i[0].x*e.shapeProps.thickWidth*3,r=o.y+i[0].y*e.shapeProps.thickWidth*3;t+=` L ${n+s[0].x} ${r+s[0].y} L ${n+2*s[0].x} ${r+2*s[0].y} Z`}else t+=`L ${o.x+s[r].x} ${o.y+s[r].y} z`}return t}function j(e){return e.shapeProps.points.length<2?null:e.shapeProps.thick?{path:F(e),caps:[]}:"smooth"===e.shapeProps.smoothing?function(e){const t=c.Z.clone(e.shapeProps.points);if(t.length<2)return{path:null,caps:[]};let n="";const i=[];let o=null,s=null,l=null;if(e.shapeProps.sourceCap&&"empty"!==e.shapeProps.sourceCap){let n=t[1].x,r=t[1].y;void 0!==t[0].nx&&(n=t[0].x+t[0].nx*e.shapeProps.sourceCapSize,r=t[0].y+t[0].ny*e.shapeProps.sourceCapSize),o=z(t[0].x,t[0].y,n,r,e.shapeProps.sourceCapSize,e.shapeProps.sourceCap),o&&(t[0].x=o.entryPoint.x,t[0].y=o.entryPoint.y,i.push(o))}if(e.shapeProps.destinationCap&&"empty"!==e.shapeProps.destinationCap){const n=t.length-1;let r=t[n-1].x,o=t[n-1].y;void 0!==t[n].nx&&(r=t[n].x+t[n].nx*e.shapeProps.destinationCapSize,o=t[n].y+t[n].ny*e.shapeProps.destinationCapSize),s=z(t[n].x,t[n].y,r,o,e.shapeProps.destinationCapSize,e.shapeProps.destinationCap,e.shapeProps.fill),s&&(t[n].x=s.entryPoint.x,t[n].y=s.entryPoint.y,i.push(s))}if(2===t.length&&e.shapeProps.sourceItem&&e.shapeProps.destinationItem&&void 0!==t[0].nx&&void 0!==t[1].nx){const n=t[0],r=t[1],l=a.Z.distanceBetweenPoints(n.x,n.y,r.x,r.y);let c=l/3;const h=a.Z.vectorLength(n.nx+r.nx,n.ny+r.ny),d=a.Z.distanceBetweenPoints(n.x+n.nx,n.y+n.ny,r.x+r.nx,r.y+r.ny);if(h<.2&&d<l){const e=a.Z.rotateVector90Clockwise(n.nx,n.ny),t=a.Z.createLineEquation(n.x,n.y,n.x+e.x,n.y+e.y);c=a.Z.distanceFromPointToLine(r.x,r.y,t)/1.5}let u="";if(u=o&&o.prolongLine?`M ${n.x} ${y(n.y)} L ${y(n.x)} ${y(n.y)} `:`M ${y(n.x)} ${y(n.y)} `,u+=`C ${y(n.x+c*n.nx)} ${y(n.y+c*n.ny)} ${y(r.x+c*r.nx)}  ${y(r.y+c*r.ny)} ${y(r.x)} ${y(r.y)} `,s&&s.prolongLine){const t=e.shapeProps.points[e.shapeProps.points.length-1];u+=`L ${y(t.x)} ${y(t.y)}`}return{path:u,caps:i}}const h=[];if((0,r.Ed)(t,((e,n)=>{let i=e;n>0&&(i=t[n-1]);let r=e;n<t.length-1&&(r=t[n+1]);let o=r.x-i.x,s=r.y-i.y;const a=Math.sqrt(o*o+s*s);a>1e-5&&(o/=a,s/=a),h[n]={x:o,y:s}})),(0,r.Ed)(t,((i,r)=>{if(0===r)n=o&&o.prolongLine?`M ${y(e.shapeProps.points[0].x)} ${y(e.shapeProps.points[0].y)} L ${y(i.x)} ${y(i.y)} `:`M ${y(i.x)} ${y(i.y)} `;else if(1===r&&e.shapeProps.sourceItem&&void 0!==l.nx){const e=a.Z.distanceBetweenPoints(l.x,l.y,i.x,i.y)/3.5;let o=0,s=0;r<t.length-1&&(o=h[r].x,s=h[r].y),n+=` C ${y(l.x+e*l.nx)} ${y(l.y+e*l.ny)} ${y(i.x-e*o)} ${y(i.y-e*s)} ${y(i.x)} ${y(i.y)}`}else if(r===t.length-1&&e.shapeProps.destinationItem&&void 0!==i.nx){const e=a.Z.distanceBetweenPoints(l.x,l.y,i.x,i.y)/3.5;let t=0,o=0;r>1&&(t=h[r-1].x,o=h[r-1].y),n+=` C ${y(l.x+e*t)} ${y(l.y+e*o)}  ${y(i.x+e*i.nx)} ${y(i.y+e*i.ny)} ${y(i.x)} ${y(i.y)}`}else{const e=a.Z.distanceBetweenPoints(l.x,l.y,i.x,i.y)/3.5;let t=h[r-1].x,o=h[r-1].y,s=h[r].x,c=h[r].y;n+=` C ${y(l.x+e*t)} ${y(l.y+e*o)}  ${y(i.x-e*s)} ${y(i.y-e*c)} ${y(i.x)} ${y(i.y)}`}l=i})),s&&s.prolongLine){const t=e.shapeProps.points[e.shapeProps.points.length-1];n+=`L ${t.x} ${t.y}`}return{path:n,caps:i}}(e):"step"===e.shapeProps.smoothing?Z(e,!1,!1):"step-cut"===e.shapeProps.smoothing?Z(e,!0,!1):"step-smooth"===e.shapeProps.smoothing?Z(e,!0,!0):function(e){let t="";const n=[];return(0,r.Ed)(e.shapeProps.points,((i,r)=>{if(0===r){let r=null;if(e.shapeProps.sourceCap&&"empty"!==e.shapeProps.sourceCap){const t=e.shapeProps.points[1];r=z(i.x,i.y,t.x,t.y,e.shapeProps.sourceCapSize,e.shapeProps.sourceCap)}r?(t=r.prolongLine?`M ${i.x} ${i.y} L ${r.entryPoint.x} ${r.entryPoint.y} `:`M ${r.entryPoint.x} ${r.entryPoint.y} `,n.push(r)):t=`M ${i.x} ${i.y} `}else if(r===e.shapeProps.points.length-1){let o=null;if(e.shapeProps.destinationCap&&"empty"!==e.shapeProps.destinationCap){const t=e.shapeProps.points[r-1];o=z(i.x,i.y,t.x,t.y,e.shapeProps.destinationCapSize,e.shapeProps.destinationCap)}o?(t+=`L ${o.entryPoint.x} ${o.entryPoint.y} `,o.prolongLine&&(t+=`L ${i.x} ${i.y} `),n.push(o)):t+=`L ${i.x} ${i.y} `}else t+=` L ${i.x} ${i.y} `})),{path:t,caps:n}}(e)}function z(e,t,n,i,r,o){if("empty"!==o){const s=n-e,a=i-t,c=s*s+a*a;if(c>1e-4){const n=Math.sqrt(c);return(0,l.g)(e,t,s*r/n,a*r/n,o)}}return null}function U(e,t){if(e.hasOwnProperty("nx")&&e.hasOwnProperty("ny")&&t){const n=t.x-e.x,i=t.y-e.y;180*a.Z.cosineAngleBetweenVectors(e.nx,e.ny,n,i)/Math.PI>90&&(e.nx=-e.nx,e.ny=-e.ny)}}const H=[{t:"L",x:4,y:88},{t:"L",x:136,y:4}],V="Connections",q={props:["item","editorId"],components:{AdvancedFill:h.ZP},shapeConfig:{shapeType:"vue",id:"connector",computePath:function(e){const t=j(e);return t?t.path:null},readjustItem:function(e,t,n,i,o){return v.info("readjustItem",e.id,e.name,{item:e,isSoft:n,context:i},o),n||function(e,t){if(v.info("readjustItemArea",e.id,e.name,{item:e},t),e.shapeProps.points.length<1)return;const n=[];(0,r.Ed)(e.shapeProps.points,(t=>{n.push((0,u.rs)(t.x,t.y,e))}));let i=n[0].x,o=n[0].y,s=n[0].x,l=n[0].y;(0,r.Ed)(n,(e=>{i=Math.min(i,e.x),o=Math.min(o,e.y),s=Math.max(s,e.x),l=Math.max(l,e.y)}));const c=[];(0,r.Ed)(n,((t,n)=>{const r=e.shapeProps.points[n];c.push(m(m({},r),{},{x:t.x-i,y:t.y-o}))})),e.shapeProps.points=c,e.area.r=0,e.area.w=Math.max(0,s-i),e.area.h=Math.max(0,l-o);const h=a.Z.findTranslationMatchingWorldPoint(i,o,0,0,e.area,e.meta.transformMatrix);e.area.x=h.x,e.area.y=h.y}(e,o),e.shapeProps.sourceItem&&e.shapeProps.points.length>1&&U(e.shapeProps.points[0],e.shapeProps.points[1]),e.shapeProps.destinationItem&&e.shapeProps.points.length>1&&U(e.shapeProps.points[e.shapeProps.points.length-1],e.shapeProps.points[e.shapeProps.points.length-2]),!0},getSnappers:function(e){const t=[];return(0,r.Ed)(e.shapeProps.points,(n=>{const i=(0,u.rs)(n.x,n.y,e);t.push({item:e,snapperType:"horizontal",value:i.y}),t.push({item:e,snapperType:"vertical",value:i.x})})),t},scriptFunctions:function(e,t,n){const i=(e,t)=>{if(e<0||e>=n.shapeProps.points.length)throw new Error(`Invalid point index: ${e}`);return t(n.shapeProps.points[e])},r=()=>{t.readjustItemAndDescendants(n.id,!0),d.Z.item.changed.specific.$emit(e,n.id)};return{totalPoints:()=>n.shapeProps.points.length,getPointWorldPos:e=>i(e,(e=>p.O.fromPoint((0,u.rs)(e.x,e.y,n)))),setPointWorldPos:(e,t,o)=>i(e,(i=>{0===e?n.shapeProps.sourceItem=null:e===n.shapeProps.points.length-1&&(n.shapeProps.destinationItem=null);const s=(0,u.N5)(t,o,n);i.x=s.x,i.y=s.y,r()})),addWorldPoint(e,t){n.shapeProps.destinationItem=null;const i=(0,u.N5)(e,t,n);return n.shapeProps.points.push({x:i.x,y:i.y}),r(),n.shapeProps.points.length-1},removePoint(e){e<0||e>=n.shapeProps.points.length||(n.shapeProps.points.splice(e,1),r())}}},menuItems:[{group:V,name:"Empty Connector",iconUrl:"/assets/images/items/connector-empty.svg",item:{shapeProps:{thick:!1,sourceCap:"empty",destinationCap:"empty",points:H}}},{group:V,name:"Step Connector",iconUrl:"/assets/images/items/connector-step.svg",item:{shapeProps:{thick:!1,sourceCap:"empty",destinationCap:"empty",smoothing:"step",points:[{x:4,y:88},{x:70,y:51},{x:136,y:4}]}}},{group:V,name:"Step Connector",iconUrl:"/assets/images/items/connector-step-smooth.svg",item:{shapeProps:{thick:!1,sourceCap:"empty",destinationCap:"empty",smoothing:"step-smooth",points:[{x:4,y:88},{x:70,y:51},{x:136,y:4}]}}},{group:V,name:"Triangle Connector",iconUrl:"/assets/images/items/connector-triangle.svg",item:{shapeProps:{thick:!1,sourceCap:"empty",destinationCap:"triangle",points:H}}},{group:V,name:"Triangle Connector",iconUrl:"/assets/images/items/connector-triangle-white.svg",item:{shapeProps:{thick:!1,sourceCap:"empty",destinationCap:"triangle-h",points:H}}},{group:V,name:"Arrow Connector",iconUrl:"/assets/images/items/connector-arrow.svg",item:{shapeProps:{thick:!1,sourceCap:"empty",destinationCap:"arrow",points:H}}},{group:V,name:"Triangle Connector (Both Sides)",iconUrl:"/assets/images/items/connector-triangle-both.svg",item:{shapeProps:{thick:!1,sourceCap:"triangle",destinationCap:"triangle",points:H}}},{group:V,name:"Triangle Connector (Both Sides)",iconUrl:"/assets/images/items/connector-triangle-white-both.svg",item:{shapeProps:{thick:!1,sourceCap:"triangle-h",destinationCap:"triangle-h",points:H}}},{group:V,name:"Arrow Connector (Both Sides)",iconUrl:"/assets/images/items/connector-arrow-both.svg",item:{shapeProps:{thick:!1,sourceCap:"arrow",destinationCap:"arrow",points:H}}},{group:V,name:"Thick Connector",iconUrl:"/assets/images/items/connector-arrow-thick.svg",item:{shapeProps:{sourceCap:"empty",destinationCap:"triangle",points:H,thick:!0,thickWidth:10}}},{group:V,name:"Thick Connector (Both Arrows)",iconUrl:"/assets/images/items/connector-arrow-thick-both.svg",item:{shapeProps:{sourceCap:"triangle",destinationCap:"triangle",points:H,thick:!0,thickWidth:10}}}],getTextSlots:()=>[],getPins(e){const t={};return(0,r.Ed)(e.shapeProps.points,(e=>{t[e.id]={x:e.x,y:e.y}})),t},editorProps:{description:"rich"},args:{strokeColor:{type:"color",value:"rgba(30,30,30,1.0)",name:"Stroke color"},strokeSize:{type:"number",value:2,name:"Stroke size"},strokePattern:{type:"stroke-pattern",value:"solid",name:"Stroke pattern"},points:{type:"path-points",value:[],name:"Path points",hidden:!0},sourceCap:{type:"path-cap",value:"empty",name:"Source Cap"},sourceCapSize:{type:"number",value:20,name:"Source Cap Size"},destinationCap:{type:"path-cap",value:"empty",name:"Destination Cap"},destinationCapSize:{type:"number",value:20,name:"Destination Cap Size"},smoothing:{type:"choice",value:"smooth",options:["linear","smooth","step","step-cut","step-smooth"],name:"Smoothing Type"},stepSize:{type:"number",value:10,name:"Step size",depends:{smoothing:["step-cut","step-smooth"]}},thick:{type:"boolean",value:!1,name:"Thick"},fill:{type:"advanced-color",value:{type:"solid",color:"rgba(255,255,255,1.0)"},name:"Fill",depends:{thick:!0}},thickWidth:{type:"number",value:10,name:"Thick Width",min:1,max:1e3,depends:{thick:!0}},autoAttach:{type:"boolean",value:!0,name:"Attach automatically",description:"Let connector attach to other items. Disable this property if you don't want your connector to stick to other items"},sourceItem:{type:"element",value:null,name:"Source Item",description:"Attach this curve to an item as a source",hidden:!0},destinationItem:{type:"element",value:null,name:"Destination Item",description:"Attach this curve to an item as a destination",hidden:!0},sourceItemPosition:{type:"number",value:0,name:"Position On Source Item",description:"Distance on the path of the item where this curve should be attached to",hidden:!0},destinationItemPosition:{type:"number",value:0,name:"Position On Source Item",description:"Distance on the path of the item where this curve should be attached to",hidden:!0},sourcePin:{type:"string",value:"",name:"Source Item Pin",description:"If non-empty it means that the connector is attached to a specific pin",hidden:!0},destinationPin:{type:"string",value:"",name:"Destination Item Pin",description:"If non-empty it means that the connector is attached to a specific pin",hidden:!0}}},mounted(){d.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChange)},beforeDestroy(){d.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChange)},data(){const e=j(this.item);return{shapePath:e?e.path:null,caps:e?e.caps:null}},methods:{onItemChange(){v.info("onItemChange",this.item.id,this.item.name,this.item);const e=j(this.item);e&&(this.shapePath=e.path,this.caps=e.caps),v.info("computed path and caps",this.item.id,this.item.name,this.shapePath,this.caps),this.$forceUpdate()}},computed:{strokeDashArray(){return o.Z.createDashArray(this.item.shapeProps.strokePattern,this.item.shapeProps.strokeSize)},svgFill(){return this.item.shapeProps.thick?(0,h.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`):"none"}}},W=(0,n(1900).Z)(q,i,[],!1,null,null,null).exports},929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{attrs:{"data-preview-ignore":"true"}},[e.item.shapeProps.showName?n("foreignObject",{attrs:{x:0,y:-20-e.boundsCorrection,width:e.item.area.w,height:20}},[n("div",{staticStyle:{"font-size":"12px","font-weight":"bold",display:"table-cell",padding:"2px 5px",height:"20px","font-family":"Arial, Helvetica, sans-serif","text-align":"left","vertical-align":"bottom","white-space":"nowrap"},style:{background:e.item.shapeProps.strokeColor,color:"white"},attrs:{"data-item-id":e.item.id}},[e._v("\n            "+e._s(e.item.name)+"\n        ")])]):e._e(),e._v(" "),n("path",{attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,"stroke-dasharray":e.strokeDashArray,"stroke-dashoffset":e.item.meta.strokeOffset,"data-item-id":e.item.id,fill:"none"}}),e._v(" "),e.item.shapeProps.screenBounds?n("path",{attrs:{d:e.screenBoundsPath,"stroke-width":2*e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,fill:"none","data-item-id":e.item.id}}):e._e()])};i._withStripped=!0;var r=n(4502),o=n(7196);const s={props:["item"],shapeConfig:{shapeType:"vue",id:"dummy",menuItems:[{group:"General",name:"Dummy",iconUrl:"/assets/images/items/dummy.svg",description:"\n                Dummy item can be used in order to group mulitple items together.\n                It is only visible in the edit mode and completely transparent in view mode.\n            ",item:{name:"Dummy",shapeProps:{}},previewArea:{x:3,y:30,w:150,h:120}},{group:"General",name:"Screen bounds",iconUrl:"/assets/images/items/screen-bounds.svg",description:"\n                Specifies the bounds of the screen. Users will not be able to scroll outside of it in view mode.\n                If the document is loaded inside of a component it will also work as view box and limit the rendering of the component items to the view box area.\n            ",item:{name:"Bounds",shapeProps:{screenBounds:!0,strokeColor:"#E8821B87",strokePattern:"dotted"}},previewArea:{x:3,y:30,w:150,h:120}}],getTextSlots:e=>[],computePath:o._U,computeOutline:o.bL,editorProps:{onlyEditMode:!0},args:{strokeColor:{name:"Stroke",type:"color",value:"rgba(50, 175, 209, 1)"},strokeSize:{name:"Stroke Size",type:"number",value:2},strokePattern:{type:"stroke-pattern",value:"dashed",name:"Stroke pattern"},showName:{type:"boolean",value:!0,name:"Display Name"},screenBounds:{type:"boolean",value:!1,name:"Screen bounds",description:"If set to true, this item specifies the bounds of the screen. Users will not be able to scroll outside of it in view mode.If the document is loaded inside of a component it will also work as view box and limit the rendering of the component items to the view box area."}}},computed:{shapePath(){return(0,o._U)(this.item)},screenBoundsPath(){const e=this.item.area.w,t=this.item.area.h,n=Math.min(e,t)/6;return`M 0 ${n} l 0 ${-n} l ${n} 0 M ${e-n} 0 l ${n} 0 l 0 ${n}M ${e} ${t-n} l 0 ${n} l ${-n} 0M ${n} ${t} l ${-n} 0 l 0 ${-n}`},strokeDashArray(){return r.Z.createDashArray(this.item.shapeProps.strokePattern,this.item.shapeProps.strokeSize)},boundsCorrection(){return this.item.shapeProps.screenBounds?this.item.shapeProps.strokeSize+1:0}}},a=(0,n(1900).Z)(s,i,[],!1,null,null,null).exports},1526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[e._l(e.buttons,(function(t){return n("g",[n("path",{staticStyle:{"-webkit-transition":"fill 200ms linear","-ms-transition":"fill 200ms linear",transition:"fill 200ms linear"},attrs:{d:t.path,fill:e.hoveredButtonId===t.id?e.item.shapeProps.hoverFillColor:e.item.shapeProps.fillColor,stroke:e.item.shapeProps.strokeColor,"stroke-width":"1"}}),e._v(" "),n("foreignObject",{attrs:{x:t.x,y:t.y,width:t.size,height:t.size}},[n("div",{staticStyle:{display:"flex","align-items":"center",height:"100%","text-align":"center","vertical-align":"middle"},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("i",{class:[e.isPlaying?t.iconPlaying:t.icon],style:{display:"inline-block",width:"100%","text-align":"center","font-size":e.buttonFontSize,color:e.item.shapeProps.strokeColor}})])])])})),e._v(" "),e.currentSection?n("foreignObject",{attrs:{x:"0",y:e.buttonSize+6+e.topOffset,width:e.item.area.w,height:"60",xmlns:"http://www.w3.org/1999/xhtml"}},[n("div",{style:e.framesTextStyle},[n("div",[e._v(e._s(e.currentSection.number)+" / "+e._s(e.totalSections))]),e._v(" "),e.shoulShowCurrentSectionName?n("div",[e._v(e._s(e.currentSection.name))]):e._e()])]):e._e()],2)};i._withStripped=!0;var r=n(6234),o=n(8595);function s(e){const t=e.shapeProps.sections.length>0?5:1,n=e.area.w/2-(t/2*20+4*(t-1)/2),i=e.shapeProps.sections.length>0?60:30,r=Math.max(0,e.area.h-i),o=(e,t,i,o)=>({id:t,icon:i,iconPlaying:o,path:`M ${n+24*e} ${r+10} a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0 z`,x:n+24*e,y:r,size:20});return e.shapeProps.sections.length>0?[o(0,"fast-backward","fas fa-fast-backward","fas fa-fast-backward"),o(1,"step-backward","fas fa-step-backward","fas fa-step-backward"),o(2,"play-stop","fas fa-play","fas fa-pause"),o(3,"step-forward","fas fa-step-forward","fas fa-step-forward"),o(4,"fast-forward","fas fa-fast-forward","fas fa-fast-forward")]:[o(0,"play-stop","fas fa-play","fas fa-pause")]}const a={props:["item","editorId"],shapeConfig:{shapeType:"vue",id:"frame_player",menuItems:[{group:"General",name:"Frame Player",iconUrl:"/assets/images/items/frame-player.svg",size:{w:140,h:100},item:{textSlots:{title:{text:"<b>Frame Player</b>",color:"#000000",fontSize:14}}}}],getPins:e=>({}),getTextSlots(e){const t=e.shapeProps.sections.length>0?60:30;return[{name:"title",area:{x:0,y:0,w:e.area.w,h:Math.max(0,e.area.h-t)}}]},computePath(e){const t=e.area.w,n=e.area.h;return`M 0 0   L ${t} 0  L ${t} ${n}  L 0 ${n} z`},onMouseMove(e,t,n){o.Z.item.custom.$emit("mouse-move",e,t.id,n)},onMouseOut(e,t){o.Z.item.custom.$emit("mouse-out",e,t.id)},onMouseDown(e,t,n){o.Z.item.custom.$emit("mouse-down",e,t.id,n)},computeCustomAreas:e=>s(e).map((e=>({id:e.id,cursor:"pointer",path:e.path}))),args:{totalFrames:{type:"number",value:5,name:"Total frames"},fps:{type:"number",value:1,name:"Frames per second"},fillColor:{type:"color",value:"rgba(220, 220, 220, 1.0)",name:"Fill color"},hoverFillColor:{type:"color",value:"rgba(190, 190, 190, 1.0)",name:"Hover fill color"},strokeColor:{type:"color",value:"rgba(30,30,30,1.0)",name:"Stroke color"},animations:{type:"animations",value:[],name:"Animations",hidden:!0},functions:{type:"animation-functions",value:{},name:"Animation Functions",hidden:!0},sections:{type:"animation-sections",value:[],name:"Sections",hidden:!0}}},beforeMount(){o.Z.framePlayer.prepared.$emit(this.editorId,this.item,this.createFrameCallbacks()),o.Z.item.custom.$on("mouse-move",this.editorId,this.item.id,this.onMouseMove),o.Z.item.custom.$on("mouse-down",this.editorId,this.item.id,this.onMouseDown),o.Z.item.custom.$on("mouse-out",this.editorId,this.item.id,this.onMouseOut)},beforeDestroy(){o.Z.item.custom.$off("mouse-move",this.editorId,this.item.id,this.onMouseMove),o.Z.item.custom.$off("mouse-down",this.editorId,this.item.id,this.onMouseDown),o.Z.item.custom.$off("mouse-out",this.editorId,this.item.id,this.onMouseOut)},data(){const e=[],t=new Map,n=new Map;this.item.shapeProps.sections.sort(((e,t)=>e.frame-t.frame)),(0,r.Ed)(this.item.shapeProps.sections,((e,i)=>{const r={number:i+1,name:e.value,frame:e.frame};t.set(e.frame,r),n.set(r.number,r)}));let i=null,o=null;for(let n=0;n<this.item.shapeProps.totalFrames;n++){const r=n+1;t.has(r)&&(o=t.get(r),i||(i=o)),e[n]=o}return{currentFrame:1,isPlaying:!1,intervalId:null,buttonFontSize:"10px",sectionsMapping:e,sectionsByNumber:n,currentSection:i,totalSections:this.item.shapeProps.sections.length,hoveredButtonId:null,buttons:s(this.item),buttonSize:20}},methods:{onMouseMove(e){this.hoveredButtonId=e},onMouseOut(){this.hoveredButtonId=null},onMouseDown(e){"fast-backward"===e?this.onClickedToBegin():"step-backward"===e?this.onClickedLeft():"play-stop"===e?this.onClickedTogglePlay():"step-forward"===e?this.onClickPlayToNext():"fast-forward"===e&&this.onClickFastRight()},onClickedToBegin(){const e=this.sectionsByNumber.get(1);e&&(this.currentFrame=1,this.currentSection=e,this.emitCurrentFrameEvent())},onClickFastRight(){if(this.currentSection){const e=this.sectionsByNumber.get(this.currentSection.number+1);if(e){const t=e.frame;t>=0&&(this.currentFrame=t,this.currentSection=e,this.emitCurrentFrameEvent())}}},onClickedLeft(){if(this.currentSection){const e=this.sectionsByNumber.get(this.currentSection.number-1);if(e){const t=e.frame;t>=0&&(this.currentFrame=t,this.currentSection=e,this.emitCurrentFrameEvent())}}},createFrameCallbacks(){return{onFrame:e=>{this.currentFrame=e,e<=this.sectionsMapping.length&&e>0&&(this.currentSection=this.sectionsMapping[e-1])},onFinish:()=>{this.isPlaying=!1}}},onClickPlayToNext(){if(this.currentSection){let e=-1;const t=this.sectionsByNumber.get(this.currentSection.number+1);if(t){const n=t.frame;n<=this.item.shapeProps.totalFrames&&(e=n)}this.$emit("frame-animator",{operation:"play",item:this.item,frame:this.currentFrame,stopFrame:e,callbacks:this.createFrameCallbacks()})}},onClickedTogglePlay(){if(this.isPlaying)this.$emit("frame-animator",{operation:"stop",item:this.item});else{this.isPlaying=!0;let e=this.currentFrame;this.currentFrame>=this.item.shapeProps.totalFrames&&(e=1),this.$emit("frame-animator",{operation:"play",item:this.item,frame:e,callbacks:this.createFrameCallbacks()})}},emitCurrentFrameEvent(){this.$emit("frame-animator",{operation:"setFrame",item:this.item,frame:this.currentFrame})}},computed:{framesTextStyle(){return{color:this.item.textSlots.title.color,"font-size":`${this.item.textSlots.title.fontSize}px`,"text-align":"center"}},topOffset(){return Math.max(0,this.item.area.h-60)},shoulShowCurrentSectionName(){return!!this.currentSection&&""+this.currentSection.number!==this.currentSection.name}}},l=(0,n(1900).Z)(a,i,[],!1,null,null,null).exports},2476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("AdvancedFill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("rect",{attrs:{x:"0",y:"0",width:e.item.area.w,height:e.item.area.h,stroke:e.edgeStroke,"stroke-width":e.item.shapeProps.strokeSize,fill:e.svgFill}}),e._v(" "),e._l(e.xLines,(function(t){return n("line",{attrs:{x1:t,y1:"0",x2:t,y2:e.item.area.h,stroke:e.item.shapeProps.strokeColor,"stroke-width":e.item.shapeProps.strokeSize}})})),e._v(" "),e._l(e.yLines,(function(t){return n("line",{attrs:{x1:"0",y1:t,x2:e.item.area.w,y2:t,stroke:e.item.shapeProps.strokeColor,"stroke-width":e.item.shapeProps.strokeSize}})}))],2)};i._withStripped=!0;var r=n(9498),o=n(9421);function s(e,t){const n=e/t;return Array.from(Array(t-1).keys()).map((e=>n*(e+1)))}const a={props:["item","editorId"],components:{AdvancedFill:o.ZP},shapeConfig:{id:"grid",shapeType:"vue",menuItems:[{group:"Tables",name:"Grid",iconUrl:"/assets/images/items/grid.svg",item:{shapeProps:{}}}],computePath:e=>(0,r.U6)(e.area.w,e.area.h),args:{gridCols:{type:"number",value:10,min:1,name:"Columns"},gridRows:{type:"number",value:10,min:1,name:"Rows"},fill:{type:"advanced-color",value:{type:"solid",color:"rgba(255, 255, 255, 1.0)"},name:"Fill"},edges:{type:"boolean",value:!0,name:"Edges"},strokeColor:{type:"color",value:"rgba(230, 230, 230, 1.0)",name:"Stroke"},strokeSize:{type:"number",value:1,name:"Stroke size"}}},data(){return{xLines:s(this.item.area.w,Math.max(1,this.item.shapeProps.gridCols)),yLines:s(this.item.area.h,Math.max(1,this.item.shapeProps.gridRows))}},computed:{svgFill(){return(0,o.uQ)(this.item)},edgeStroke(){return this.item.shapeProps.edges?this.item.shapeProps.strokeColor:"none"}}},l=(0,n(1900).Z)(a,i,[],!1,null,null,null).exports},4530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{attrs:{"data-preview-ignore":"true"}},[n("foreignObject",{attrs:{x:0,y:-20,width:e.item.area.w,height:20}},[n("div",{staticStyle:{"font-size":"12px","font-weight":"bold",display:"table-cell",padding:"2px 5px",height:"20px","font-family":"Arial, Helvetica, sans-serif","text-align":"left","vertical-align":"bottom","white-space":"normal"},style:{background:e.item.shapeProps.strokeColor,color:"white"},attrs:{"data-item-id":e.item.id}},[e._v("\n            "+e._s(e.item.name)+"\n        ")])]),e._v(" "),n("path",{attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,"stroke-dasharray":e.strokeDashArray,"stroke-dashoffset":e.item.meta.strokeOffset,fill:"none"}})])};i._withStripped=!0;var r=n(4502),o=n(7196);const s={props:["item"],shapeConfig:{shapeType:"vue",components:{},id:"hud",menuItems:[{group:"General",name:"HUD",iconUrl:"/assets/images/items/hud.svg",description:"\n                HUD stands for Heads Up Display.\n                When going into view mode, HUD item will always be rendered in the viewport.\n                This lets you design your own menu on top of the scene, which will always stay in the same spot"}],getTextSlots:e=>[],computePath:o._U,computeOutline:o.bL,editorProps:{onlyEditMode:!0},args:{strokeColor:{name:"Stroke",type:"color",value:"#32D143"},strokeSize:{name:"Stroke Size",type:"number",value:2},strokePattern:{type:"stroke-pattern",value:"dashed",name:"Stroke pattern"},horizontalPosition:{type:"choice",value:"left",options:["left","right","center"],name:"Horizontal Position"},verticalPosition:{type:"choice",value:"top",options:["top","bottom","center"],name:"Vertical Position"}}},computed:{shapePath(){return(0,o._U)(this.item)},strokeDashArray(){return r.Z.createDashArray(this.item.shapeProps.strokePattern,this.item.shapeProps.strokeSize)}}},a=(0,n(1900).Z)(s,i,[],!1,null,null,null).exports},477:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.titleArea}}),e._v(" "),n("advanced-fill",{attrs:{fillId:"titlefill-pattern-"+e.item.id,fill:e.item.shapeProps.titleFill,area:e.item.area}}),e._v(" "),e.item.shapeProps.showTitle?n("rect",{attrs:{x:0,y:0,width:e.item.area.w,height:e.item.shapeProps.titleHeight,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,fill:e.svgTitleFill}}):e._e(),e._v(" "),e.item.shapeProps.showTitle?n("rect",{attrs:{x:e.imageX,y:e.imageY,width:e.imageWidth,height:e.imageHeight,"stroke-width":0,stroke:"none",fill:e.svgFill}}):e._e(),e._v(" "),n("g",{attrs:{transform:"translate(0 "+e.imageY+")"}},[n("clipPath",{attrs:{id:"image-crop-clip-path-"+e.item.id}},[n("path",{attrs:{d:"M 0 0  L "+e.item.area.w+" 0   L "+e.item.area.w+" "+e.item.area.h+"  L 0 "+e.item.area.h+" Z","data-item-id":e.item.id,"stroke-width":"0px",stroke:"rgba(255, 255, 255, 0)",fill:"rgba(255, 255, 255, 0)"}})]),e._v(" "),n("pattern",{attrs:{id:"image-fill-"+e.item.id,patternUnits:"userSpaceOnUse",width:e.imageWidth,height:e.imageHeight}},[n("image",{attrs:{"xlink:href":e.imagePath,x:-e.item.shapeProps.crop.x*e.imageWidth,y:-e.item.shapeProps.crop.y*e.imageHeight,width:e.imageWidth*(1+e.item.shapeProps.crop.x+e.item.shapeProps.crop.w),height:e.imageHeight*(1+e.item.shapeProps.crop.y+e.item.shapeProps.crop.h),preserveAspectRatio:e.imagePreserveAspectRatio}})]),e._v(" "),n("g",{style:{"clip-path":"url(#image-crop-clip-path-"+e.item.id+")"}},[n("rect",{attrs:{x:0,y:0,width:e.imageWidth,height:e.imageHeight,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,fill:"url(#image-fill-"+e.item.id+")"}})])])],1)};i._withStripped=!0;var r=n(9498),o=n(9421);const s=e=>{const t=e.area.w,n=e.area.h;return`M 0 0  L ${t} 0  L ${t} ${n} L 0 ${n} Z`},a={props:["item"],components:{AdvancedFill:o.ZP},shapeConfig:{shapeType:"vue",id:"image",menuItems:[{group:"General",name:"Image",imageProperty:"shapeProps.image",iconUrl:"/assets/images/items/image.svg",description:"It lets you upload an image or specify a link to external image",item:{shapeProps:{image:""}}}],getPins:e=>(0,r.Fb)(e),computePath:s,getTextSlots:e=>[{name:"title",area:{x:0,y:0,w:e.area.w,h:Math.max(0,e.shapeProps.titleHeight)}}],editorProps:{},args:{image:{type:"image",name:"Image"},stretch:{type:"boolean",value:!1,name:"Stretch"},strokeColor:{type:"color",value:"rgba(80, 80, 80, 1.0)",name:"Stroke color"},strokeSize:{type:"number",value:0,name:"Stroke size"},showTitle:{type:"boolean",value:!1,name:"Title"},crop:{type:"crop-area",value:{x:0,y:0,w:0,h:0},name:"Crop",hidden:!0},titleHeight:{type:"number",value:36,name:"Title height",min:0,depends:{showTitle:!0}},titleFill:{type:"advanced-color",value:{type:"solid",color:"rgba(240,240,240,1.0)"},name:"Title Background",depends:{showTitle:!0}},fill:{type:"advanced-color",value:{type:"solid",color:"rgba(240,240,240,1.0)"},name:"Background",depends:{showTitle:!0}}}},computed:{shapePath(){return s(this.item)},svgTitleFill(){return(0,o.pz)(this.item.shapeProps.titleFill,`titlefill-pattern-${this.item.id}`)},svgFill(){return(0,o.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)},imagePreserveAspectRatio(){return this.item.shapeProps.stretch?"none":"xMidYMid meet"},titleArea(){return{x:0,y:0,w:this.item.area.w,h:this.item.shapeProps.titleHeight}},imageX:()=>0,imageY(){return this.item.shapeProps.showTitle?this.item.shapeProps.titleHeight:0},imageWidth(){return this.item.area.w},imageHeight(){return this.item.shapeProps.showTitle?Math.max(0,this.item.area.h-this.item.shapeProps.titleHeight):this.item.area.h},imagePath(){return this.item.shapeProps.image?this.item.shapeProps.image:this.$store.getters.assetsPath+"/images/missing-scheme-preview.png"}}},l=(0,n(1900).Z)(a,i,[],!1,null,null,null).exports},1061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[e.hideTextSlot?e._e():n("a",{staticClass:"item-link",attrs:{"xlink:href":e.item.shapeProps.url,target:e.target}},[e.item.shapeProps.showIcon?n("foreignObject",{style:e.iconStyle,attrs:{x:"0",y:"0",width:e.textOffset,height:e.item.area.h}},[n("div",{attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("i",{class:e.iconClass})])]):e._e(),e._v(" "),e.textWidth>0?n("foreignObject",{style:e.linkStyle,attrs:{x:e.textOffset,y:"0",width:e.textWidth,height:e.item.area.h}},[n("div",{attrs:{xmlns:"http://www.w3.org/1999/xhtml"},domProps:{innerHTML:e._s(e.linkHtml)}})]):e._e()])])};i._withStripped=!0;var r=n(6234),o=n(9874),s=n(3762),a=n(5635),l=n(8595);const c={props:["item","editorId"],shapeConfig:{shapeType:"vue",id:"link",menuItems:[{group:"General",name:"Link",iconUrl:"/assets/images/items/link.svg",item:{textSlots:{link:{text:"Link",fontSize:16,paddingLeft:0,paddingTop:0,paddingBottom:0,paddingRight:0,color:"#047EFB",halign:"left",valign:"top"}},cursor:"pointer"}}],computePath(e){const t=e.area.w,n=e.area.h;return`M 0 0   L ${t} 0  L ${t} ${n}  L 0 ${n} z`},editorProps:{customTextRendering:!0},getTextSlots:e=>[{name:"link",area:{x:0,y:0,w:e.area.w,h:e.area.h}}],onMouseDown(e,t){l.Z.item.custom.$emit("mouse-down",e,t.id)},args:{url:{type:"string",value:"",name:"URL"},otherTab:{type:"boolean",value:!0,name:"In Other Tab",description:"Open the link in another tab"},underline:{type:"boolean",value:!0,name:"Underline"},showIcon:{type:"boolean",value:!0,name:"Show Icon"},icon:{type:"choice",value:"default",name:"Icon",options:(0,r.UI)(o.Z.knownTypes,(e=>e.name))},iconColor:{type:"color",value:"#666666",name:"Color",depends:{showIcon:!0}}}},beforeMount(){l.Z.item.custom.$on("mouse-down",this.editorId,this.item.id,this.onLinkClick),l.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChanged),l.Z.textSlot.triggered.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),l.Z.textSlot.canceled.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditCanceled)},beforeDestroy(){l.Z.item.custom.$off("mouse-down",this.editorId,this.item.id,this.onLinkClick),l.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChanged),l.Z.textSlot.triggered.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),l.Z.textSlot.canceled.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditCanceled)},data(){return{linkStyle:this.createLinkStyle(),hideTextSlot:!1}},methods:{createLinkStyle(){const e=(0,a.A)(this.item.textSlots.link);return e["text-decoration"]=this.item.shapeProps.underline?"underline":"none",e},onLinkClick(){this.item.shapeProps.otherTab?window.open(this.item.shapeProps.url,"_blank")||window.location.replace(this.item.shapeProps.url):window.location=this.item.shapeProps.url},calculateTextOffset(){return this.item.shapeProps.showIcon?1.4*this.item.textSlots.link.fontSize:0},onItemChanged(){this.linkStyle=this.createLinkStyle()},onItemTextSlotEditTriggered(e,t,n,i){this.hideTextSlot=!0},onItemTextSlotEditCanceled(e,t){this.hideTextSlot=!1}},computed:{target(){return this.item.shapeProps.otherTab?"_blank":"_self"},iconStyle(){return{color:this.item.shapeProps.iconColor,"padding-top":this.linkStyle["padding-left"],"padding-bottom":this.linkStyle["padding-left"]}},linkHtml(){return(0,s.Z)(this.item.textSlots.link.text)},textOffset(){return this.calculateTextOffset()},textWidth(){return this.item.area.w-this.calculateTextOffset()},iconClass(){return o.Z.findTypeByNameOrDefault(this.item.shapeProps.icon).cssClass}}},h=(0,n(1900).Z)(c,i,[],!1,null,null,null).exports},5019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("foreignObject",{attrs:{x:"0",y:"0",width:e.item.area.w,height:e.item.area.h}},[n("div",{ref:"expressionContainer",staticClass:"item-text-container",style:e.htmlStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml","data-item-id":e.item.id},domProps:{innerHTML:e._s(e.expressionHTML)}})])])};i._withStripped=!0;var r=n(9498),o=n(9218),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("div",{staticClass:"ctrl-label"},[e._v("Expression")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.expression,expression:"expression"}],staticStyle:{width:"100%"},attrs:{cols:"12"},domProps:{value:e.expression},on:{input:function(t){t.target.composing||(e.expression=t.target.value)}}}),e._v(" "),n("table",{staticClass:"properties-table"},[n("tbody",[n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("\n                    Font size\n                ")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("ColorPicker",{attrs:{editorId:e.editorId,color:e.item.shapeProps.color},on:{input:e.onColorUpdate}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("\n                    Font size\n                ")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("NumberTextfield",{attrs:{value:e.fontSize,min:1},on:{changed:function(t){return e.onFontSizeUpdate(arguments[0])}}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Horizontal Align")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("ul",{staticClass:"button-group"},e._l(e.halignOptions,(function(t){return n("li",[n("span",{staticClass:"toggle-button",class:{toggled:e.halign===t.value},attrs:{title:t.name},on:{click:function(n){return e.updateHAlign(t.value)}}},[n("i",{class:t.iconCss})])])})),0)])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Vertical Align")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("ul",{staticClass:"button-group"},e._l(e.valignOptions,(function(t){return n("li",[n("span",{staticClass:"toggle-button",class:{toggled:e.valign===t.value},attrs:{title:t.name},on:{click:function(n){return e.updateVAlign(t.value)}}},[n("i",{class:t.iconCss})])])})),0)])])])])])};s._withStripped=!0;var a=n(8595),l=n(9240),c=n(7455);const h={props:{editorId:{type:String,required:!0},item:{type:Object},refreshKey:{type:String}},components:{NumberTextfield:l.Z,ColorPicker:c.Z},data(){return{expression:this.item.shapeProps.expression,fontSize:this.item.shapeProps.fontSize,halign:this.item.shapeProps.halign,valign:this.item.shapeProps.valign,halignOptions:[{name:"Left",value:"left",iconCss:"fas fa-align-left"},{name:"Center",value:"center",iconCss:"fas fa-align-center"},{name:"Right",value:"right",iconCss:"fas fa-align-right"}],valignOptions:[{name:"Top",value:"top",iconCss:"schemio-icon schemio-icon-valign-top"},{name:"Middle",value:"middle",iconCss:"schemio-icon schemio-icon-valign-middle"},{name:"Bottom",value:"bottom",iconCss:"schemio-icon schemio-icon-valign-bottom"}]}},methods:{emitChange(e){a.Z.item.changed.specific.$emit(this.editorId,this.item.id,e),a.Z.schemeChangeCommitted.$emit(this.editorId,`item.${this.item.id}.shapeProps.${e}`)},onColorUpdate(e){this.item.shapeProps.color=e,this.emitChange("color")},updateHAlign(e){this.halign=e,this.item.shapeProps.halign=e,this.emitChange("halign")},updateVAlign(e){this.valign=e,this.item.shapeProps.valign=e,this.emitChange("valign")},onFontSizeUpdate(e){this.fontSize=e,this.item.shapeProps.fontSize=e,this.emitChange("fontSize")}},watch:{expression(e){this.item.shapeProps.expression=e,a.Z.item.changed.specific.$emit(this.editorId,this.item.id,"expression"),a.Z.schemeChangeCommitted.$emit(this.editorId,`item.${this.item.id}.shapeProps.expression`)}}};var d=n(1900);const u=(0,d.Z)(h,s,[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint hint-small"},[e._v("\n        Uses "),n("a",{attrs:{href:"https://katex.org/"}},[e._v("KaTeX")]),e._v(" library (TeX math syntax) for generating beautyful mathematical expressions.\n        To see all supported functions visit "),n("a",{staticClass:"link",attrs:{target:"_blank",href:"https://katex.org/docs/supported.html"}},[e._v("this documentation page")])])}],!1,null,null,null).exports,p=new o.h4,f=new o.h4,m={props:["item","editorId"],components:{MathBlockPropertiesEditor:u},mounted(){(function(e,t){let n=e.state.assetsPath;"/"===n&&(n=""),e.state.routePrefix&&(n=e.state.routePrefix+n);const i=t.shapeProps.expression;return p.get(i,(()=>new Promise(((t,r)=>{const o=new Worker(`${n}/js/katex-worker.js`);o.onmessage=e=>{t(e.data)},o.postMessage({expression:i,routePrefix:e.state.routePrefix})}))))})(this.$store,this.item).then((e=>{this.expressionHTML=e,f.set(this.item.id,e)}))},data(){return{expressionHTML:f.getInstant(this.item.id,""),htmlStyle:{color:this.item.shapeProps.color,fontSize:`${this.item.shapeProps.fontSize}px`,width:`${this.item.area.w}px`,height:`${this.item.area.h}px`,display:"table-cell","text-align":this.item.shapeProps.halign,"vertical-align":this.item.shapeProps.valign}}},shapeConfig:{shapeType:"vue",id:"math_block",menuItems:[{group:"General",name:"Math Expression",iconUrl:"/assets/images/items/math-block.svg",item:{shapeProps:{expression:"c = \\pm\\sqrt{a^2 + b^2}"}}}],editorProps:{shapePropsEditor:{component:u}},getTextSlots:e=>[],computePath:e=>(0,r.Qb)(e.area.w,e.area.h,0),args:{expression:{type:"string",value:"",name:"Expression"},color:{type:"color",value:"rgba(0,0,0,1.0)",name:"Color"},fontSize:{type:"number",value:15,name:"Font size",min:1},halign:{type:"choice",value:"center",options:["left","center","right"],name:"Horizontal Align"},valign:{type:"choice",value:"middle",options:["top","middle","bottom"],name:"Vertical Align"}}}},g=(0,d.Z)(m,i,[],!1,null,null,null).exports},3941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Nc});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("path",{staticStyle:{"stroke-linejoin":"round"},attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,"stroke-dasharray":e.strokeDashArray,"stroke-dashoffset":e.item.meta.strokeOffset,fill:e.fill}})],1)};i._withStripped=!0;var r=n(9421),o=n(4502),s=n(2017),a=n(3590),l=n(8270),c=n(8595),h=n(791),d=n(2644),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-properties"},[n("ul",{staticClass:"button-group"},e._l(e.tabs,(function(t){return n("li",[n("span",{staticClass:"toggle-button",class:{toggled:t.name===e.currentTab},attrs:{title:t.displayName},on:{click:function(n){e.currentTab=t.name}}},[n("i",{class:[t.icon]})])])})),0),e._v(" "),e.isTemplatedChild?n("div",{staticClass:"msg msg-info msg-small"},[e._v('\n        This item was generated with template. Modifications to this item are discouraged.\n        Consider applying changes to the item in the "Template" tab.\n    ')]):e._e(),e._v(" "),"description"===e.currentTab?n("GeneralPanel",{key:"general-panel-"+e.item.id,attrs:{editorId:e.editorId,item:e.item,schemeContainer:e.schemeContainer},on:{"tags-changed":function(t){return e.emitItemFieldChange("tags",arguments[0])}}}):e._e(),e._v(" "),"description"===e.currentTab?n("LinksPanel",{key:"links-panel-"+e.item.id,attrs:{editorId:e.editorId,item:e.item}}):e._e(),e._v(" "),"behavior"===e.currentTab?n("div",[n("BehaviorProperties",{key:"behavior-panel-"+e.item.id+"-"+e.behaviorPanelRevision,attrs:{editorId:e.editorId,item:e.item,"scheme-container":e.schemeContainer},on:{"item-field-changed":function(t){return e.emitItemFieldChange(arguments[0],arguments[1])},"jumped-to-item":e.onJumpedToItem}})],1):e._e(),e._v(" "),"auto-layout"===e.currentTab&&e.item?n("div",[n("AutoLayoutProperties",{key:"auto-layout-properties-panel-"+e.item.id,attrs:{editorId:e.editorId,item:e.item,schemeContainer:e.schemeContainer}})],1):e._e(),e._v(" "),"styles"===e.currentTab?n("div",[n("styles-palette",{key:"styles-palette-for-item-"+e.item.id,attrs:{userStylesEnabled:e.userStylesEnabled,item:e.item},on:{"style-applied":e.onStyleApplied}})],1):e._e(),e._v(" "),"effects"===e.currentTab?n("div",[e.item.effects&&0!==e.item.effects.length?n("ul",{staticClass:"effects-list"},e._l(e.item.effects,(function(t,i){return n("li",[n("div",{staticClass:"effect-name",on:{click:function(t){return e.openEditEffectModal(i)}}},[e._v(e._s(e._f("prettyEffectName")(t.name)))]),e._v(" "),n("div",{staticClass:"effect-right-panel"},[n("span",{staticClass:"icon icon-effect-edit",on:{click:function(t){return e.openEditEffectModal(i)}}},[n("i",{staticClass:"fas fa-edit"})]),e._v(" "),n("span",{staticClass:"icon icon-effect-delete",on:{click:function(t){return e.deleteEffect(i)}}},[n("i",{staticClass:"fas fa-times"})])])])})),0):n("div",{staticClass:"hint hint-small"},[e._v("There are no effects yet")]),e._v(" "),n("span",{staticClass:"btn btn-secondary",on:{click:e.startAddingEffect}},[e._v("Add Effect")])]):e._e(),e._v(" "),"shape"===e.currentTab?n("div",[n("panel",{attrs:{name:"General",uid:"general-item-properties"}},[n("table",{staticClass:"properties-table"},[n("tbody",[n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Opacity")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("number-textfield",{attrs:{value:e.item.opacity,min:0,max:100},on:{changed:function(t){return e.emitItemFieldChange("opacity",arguments[0])}}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Self Opacity")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("number-textfield",{attrs:{value:e.item.selfOpacity,min:0,max:100},on:{changed:function(t){return e.emitItemFieldChange("selfOpacity",arguments[0])}}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Cursor")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("select",{domProps:{value:e.item.cursor},on:{input:function(t){return e.emitItemFieldChange("cursor",arguments[0].target.value)}}},e._l(e.knownCursors,(function(t){return n("option",[e._v(e._s(t))])})),0)])])])])]),e._v(" "),e.hasShapeArgs?n("panel",{attrs:{name:"Shape Properties"}},[e.shapeComponent.editorProps&&e.shapeComponent.editorProps.shapePropsEditor&&e.shapeComponent.editorProps.shapePropsEditor.component?n("div",[n(e.shapeComponent.editorProps.shapePropsEditor.component,{key:"shape-properties-editor-"+e.item.shape+"-"+e.item.id,tag:"component",attrs:{editorId:e.editorId,item:e.item,refreshKey:e.shapePropsEditorKey},on:{"shape-prop-changed":e.onShapePropChange,"item-mutated":e.onItemMutated}})],1):n("table",{staticClass:"properties-table"},[n("tbody",e._l(e.shapeComponent.args,(function(t,i){return e.shapePropsControlStates[i]&&!e.isArgumentHidden(t)?n("tr",[n("td",{staticClass:"label",class:{disabled:!e.shapePropsControlStates[i].shown},attrs:{width:"50%"}},[e._v("\n                            "+e._s(t.name)+"\n                            "),t.description?n("tooltip",{attrs:{disabled:!e.shapePropsControlStates[i].shown}},[e._v(e._s(t.description))]):e._e()],1),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("PropertyInput",{key:"prop-input-"+e.item.id+"-"+e.item.shape+"-"+i+"-"+e.item.shapeProps.thick,attrs:{editorId:e.editorId,descriptor:t,value:e.item.shapeProps[i],shapeProps:e.item.shapeProps,disabled:!e.shapePropsControlStates[i].shown,schemeContainer:e.schemeContainer,leftOriented:"sourceCap"===i,itemId:e.item.id},on:{input:function(n){return e.onShapePropChange(i,t.type,arguments[0])}}})],1)]):e._e()})),0)])]):e._e(),e._v(" "),e.schemeContainer.editBox?n("PositionPanel",{key:"position-panel-"+e.item.id+"-"+e.schemeContainer.editBox.id,attrs:{editorId:e.editorId,"edit-box":e.schemeContainer.editBox,item:e.item},on:{"area-changed":e.onPositionPanelAreaChanged,"scale-changed":e.onPositionPanelScaleChanged}}):e._e(),e._v(" "),n("panel",{attrs:{name:"Advanced"}},[n("table",{staticClass:"properties-table"},[n("tbody",[n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Blend mode")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("select",{domProps:{value:e.item.blendMode},on:{input:function(t){return e.emitItemFieldChange("blendMode",arguments[0].target.value)}}},e._l(e.knownBlendModes,(function(t){return n("option",[e._v(e._s(t))])})),0)])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Visible")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:e.item.visible},on:{input:function(t){return e.emitItemFieldChange("visible",arguments[0].target.checked)}}})])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("\n                            Clip children\n                            "),n("tooltip",[e._v("Only renders parts of the child items that are located inside the visible shape of the parent item")])],1),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:e.item.clip},on:{input:function(t){return e.emitItemFieldChange("clip",arguments[0].target.checked)}}})])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("\n                            Allow mounting\n                            "),n("tooltip",[e._v("\n                                Allows mounting of other items to this item.\n                                You can disable it if you don't want other items to be automatically mounted to it.\n                            ")])],1),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:e.item.mount},on:{input:function(t){return e.emitItemFieldChange("mount",arguments[0].target.checked)}}})])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Shape")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("select",{domProps:{value:e.item.shape},on:{input:function(t){return e.$emit("shape-changed",arguments[0].target.value)}}},e._l(e.knownShapes,(function(t){return n("option",[e._v(e._s(t))])})),0)])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("\n                            Interaction Mode\n                            "),n("tooltip",[e._v('\n                                Specifies item default behavior on click.\n                                "side-panel" or "tooltip" modes are only used in case item has a non-empty description\n                            ')])],1),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("select",{domProps:{value:e.item.interactionMode},on:{input:function(t){return e.emitItemFieldChange("interactionMode",arguments[0].target.value)}}},e._l(e.knownInteractionModes,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)])]),e._v(" "),"tooltip"===e.item.interactionMode?n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Tooltip Background")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("color-picker",{attrs:{editorId:e.editorId,color:e.item.tooltipBackground},on:{input:function(t){return e.emitItemFieldChange("tooltipBackground",arguments[0])}}})],1)]):e._e(),e._v(" "),"tooltip"===e.item.interactionMode?n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Tooltip Color")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("color-picker",{attrs:{editorId:e.editorId,color:e.item.tooltipColor},on:{input:function(t){return e.emitItemFieldChange("tooltipColor",arguments[0])}}})],1)]):e._e()])])])],1):e._e(),e._v(" "),e.editEffectModal.shown?n("EditEffectModal",{key:"edit-effect-modal-"+e.item.id+"-"+e.editEffectModal.currentEffectIndex+"-"+e.editEffectModal.effectId,attrs:{editorId:e.editorId,isAdding:e.editEffectModal.isAdding,name:e.editEffectModal.name,effectId:e.editEffectModal.effectId,effectArgs:e.editEffectModal.effectArgs,schemeContainer:e.schemeContainer},on:{close:e.effectModalClosed,"effect-submited":e.onEffectSubmited,"effect-arg-changed":e.onEffectArgChanged,"effect-name-changed":e.onEffectNameChanged,"effect-id-changed":e.onEffectIdChanged}}):e._e()],1)};u._withStripped=!0;var p=n(6234),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-title text-nonselectable",class:{"panel-expanded":e.isOpen,"panel-collapsed":!e.isOpen},on:{click:e.togglePanel}},[e._v("\n        "+e._s(e.name)+"\n    ")]),e._v(" "),e.closable?n("span",{staticClass:"panel-close",on:{click:function(t){return e.$emit("close")}}},[n("i",{staticClass:"fas fa-times"})]):e._e(),e._v(" "),e.isOpen?n("div",{staticClass:"panel-body"},[e._t("default")],2):e._e()])};f._withStripped=!0;var m=n(9218);const g=new m.Ue("panel-state",100),v={props:{name:String,uid:String,closable:{type:Boolean,default:!1}},data(){return{isOpen:g.get(this.name+this.uid,!0)}},methods:{togglePanel(){this.isOpen=!this.isOpen,g.save(this.name+this.uid,this.isOpen),this.$emit("value",this.isOpen)}}};var y=n(1900);const b=(0,y.Z)(v,f,[],!1,null,null,null).exports;var x=n(4628),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("panel",{attrs:{name:"General"}},[n("h5",[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.name,expression:"item.name"}],staticClass:"textfield",class:{disabled:e.isTemplatedChild},attrs:{type:"text",disabled:e.isTemplatedChild},domProps:{value:e.item.name},on:{input:[function(t){t.target.composing||e.$set(e.item,"name",t.target.value)},function(t){return e.commitSchemeChange("name")}]}}),e._v(" "),e.isTemplatedChild?e._e():n("div",[n("div",[n("h5",[e._v("Tags")]),e._v(" "),n("vue-tags-input",{attrs:{tags:e.itemTags,"autocomplete-items":e.filteredItemTags},on:{"tags-changed":e.onItemTagChange},model:{value:e.itemTag,callback:function(t){e.itemTag=t},expression:"itemTag"}})],1)]),e._v(" "),"rich"===e.descriptionType?n("div",[n("h5",{staticClass:"section"},[e._v("Description")]),e._v(" "),n("div",{staticClass:"textarea-wrapper"},[n("rich-text-editor",{attrs:{value:e.item.description},on:{changed:function(t){e.item.description=arguments[0],e.commitSchemeChange("description")}}})],1)]):e._e()])};w._withStripped=!0;var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rich-text-editor-container"},[n("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.commands,r=t.isActive,o=t.getMarkAttrs;return[n("div",{staticClass:"rich-text-editor-menubar"},[n("span",{staticClass:"editor-icon",class:{"is-active":r.bold()},on:{click:i.bold}},[n("i",{staticClass:"fas fa-bold"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.italic()},on:{click:i.italic}},[n("i",{staticClass:"fas fa-italic"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.strike()},on:{click:i.strike}},[n("i",{staticClass:"fas fa-strikethrough"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.underline()},on:{click:i.underline}},[n("i",{staticClass:"fas fa-underline"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.link()},on:{click:function(t){e.toggleLink(i.link,o("link"))}}},[n("i",{staticClass:"fas fa-link"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.code()},on:{click:i.code}},[n("i",{staticClass:"fas fa-code"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.heading({level:1})},on:{click:function(e){return i.heading({level:1})}}},[e._v("\n                H1\n            ")]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.heading({level:2})},on:{click:function(e){return i.heading({level:2})}}},[e._v("\n                H2\n            ")]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.heading({level:3})},on:{click:function(e){return i.heading({level:3})}}},[e._v("\n                H3\n            ")]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.bullet_list()},on:{click:i.bullet_list}},[n("i",{staticClass:"fas fa-list-ul"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.ordered_list()},on:{click:i.ordered_list}},[n("i",{staticClass:"fas fa-list-ol"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.blockquote()},on:{click:i.blockquote}},[n("i",{staticClass:"fas fa-quote-left"})])])]}}])}),e._v(" "),n("div",{staticClass:"editor-frame",class:{focused:e.focused},style:{width:e.width,height:e.height}},[n("div",{staticClass:"editor-content",style:{width:e.width,height:e.height},on:{click:e.onEditorClick}},[n("editor-content",{attrs:{editor:e.editor}})],1),e._v(" "),n("span",{staticClass:"text-editor-enlarge",on:{click:function(t){e.enlarged=!0}}},[n("i",{staticClass:"fas fa-expand"})])]),e._v(" "),e.enlarged?n("div",{staticClass:"textarea-enlarged-container"},[n("div",{staticClass:"rich-text-editor-menubar"},[n("editor-menu-bar",{attrs:{editor:e.editorLarge},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.commands,r=t.isActive,o=t.getMarkAttrs;return[n("div",{staticClass:"editor-menubar"},[n("span",{staticClass:"editor-icon",class:{"is-active":r.bold()},on:{click:i.bold}},[n("i",{staticClass:"fas fa-bold"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.italic()},on:{click:i.italic}},[n("i",{staticClass:"fas fa-italic"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.strike()},on:{click:i.strike}},[n("i",{staticClass:"fas fa-strikethrough"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.underline()},on:{click:i.underline}},[n("i",{staticClass:"fas fa-underline"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.link()},on:{click:function(t){e.toggleLink(i.link,o("link"))}}},[n("i",{staticClass:"fas fa-link"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.code()},on:{click:i.code}},[n("i",{staticClass:"fas fa-code"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.heading({level:1})},on:{click:function(e){return i.heading({level:1})}}},[e._v("\n                        H1\n                    ")]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.heading({level:2})},on:{click:function(e){return i.heading({level:2})}}},[e._v("\n                        H2\n                    ")]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.heading({level:3})},on:{click:function(e){return i.heading({level:3})}}},[e._v("\n                        H3\n                    ")]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.bullet_list()},on:{click:i.bullet_list}},[n("i",{staticClass:"fas fa-list-ul"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.ordered_list()},on:{click:i.ordered_list}},[n("i",{staticClass:"fas fa-list-ol"})]),e._v(" "),n("span",{staticClass:"editor-icon",class:{"is-active":r.blockquote()},on:{click:i.blockquote}},[n("i",{staticClass:"fas fa-quote-left"})])])]}}],null,!1,24630616)}),e._v(" "),n("span",{staticClass:"btn btn-secondary action-close",on:{click:function(t){e.enlarged=!1}}},[e._v("Close")])],1),e._v(" "),n("div",{staticClass:"editor-frame"},[n("div",{staticClass:"editor-content",on:{click:e.onEditorClick}},[n("editor-content",{attrs:{editor:e.editorLarge}})],1)])]):e._e(),e._v(" "),e.linkModal.shown?n("modal",{attrs:{title:"Add Link","primary-button":"Save"},on:{close:function(t){e.linkModal.shown=!1},"primary-submit":e.onLinkModalSubmit}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.linkModal.url,expression:"linkModal.url"}],staticClass:"textfield",attrs:{placeholder:"https://"},domProps:{value:e.linkModal.url},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLinkModalSubmit.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.linkModal,"url",t.target.value)}}})]):e._e()],1)};function C(e){this.content=e}A._withStripped=!0,C.prototype={constructor:C,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,r=i.find(e),o=i.content.slice();return-1==r?o.push(n||e,t):(o[r+1]=t,n&&(o[r]=n)),new C(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new C(n)},addToStart:function(e,t){return new C([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new C(n)},addBefore:function(e,t,n){var i=this.remove(t),r=i.content.slice(),o=i.find(e);return r.splice(-1==o?r.length:o,0,t,n),new C(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=C.from(e)).size?new C(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=C.from(e)).size?new C(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=C.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},C.from=function(e){if(e instanceof C)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new C(t)};const k=C;function S(e,t,n){for(var i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;var r=e.child(i),o=t.child(i);if(r!=o){if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(var s=0;r.text[s]==o.text[s];s++)n++;return n}if(r.content.size||o.content.size){var a=S(r.content,o.content,n+1);if(null!=a)return a}n+=r.nodeSize}else n+=r.nodeSize}}function P(e,t,n,i){for(var r=e.childCount,o=t.childCount;;){if(0==r||0==o)return r==o?null:{a:n,b:i};var s=e.child(--r),a=t.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:i};if(s.isText&&s.text!=a.text){for(var c=0,h=Math.min(s.text.length,a.text.length);c<h&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,i--;return{a:n,b:i}}if(s.content.size||a.content.size){var d=P(s.content,a.content,n-1,i-1);if(d)return d}n-=l,i-=l}else n-=l,i-=l}}var I=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},E={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};I.prototype.nodesBetween=function(e,t,n,i,r){void 0===i&&(i=0);for(var o=0,s=0;s<t;o++){var a=this.content[o],l=s+a.nodeSize;if(l>e&&!1!==n(a,i+s,r,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,t-c),n,i+c)}s=l}},I.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},I.prototype.textBetween=function(e,t,n,i){var r="",o=!0;return this.nodesBetween(e,t,(function(s,a){s.isText?(r+=s.text.slice(Math.max(e,a)-a,t-a),o=!n):s.isLeaf&&i?(r+="function"==typeof i?i(s):i,o=!n):!o&&s.isBlock&&(r+=n,o=!0)}),0),r},I.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new I(i,this.size+e.size)},I.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],i=0;if(t>e)for(var r=0,o=0;o<t;r++){var s=this.content[r],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),i+=s.nodeSize),o=a}return new I(n,i)},I.prototype.cutByIndex=function(e,t){return e==t?I.empty:0==e&&t==this.content.length?this:new I(this.content.slice(e,t))},I.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new I(i,r)},I.prototype.addToStart=function(e){return new I([e].concat(this.content),this.size+e.nodeSize)},I.prototype.addToEnd=function(e){return new I(this.content.concat(e),this.size+e.nodeSize)},I.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},E.firstChild.get=function(){return this.content.length?this.content[0]:null},E.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},E.childCount.get=function(){return this.content.length},I.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},I.prototype.maybeChild=function(e){return this.content[e]},I.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}},I.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),S(this,e,t)},I.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),P(this,e,t,n)},I.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return T(0,e);if(e==this.size)return T(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var r=i+this.child(n).nodeSize;if(r>=e)return r==e||t>0?T(n+1,r):T(n,i);i=r}},I.prototype.toString=function(){return"<"+this.toStringInner()+">"},I.prototype.toStringInner=function(){return this.content.join(", ")},I.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},I.fromJSON=function(e,t){if(!t)return I.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new I(t.map(e.nodeFromJSON))},I.fromArray=function(e){if(!e.length)return I.empty;for(var t,n=0,i=0;i<e.length;i++){var r=e[i];n+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(t||(t=e.slice(0,i)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new I(t||e,n)},I.from=function(e){if(!e)return I.empty;if(e instanceof I)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new I([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(I.prototype,E);var _={index:0,offset:0};function T(e,t){return _.index=e,_.offset=t,_}function $(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!$(e[i],t[i]))return!1}else{for(var r in e)if(!(r in t)||!$(e[r],t[r]))return!1;for(var o in t)if(!(o in e))return!1}return!0}I.empty=new I([],0);var M=function(e,t){this.type=e,this.attrs=t};function O(e){var t=Error.call(this,e);return t.__proto__=O.prototype,t}M.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t},M.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},M.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},M.prototype.eq=function(e){return this==e||this.type==e.type&&$(this.attrs,e.attrs)},M.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},M.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},M.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},M.setFrom=function(e){if(!e||0==e.length)return M.none;if(e instanceof M)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},M.none=[],O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O.prototype.name="ReplaceError";var D=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},L={size:{configurable:!0}};function N(e,t,n){var i=e.findIndex(t),r=i.index,o=i.offset,s=e.maybeChild(r),a=e.findIndex(n),l=a.index,c=a.offset;if(o==t||s.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(N(s.content,t-o-1,n-o-1)))}function B(e,t,n,i){var r=e.findIndex(t),o=r.index,s=r.offset,a=e.maybeChild(o);if(s==t||a.isText)return i&&!i.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=B(a.content,t-s-1,n);return l&&e.replaceChild(o,a.copy(l))}function R(e,t,n){if(n.openStart>e.depth)throw new O("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new O("Inconsistent open depths");return Z(e,t,n,0)}function Z(e,t,n,i){var r=e.index(i),o=e.node(i);if(r==t.index(i)&&i<e.depth-n.openStart){var s=Z(e,t,n,i+1);return o.copy(o.content.replaceChild(r,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=i||t.depth!=i){var a=function(e,t){for(var n=t.depth-e.openStart,i=t.node(n).copy(e.content),r=n-1;r>=0;r--)i=t.node(r).copy(I.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(n,e);return H(o,V(e,a.start,a.end,t,i))}var l=e.parent,c=l.content;return H(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}return H(o,q(e,t,i))}function F(e,t){if(!t.type.compatibleContent(e.type))throw new O("Cannot join "+t.type.name+" onto "+e.type.name)}function j(e,t,n){var i=e.node(n);return F(i,t.node(n)),i}function z(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function U(e,t,n,i){var r=(t||e).node(n),o=0,s=t?t.index(n):r.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(z(e.nodeAfter,i),o++));for(var a=o;a<s;a++)z(r.child(a),i);t&&t.depth==n&&t.textOffset&&z(t.nodeBefore,i)}function H(e,t){if(!e.type.validContent(t))throw new O("Invalid content for node "+e.type.name);return e.copy(t)}function V(e,t,n,i,r){var o=e.depth>r&&j(e,t,r+1),s=i.depth>r&&j(n,i,r+1),a=[];return U(null,e,r,a),o&&s&&t.index(r)==n.index(r)?(F(o,s),z(H(o,V(e,t,n,i,r+1)),a)):(o&&z(H(o,q(e,t,r+1)),a),U(t,n,r,a),s&&z(H(s,q(n,i,r+1)),a)),U(i,null,r,a),new I(a)}function q(e,t,n){var i=[];return U(null,e,n,i),e.depth>n&&z(H(j(e,t,n+1),q(e,t,n+1)),i),U(t,null,n,i),new I(i)}L.size.get=function(){return this.content.size-this.openStart-this.openEnd},D.prototype.insertAt=function(e,t){var n=B(this.content,e+this.openStart,t,null);return n&&new D(n,this.openStart,this.openEnd)},D.prototype.removeBetween=function(e,t){return new D(N(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},D.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},D.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},D.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},D.fromJSON=function(e,t){if(!t)return D.empty;var n=t.openStart||0,i=t.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new D(I.fromJSON(e,t.content),n,i)},D.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,i=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(var o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new D(e,n,i)},Object.defineProperties(D.prototype,L),D.empty=new D(I.empty,0,0);var W=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},G={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};W.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},G.parent.get=function(){return this.node(this.depth)},G.doc.get=function(){return this.node(0)},W.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},W.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},W.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},W.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},W.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},W.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},W.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},G.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},G.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i},G.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},W.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],i=0==t?0:this.path[3*t-1]+1,r=0;r<e;r++)i+=n.child(r).nodeSize;return i},W.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return M.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var r=n;n=i,i=r}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||i&&o[s].isInSet(i.marks)||(o=o[s--].removeFromSet(o));return o},W.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||i&&n[r].isInSet(i.marks)||(n=n[r--].removeFromSet(n));return n},W.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},W.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Y(this,e,n)},W.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},W.prototype.max=function(e){return e.pos>this.pos?e:this},W.prototype.min=function(e){return e.pos<this.pos?e:this},W.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},W.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,r=t,o=e;;){var s=o.content.findIndex(r),a=s.index,l=s.offset,c=r-l;if(n.push(o,a,i+l),!c)break;if((o=o.child(a)).isText)break;r=c-1,i+=l+1}return new W(t,n,r)},W.resolveCached=function(e,t){for(var n=0;n<J.length;n++){var i=J[n];if(i.pos==t&&i.doc==e)return i}var r=J[K]=W.resolve(e,t);return K=(K+1)%Q,r},Object.defineProperties(W.prototype,G);var J=[],K=0,Q=12,Y=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},X={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};X.start.get=function(){return this.$from.before(this.depth+1)},X.end.get=function(){return this.$to.after(this.depth+1)},X.parent.get=function(){return this.$from.node(this.depth)},X.startIndex.get=function(){return this.$from.index(this.depth)},X.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Y.prototype,X);var ee=Object.create(null),te=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||I.empty,this.marks=i||M.none},ne={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ne.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},ne.childCount.get=function(){return this.content.childCount},te.prototype.child=function(e){return this.content.child(e)},te.prototype.maybeChild=function(e){return this.content.maybeChild(e)},te.prototype.forEach=function(e){this.content.forEach(e)},te.prototype.nodesBetween=function(e,t,n,i){void 0===i&&(i=0),this.content.nodesBetween(e,t,n,i,this)},te.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},ne.textContent.get=function(){return this.textBetween(0,this.content.size,"")},te.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)},ne.firstChild.get=function(){return this.content.firstChild},ne.lastChild.get=function(){return this.content.lastChild},te.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},te.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},te.prototype.hasMarkup=function(e,t,n){return this.type==e&&$(this.attrs,t||e.defaultAttrs||ee)&&M.sameSet(this.marks,n||M.none)},te.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},te.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},te.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},te.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return D.empty;var i=this.resolve(e),r=this.resolve(t),o=n?0:i.sharedDepth(t),s=i.start(o),a=i.node(o).content.cut(i.pos-s,r.pos-s);return new D(a,i.depth-o,r.depth-o)},te.prototype.replace=function(e,t,n){return R(this.resolve(e),this.resolve(t),n)},te.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.index,r=n.offset;if(!(t=t.maybeChild(i)))return null;if(r==e||t.isText)return t;e-=r+1}},te.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},te.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}},te.prototype.resolve=function(e){return W.resolveCached(this,e)},te.prototype.resolveNoCache=function(e){return W.resolve(this,e)},te.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(i=!0),!i})),i},ne.isBlock.get=function(){return this.type.isBlock},ne.isTextblock.get=function(){return this.type.isTextblock},ne.inlineContent.get=function(){return this.type.inlineContent},ne.isInline.get=function(){return this.type.isInline},ne.isText.get=function(){return this.type.isText},ne.isLeaf.get=function(){return this.type.isLeaf},ne.isAtom.get=function(){return this.type.isAtom},te.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),re(this.marks,e)},te.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},te.prototype.canReplace=function(e,t,n,i,r){void 0===n&&(n=I.empty),void 0===i&&(i=0),void 0===r&&(r=n.childCount);var o=this.contentMatchAt(e).matchFragment(n,i,r),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var a=i;a<r;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},te.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var r=this.contentMatchAt(e).matchType(n),o=r&&r.matchFragment(this.content,t);return!!o&&o.validEnd},te.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},te.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=M.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!M.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},te.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},te.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=I.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)},Object.defineProperties(te.prototype,ne);var ie=function(e){function t(t,n,i,r){if(e.call(this,t,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):re(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(te);function re(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var oe=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},se={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};oe.parse=function(e,t){var n=new ae(e,t);if(null==n.next)return oe.empty;var i=ce(n);n.next&&n.err("Unexpected trailing text");var r,o,s=(r=function(e){var t=[[]];return r(function e(t,o){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,o))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=e(t.exprs[s],o);if(s==t.exprs.length-1)return a;r(a,o=n())}else{if("star"==t.type){var l=n();return i(o,l),r(e(t.expr,l),l),[i(l)]}if("plus"==t.type){var c=n();return r(e(t.expr,o),c),r(e(t.expr,c),c),[i(c)]}if("opt"==t.type)return[i(o)].concat(e(t.expr,o));if("range"==t.type){for(var h=o,d=0;d<t.min;d++){var u=n();r(e(t.expr,h),u),h=u}if(-1==t.max)r(e(t.expr,h),h);else for(var p=t.min;p<t.max;p++){var f=n();i(h,f),r(e(t.expr,h),f),h=f}return[i(h)]}if("name"==t.type)return[i(o,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){var r={term:i,to:n};return t[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}}(i),o=Object.create(null),function e(t){var n=[];t.forEach((function(e){r[e].forEach((function(e){var t=e.term,i=e.to;if(t){var o=n.indexOf(t),s=o>-1&&n[o+1];me(r,i).forEach((function(e){s||n.push(t,s=[]),-1==s.indexOf(e)&&s.push(e)}))}}))}));for(var i=o[t.join(",")]=new oe(t.indexOf(r.length-1)>-1),s=0;s<n.length;s+=2){var a=n[s+1].sort(fe);i.next.push(n[s],o[a.join(",")]||e(a))}return i}(me(r,0)));return function(e,t){for(var n=0,i=[e];n<i.length;n++){for(var r=i[n],o=!r.validEnd,s=[],a=0;a<r.next.length;a+=2){var l=r.next[a],c=r.next[a+1];s.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==i.indexOf(c)&&i.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,n),s},oe.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},oe.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var i=this,r=t;i&&r<n;r++)i=i.matchType(e.child(r).type);return i},se.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},se.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},oe.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},oe.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var i=[this];return function r(o,s){var a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return I.from(s.map((function(e){return e.createAndFill()})));for(var l=0;l<o.next.length;l+=2){var c=o.next[l],h=o.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==i.indexOf(h)){i.push(h);var d=r(h,s.concat(c));if(d)return d}}}(this,[])},oe.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},oe.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),r=i.match;if(r.matchType(e)){for(var o=[],s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<r.next.length;a+=2){var l=r.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in t||i.type&&!r.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}},se.edgeCount.get=function(){return this.next.length>>1},oe.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},oe.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)-1==e.indexOf(n.next[i])&&t(n.next[i])}(this),e.map((function(t,n){for(var i=n+(t.validEnd?"*":" ")+" ",r=0;r<t.next.length;r+=2)i+=(r?", ":"")+t.next[r].name+"->"+e.indexOf(t.next[r+1]);return i})).join("\n")},Object.defineProperties(oe.prototype,se),oe.empty=new oe(!0);var ae=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},le={next:{configurable:!0}};function ce(e){var t=[];do{t.push(he(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function he(e){var t=[];do{t.push(de(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function de(e){for(var t=function(e){if(e.eat("(")){var t=ce(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,i=n[t];if(i)return[i];var r=[];for(var o in n){var s=n[o];s.groups.indexOf(t)>-1&&r.push(s)}return 0==r.length&&e.err("No node type or group '"+t+"' found"),r}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=pe(e,t)}return t}function ue(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function pe(e,t){var n=ue(e),i=n;return e.eat(",")&&(i="}"!=e.next?ue(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function fe(e,t){return t-e}function me(e,t){var n=[];return function t(i){var r=e[i];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(i);for(var o=0;o<r.length;o++){var s=r[o],a=s.term,l=s.to;a||-1!=n.indexOf(l)||t(l)}}(t),n.sort(fe)}function ge(e){var t=Object.create(null);for(var n in e){var i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function ve(e,t){var n=Object.create(null);for(var i in e){var r=t&&t[i];if(void 0===r){var o=e[i];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+i);r=o.default}n[i]=r}return n}function ye(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new we(e[n]);return t}le.next.get=function(){return this.tokens[this.pos]},ae.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},ae.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(ae.prototype,le);var be=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=ye(n.attrs),this.defaultAttrs=ge(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},xe={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};xe.isInline.get=function(){return!this.isBlock},xe.isTextblock.get=function(){return this.isBlock&&this.inlineContent},xe.isLeaf.get=function(){return this.contentMatch==oe.empty},xe.isAtom.get=function(){return this.isLeaf||this.spec.atom},be.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},be.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},be.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:ve(this.attrs,e)},be.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new te(this,this.computeAttrs(e),I.from(t),M.setFrom(n))},be.prototype.createChecked=function(e,t,n){if(t=I.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new te(this,this.computeAttrs(e),t,M.setFrom(n))},be.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=I.from(t)).size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var r=this.contentMatch.matchFragment(t).fillBefore(I.empty,!0);return r?new te(this,e,t.append(r),M.setFrom(n)):null},be.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},be.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},be.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},be.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:M.empty:e},be.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,i){return n[e]=new be(e,t,i)}));var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(be.prototype,xe);var we=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Ae={isRequired:{configurable:!0}};Ae.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(we.prototype,Ae);var Ce=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=ye(i.attrs),this.rank=t,this.excluded=null;var r=ge(this.attrs);this.instance=r&&new M(this,r)};Ce.prototype.create=function(e){return!e&&this.instance?this.instance:new M(this,ve(this.attrs,e))},Ce.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach((function(e,r){return n[e]=new Ce(e,i++,t,r)})),n},Ce.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},Ce.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Ce.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var ke=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=k.from(e.nodes),this.spec.marks=k.from(e.marks),this.nodes=be.compile(this.spec.nodes,this),this.marks=Ce.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var r=this.nodes[i],o=r.spec.content||"",s=r.spec.marks;r.contentMatch=n[o]||(n[o]=oe.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==s?null:s?Se(this,s.split(" ")):""!=s&&r.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:Se(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Se(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=e.marks[r],s=o;if(o)n.push(o);else for(var a in e.marks){var l=e.marks[a];("_"==r||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}ke.prototype.node=function(e,t,n,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof be))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)},ke.prototype.text=function(e,t){var n=this.nodes.text;return new ie(n,n.defaultAttrs,e,M.setFrom(t))},ke.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},ke.prototype.nodeFromJSON=function(e){return te.fromJSON(this,e)},ke.prototype.markFromJSON=function(e){return M.fromJSON(this,e)},ke.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var Pe=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};Pe.prototype.parse=function(e,t){void 0===t&&(t={});var n=new Me(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},Pe.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new Me(this,t,!0);return n.addAll(e,null,t.from,t.to),D.maxOpen(n.finish())},Pe.prototype.matchTag=function(e,t,n){for(var i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var r=this.tags[i];if(De(e,r.tag)&&(void 0===r.namespace||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(e);if(!1===o)continue;r.attrs=o}return r}}},Pe.prototype.matchStyle=function(e,t,n,i){for(var r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var s=o.getAttrs(t);if(!1===s)continue;o.attrs=s}return o}}},Pe.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,i=0;i<t.length;i++){var r=t[i];if((null==r.priority?50:r.priority)<n)break}t.splice(i,0,e)}var i,r=function(t){var i=e.marks[t].spec.parseDOM;i&&i.forEach((function(e){n(e=Le(e)),e.mark=t}))};for(var o in e.marks)r(o);for(var s in e.nodes)i=void 0,(i=e.nodes[s].spec.parseDOM)&&i.forEach((function(e){n(e=Le(e)),e.node=s}));return t},Pe.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Pe(e,Pe.schemaRules(e)))};var Ie={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ee={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_e={ol:!0,ul:!0};function Te(e){return(e?1:0)|("full"===e?2:0)}var $e=function(e,t,n,i,r,o,s){this.type=e,this.attrs=t,this.solid=r,this.match=o||(4&s?null:e.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=M.none,this.pendingMarks=i,this.stashMarks=[]};$e.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(I.from(e));if(!t){var n,i=this.type.contentMatch;return(n=i.findWrapping(e.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},$e.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var i=I.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(I.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},$e.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},$e.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];(this.type?this.type.allowsMarkType(i.type):Ne(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}},$e.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ie.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var Me=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i,r=t.topNode,o=Te(t.preserveWhitespace)|(n?4:0);i=r?new $e(r.type,r.attrs,M.none,M.none,!0,t.topMatch||r.type.contentMatch,o):new $e(n?null:e.schema.topNodeType,null,M.none,M.none,!0,null,o),this.nodes=[i],this.open=0,this.find=t.findPositions,this.needsBlock=!1},Oe={top:{configurable:!0},currentPos:{configurable:!0}};function De(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Le(e){var t={};for(var n in e)t[n]=e[n];return t}function Ne(e,t){var n=t.schema.nodes,i=function(i){var r=n[i];if(r.allowsMarkType(e)){var o=[],s=function(e){o.push(e);for(var n=0;n<e.edgeCount;n++){var i=e.edge(n),r=i.type,a=i.next;if(r==t)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var o=i(r);if(o)return o.v}}Oe.top.get=function(){return this.nodes[this.open]},Me.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];t=n.exec(e);)i.push(t[1],t[2].trim());return i}(t)):null,i=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(e),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],i)}},Me.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],r=e.previousSibling;(!i||r&&"BR"==r.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},Me.prototype.addElement=function(e,t){var n,i=e.nodeName.toLowerCase();_e.hasOwnProperty(i)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&_e.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):"li"==i?n=t:i&&(n=null)}}(e);var r=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(r?r.ignore:Ee.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(e=r.skip);var o,s=this.top,a=this.needsBlock;if(Ie.hasOwnProperty(i))o=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(e,r,!1===r.consuming?n:null)},Me.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},Me.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},Me.prototype.readStyles=function(e){var t=M.none;e:for(var n=0;n<e.length;n+=2)for(var i=null;;){var r=this.parser.matchStyle(e[n],e[n+1],this,i);if(!r)continue e;if(r.ignore)return null;if(t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t),!1!==r.consuming)break;i=r}return t},Me.prototype.addElementByRule=function(e,t,n){var i,r,o,s=this;t.node?(r=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):i=this.enter(r,t.attrs,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var a=this.top;if(r&&r.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return s.insertNode(e)}));else{var l=t.contentElement;"string"==typeof l?l=e.querySelector(l):"function"==typeof l&&(l=l(e)),l||(l=e),this.findAround(e,l,!0),this.addAll(l,i)}i&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},Me.prototype.addAll=function(e,t,n,i){for(var r=n||0,o=n?e.childNodes[n]:e.firstChild,s=null==i?null:e.childNodes[i];o!=s;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o),t&&Ie.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,r)},Me.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var r=this.nodes[i],o=r.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=r,!o.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0},Me.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,r=0;r<e.marks.length;r++)n.type&&!n.type.allowsMarkType(e.marks[r].type)||(i=e.marks[r].addToSet(i));return n.content.push(e.mark(i)),!0}return!1},Me.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i},Me.prototype.enterInner=function(e,t,n,i){this.closeExtra();var r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e,t);var o=null==i?-5&r.options:Te(i);4&r.options&&0==r.content.length&&(o|=4),this.nodes.push(new $e(e,t,r.activeMarks,r.pendingMarks,n,null,o)),this.open++},Me.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},Me.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Me.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},Oe.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e},Me.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},Me.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},Me.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var i=0;i<this.find.length;i++)null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)},Me.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},Me.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,r=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),s=function(e,a){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;a>=o;a--)if(s(e-1,a))return!0;return!1}var c=a>0||0==a&&r?t.nodes[a].type:i&&a>=o?i.node(a-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)},Me.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var r=this.parser.schema.nodes[i];if(r.isTextblock&&r.defaultAttrs)return r}},Me.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},Me.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var r=i.popFromStashMark(e);r&&i.type&&i.type.allowsMarkType(r.type)&&(i.activeMarks=r.addToSet(i.activeMarks))}if(i==t)break}},Object.defineProperties(Me.prototype,Oe);var Be=function(e,t){this.nodes=e||{},this.marks=t||{}};function Re(e){var t={};for(var n in e){var i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function Ze(e){return e.document||window.document}Be.prototype.serializeFragment=function(e,t,n){var i=this;void 0===t&&(t={}),n||(n=Ze(t).createDocumentFragment());var r=n,o=null;return e.forEach((function(e){if(o||e.marks.length){o||(o=[]);for(var n=0,s=0;n<o.length&&s<e.marks.length;){var a=e.marks[s];if(i.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<o.length;)r=o.pop(),o.pop();for(;s<e.marks.length;){var l=e.marks[s++],c=i.serializeMark(l,e.isInline,t);c&&(o.push(l,r),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(i.serializeNodeInner(e,t))})),n},Be.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=Be.renderSpec(Ze(t),this.nodes[e.type.name](e)),i=n.dom,r=n.contentDOM;if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,r,t):this.serializeFragment(e.content,t,r)}return i},Be.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),i=e.marks.length-1;i>=0;i--){var r=this.serializeMark(e.marks[i],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},Be.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var i=this.marks[e.type.name];return i&&Be.renderSpec(Ze(n),i(e,t))},Be.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var i=t[0],r=i.indexOf(" ");r>0&&(n=i.slice(0,r),i=i.slice(r+1));var o=null,s=n?e.createElementNS(n,i):e.createElement(i),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var h=c.indexOf(" ");h>0?s.setAttributeNS(c.slice(0,h),c.slice(h+1),a[c]):s.setAttribute(c,a[c])}for(var d=l;d<t.length;d++){var u=t[d];if(0===u){if(d<t.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var p=Be.renderSpec(e,u,n),f=p.dom,m=p.contentDOM;if(s.appendChild(f),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:s,contentDOM:o}},Be.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Be(this.nodesFromSchema(e),this.marksFromSchema(e)))},Be.nodesFromSchema=function(e){var t=Re(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Be.marksFromSchema=function(e){return Re(e.marks)};var Fe=Math.pow(2,16);function je(e){return 65535&e}var ze=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},Ue=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};Ue.prototype.recover=function(e){var t=0,n=je(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/Fe}(e)},Ue.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Ue.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},Ue.prototype._map=function(e,t,n){for(var i=0,r=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?i:0);if(a>e)break;var l=this.ranges[s+r],c=this.ranges[s+o],h=a+l;if(e<=h){var d=a+i+((l?e==a?-1:e==h?1:t:t)<0?0:c);return n?d:new ze(d,t<0?e!=a:e!=h,e==(t<0?a:h)?null:s/3+(e-a)*Fe)}i+=c-l}return n?e+i:new ze(e+i)},Ue.prototype.touches=function(e,t){for(var n=0,i=je(t),r=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>e)break;var l=this.ranges[s+r];if(e<=a+l&&s==3*i)return!0;n+=this.ranges[s+o]-l}return!1},Ue.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,r=0;i<this.ranges.length;i+=3){var o=this.ranges[i],s=o-(this.inverted?r:0),a=o+(this.inverted?0:r),l=this.ranges[i+t],c=this.ranges[i+n];e(s,s+l,a,a+c),r+=c-l}},Ue.prototype.invert=function(){return new Ue(this.ranges,!this.inverted)},Ue.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Ue.offset=function(e){return 0==e?Ue.empty:new Ue(e<0?[0,-e,0]:[0,0,e])},Ue.empty=new Ue([]);var He=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=t};function Ve(e){var t=Error.call(this,e);return t.__proto__=Ve.prototype,t}He.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new He(this.maps,this.mirror,e,t)},He.prototype.copy=function(){return new He(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},He.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},He.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?n+i:null)}},He.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},He.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},He.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?n-i-1:null)}},He.prototype.invert=function(){var e=new He;return e.appendMappingInverted(this),e},He.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},He.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},He.prototype._map=function(e,t,n){for(var i=!1,r=this.from;r<this.to;r++){var o=this.maps[r].mapResult(e,t);if(null!=o.recover){var s=this.getMirror(r);if(null!=s&&s>r&&s<this.to){r=s,e=this.maps[s].recover(o.recover);continue}}o.deleted&&(i=!0),e=o.pos}return n?e:new ze(e,i)},Ve.prototype=Object.create(Error.prototype),Ve.prototype.constructor=Ve,Ve.prototype.name="TransformError";var qe=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new He},We={before:{configurable:!0},docChanged:{configurable:!0}};function Ge(){throw new Error("Override me")}We.before.get=function(){return this.docs.length?this.docs[0]:this.doc},qe.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new Ve(t.failed);return this},qe.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},We.docChanged.get=function(){return this.steps.length>0},qe.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(qe.prototype,We);var Je=Object.create(null),Ke=function(){};Ke.prototype.apply=function(e){return Ge()},Ke.prototype.getMap=function(){return Ue.empty},Ke.prototype.invert=function(e){return Ge()},Ke.prototype.map=function(e){return Ge()},Ke.prototype.merge=function(e){return null},Ke.prototype.toJSON=function(){return Ge()},Ke.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Je[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},Ke.jsonID=function(e,t){if(e in Je)throw new RangeError("Duplicate use of step JSON ID "+e);return Je[e]=t,t.prototype.jsonID=e,t};var Qe=function(e,t){this.doc=e,this.failed=t};Qe.ok=function(e){return new Qe(e,null)},Qe.fail=function(e){return new Qe(null,e)},Qe.fromReplace=function(e,t,n,i){try{return Qe.ok(e.replace(t,n,i))}catch(e){if(e instanceof O)return Qe.fail(e.message);throw e}};var Ye=function(e){function t(t,n,i,r){e.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&et(e,this.from,this.to)?Qe.fail("Structure replace would overwrite content"):Qe.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new Ue([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new t(n.pos,Math.max(n.pos,i.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?D.empty:new D(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var i=this.slice.size+e.slice.size==0?D.empty:new D(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),i,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,D.fromJSON(e,n.slice),!!n.structure)},t}(Ke);Ke.jsonID("replace",Ye);var Xe=function(e){function t(t,n,i,r,o,s,a){e.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=s,this.structure=!!a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(et(e,this.from,this.gapFrom)||et(e,this.gapTo,this.to)))return Qe.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Qe.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?Qe.fromReplace(e,this.from,this.to,n):Qe.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new Ue([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deleted&&i.deleted||r<n.pos||o>i.pos?null:new t(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,D.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(Ke);function et(e,t,n){for(var i=e.resolve(t),r=n-t,o=i.depth;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0)for(var s=i.node(o).maybeChild(i.indexAfter(o));r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}return!1}function tt(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function nt(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var i=e.$from.node(n),r=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(r,o,t))return n;if(0==n||i.type.spec.isolating||!tt(i,r,o))break}}function it(e,t,n,i){void 0===i&&(i=e);var r=function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.contentMatchAt(i).findWrapping(t);if(!o)return null;var s=o.length?o[0]:t;return n.canReplaceWith(i,r,s)?o:null}(e,t),o=r&&function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.child(i),s=t.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:t).contentMatch,l=i;a&&l<r;l++)a=a.matchType(n.child(l).type);return a&&a.validEnd?s:null}(i,t);return o?r.map(rt).concat({type:t,attrs:n}).concat(o.map(rt)):null}function rt(e){return{type:e,attrs:null}}function ot(e,t,n,i){void 0===n&&(n=1);var r=e.resolve(t),o=r.depth-n,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var a=r.depth-1,l=n-2;a>o;a--,l--){var c=r.node(a),h=r.index(a);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(h,c.childCount),u=i&&i[l]||c;if(u!=c&&(d=d.replaceChild(0,u.type.create(u.attrs))),!c.canReplace(h+1,c.childCount)||!u.type.validContent(d))return!1}var p=r.indexAfter(o),f=i&&i[0];return r.node(o).canReplaceWith(p,p,f?f.type:r.node(o+1).type)}function st(e,t){var n,i,r=e.resolve(t),o=r.index();return n=r.nodeBefore,i=r.nodeAfter,n&&i&&!n.isLeaf&&n.canAppend(i)&&r.parent.canReplace(o,o+1)}function at(e,t,n){var i=e.resolve(t);if(!n.content.size)return t;for(var r=n.content,o=0;o<n.openStart;o++)r=r.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=i.depth;a>=0;a--){var l=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,c=i.index(a)+(l>0?1:0),h=i.node(a),d=!1;if(1==s)d=h.canReplace(c,c,r);else{var u=h.contentMatchAt(c).findWrapping(r.firstChild.type);d=u&&h.canReplaceWith(c,c,u[0])}if(d)return 0==l?i.pos:l<0?i.before(a+1):i.after(a+1)}return null}function lt(e,t,n){for(var i=[],r=0;r<e.childCount;r++){var o=e.child(r);o.content.size&&(o=o.copy(lt(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return I.fromArray(i)}Ke.jsonID("replaceAround",Xe),qe.prototype.lift=function(e,t){for(var n=e.$from,i=e.$to,r=e.depth,o=n.before(r+1),s=i.after(r+1),a=o,l=s,c=I.empty,h=0,d=r,u=!1;d>t;d--)u||n.index(d)>0?(u=!0,c=I.from(n.node(d).copy(c)),h++):a--;for(var p=I.empty,f=0,m=r,g=!1;m>t;m--)g||i.after(m+1)<i.end(m)?(g=!0,p=I.from(i.node(m).copy(p)),f++):l++;return this.step(new Xe(a,l,o,s,new D(c.append(p),h,f),c.size-h,!0))},qe.prototype.wrap=function(e,t){for(var n=I.empty,i=t.length-1;i>=0;i--)n=I.from(t[i].type.create(t[i].attrs,n));var r=e.start,o=e.end;return this.step(new Xe(r,o,r,o,new D(n,0,0),t.length,!0))},qe.prototype.setBlockType=function(e,t,n,i){var r=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,i)&&function(e,t,n){var i=e.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}(r.doc,r.mapping.slice(o).map(t),n)){r.clearIncompatible(r.mapping.slice(o).map(t,1),n);var s=r.mapping.slice(o),a=s.map(t,1),l=s.map(t+e.nodeSize,1);return r.step(new Xe(a,l,a+1,l-1,new D(I.from(n.create(i,null,e.marks)),0,0),1,!0)),!1}})),this},qe.prototype.setNodeMarkup=function(e,t,n,i){var r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);var o=t.create(n,null,i||r.marks);if(r.isLeaf)return this.replaceWith(e,e+r.nodeSize,o);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Xe(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new D(I.from(o),0,0),1,!0))},qe.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var i=this.doc.resolve(e),r=I.empty,o=I.empty,s=i.depth,a=i.depth-t,l=t-1;s>a;s--,l--){r=I.from(i.node(s).copy(r));var c=n&&n[l];o=I.from(c?c.type.create(c.attrs,o):i.node(s).copy(o))}return this.step(new Ye(e,e,new D(r.append(o),t,t),!0))},qe.prototype.join=function(e,t){void 0===t&&(t=1);var n=new Ye(e-t,e+t,D.empty,!0);return this.step(n)};var ct=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new D(lt(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),r),n.openStart,n.openEnd);return Qe.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new ht(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Ke);Ke.jsonID("addMark",ct);var ht=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=new D(lt(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return Qe.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new ct(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Ke);function dt(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Ke.jsonID("removeMark",ht),qe.prototype.addMark=function(e,t,n){var i=this,r=[],o=[],s=null,a=null;return this.doc.nodesBetween(e,t,(function(i,l,c){if(i.isInline){var h=i.marks;if(!n.isInSet(h)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,e),u=Math.min(l+i.nodeSize,t),p=n.addToSet(h),f=0;f<h.length;f++)h[f].isInSet(p)||(s&&s.to==d&&s.mark.eq(h[f])?s.to=u:r.push(s=new ht(d,u,h[f])));a&&a.to==d?a.to=u:o.push(a=new ct(d,u,n))}}})),r.forEach((function(e){return i.step(e)})),o.forEach((function(e){return i.step(e)})),this},qe.prototype.removeMark=function(e,t,n){var i=this;void 0===n&&(n=null);var r=[],o=0;return this.doc.nodesBetween(e,t,(function(i,s){if(i.isInline){o++;var a=null;if(n instanceof Ce)for(var l,c=i.marks;l=n.isInSet(c);)(a||(a=[])).push(l),c=l.removeFromSet(c);else n?n.isInSet(i.marks)&&(a=[n]):a=i.marks;if(a&&a.length)for(var h=Math.min(s+i.nodeSize,t),d=0;d<a.length;d++){for(var u=a[d],p=void 0,f=0;f<r.length;f++){var m=r[f];m.step==o-1&&u.eq(r[f].style)&&(p=m)}p?(p.to=h,p.step=o):r.push({style:u,from:Math.max(s,e),to:h,step:o})}}})),r.forEach((function(e){return i.step(new ht(e.from,e.to,e.style))})),this},qe.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var i=this.doc.nodeAt(e),r=[],o=e+1,s=0;s<i.childCount;s++){var a=i.child(s),l=o+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var h=0;h<a.marks.length;h++)t.allowsMarkType(a.marks[h].type)||this.step(new ht(o,l,a.marks[h]))}else r.push(new Ye(o,l,D.empty));o=l}if(!n.validEnd){var d=n.fillBefore(I.empty,!0);this.replace(o,o,new D(d,0,0))}for(var u=r.length-1;u>=0;u--)this.step(r[u]);return this},qe.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=D.empty);var i=function(e,t,n,i){if(void 0===n&&(n=t),void 0===i&&(i=D.empty),t==n&&!i.size)return null;var r=e.resolve(t),o=e.resolve(n);return dt(r,o,i)?new Ye(t,n,i):new ut(r,o,i).fit()}(this.doc,e,t,n);return i&&this.step(i),this},qe.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new D(I.from(n),0,0))},qe.prototype.delete=function(e,t){return this.replace(e,t,D.empty)},qe.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var ut=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var i=0;i<=e.depth;i++){var r=e.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(i))})}this.placed=I.empty;for(var o=e.depth;o>0;o--)this.placed=I.from(e.node(o).copy(this.placed))},pt={depth:{configurable:!0}};function ft(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(ft(e.firstChild.content,t-1,n)))}function mt(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(mt(e.lastChild.content,t-1,n)))}function gt(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function vt(e,t,n){if(t<=0)return e;var i=e.content;return t>1&&(i=i.replaceChild(0,vt(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(I.empty,!0)))),e.copy(i)}function yt(e,t,n,i,r){var o=e.node(t),s=r?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=i.fillBefore(o.content,!0,s);return a&&!function(e,t,n){for(var i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,o.content,s)?a:null}function bt(e,t,n,i,r){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(bt(o.content,t+1,n,i,o)))}if(t>i){var s=r.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(I.empty,!0))}return e}function xt(e,t){for(var n=[],i=Math.min(e.depth,t.depth);i>=0;i--){var r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}pt.depth.get=function(){return this.frontier.length-1},ut.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;for(var o=this.placed,s=i.depth,a=r.depth;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;var l=new D(o,s,a);return t>-1?new Xe(i.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new Ye(i.pos,r.pos,l):void 0},ut.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,i=(t?(n=gt(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,r=this.depth;r>=0;r--){var o=this.frontier[r],s=o.type,a=o.match,l=void 0,c=void 0;if(1==e&&(i?a.matchType(i.type)||(c=a.fillBefore(I.from(i),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:r,parent:n,inject:c};if(2==e&&i&&(l=a.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:r,parent:n,wrap:l};if(n&&a.matchType(n.type))break}},ut.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,r=gt(t,n);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new D(t,n+1,Math.max(i,r.size+n>=t.size-i?n+1:0)),0))},ut.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,r=gt(t,n);if(r.childCount<=1&&n>0){var o=t.size-n<=n+r.size;this.unplaced=new D(ft(t,n-1,1),n-1,o?n-1:i)}else this.unplaced=new D(ft(t,n,1),n,i)},ut.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,i=e.parent,r=e.inject,o=e.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var s=0;s<o.length;s++)this.openFrontierNode(o[s]);var a=this.unplaced,l=i?i.content:a.content,c=a.openStart-t,h=0,d=[],u=this.frontier[n],p=u.match,f=u.type;if(r){for(var m=0;m<r.childCount;m++)d.push(r.child(m));p=p.matchFragment(r)}for(var g=l.size+t-(a.content.size-a.openEnd);h<l.childCount;){var v=l.child(h),y=p.matchType(v.type);if(!y)break;(++h>1||0==c||v.content.size)&&(p=y,d.push(vt(v.mark(f.allowedMarks(v.marks)),1==h?c:0,h==l.childCount?g:-1)))}var b=h==l.childCount;b||(g=-1),this.placed=mt(this.placed,n,I.from(d)),this.frontier[n].match=p,b&&g<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,w=l;x<g;x++){var A=w.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),w=A.content}this.unplaced=b?0==t?D.empty:new D(ft(a.content,t-1,1),t-1,g<0?a.openEnd:t-1):new D(ft(a.content,t,h),a.openStart,a.openEnd)},ut.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!yt(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,i=this.$to.after(n);n>1&&i==this.$to.end(--n);)++i;return i},ut.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,r=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=yt(e,t,r,i,o);if(s){for(var a=t-1;a>=0;a--){var l=this.frontier[a],c=l.match,h=yt(e,a,l.type,c,!0);if(!h||h.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}},ut.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=mt(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,r)}return e},ut.prototype.openFrontierNode=function(e,t,n){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=mt(this.placed,this.depth,I.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},ut.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(I.empty,!0);e.childCount&&(this.placed=mt(this.placed,this.frontier.length,e))},Object.defineProperties(ut.prototype,pt),qe.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var i=this.doc.resolve(e),r=this.doc.resolve(t);if(dt(i,r,n))return this.step(new Ye(e,t,n));var o=xt(i,this.doc.resolve(t));0==o[o.length-1]&&o.pop();var s=-(i.depth+1);o.unshift(s);for(var a=i.depth,l=i.pos-1;a>0;a--,l--){var c=i.node(a).type.spec;if(c.defining||c.isolating)break;o.indexOf(a)>-1?s=a:i.before(a)==l&&o.splice(1,0,-a)}for(var h=o.indexOf(s),d=[],u=n.openStart,p=n.content,f=0;;f++){var m=p.firstChild;if(d.push(m),f==n.openStart)break;p=m.content}u>0&&d[u-1].type.spec.defining&&i.node(h).type!=d[u-1].type?u-=1:u>=2&&d[u-1].isTextblock&&d[u-2].type.spec.defining&&i.node(h).type!=d[u-2].type&&(u-=2);for(var g=n.openStart;g>=0;g--){var v=(g+u+1)%(n.openStart+1),y=d[v];if(y)for(var b=0;b<o.length;b++){var x=o[(b+h)%o.length],w=!0;x<0&&(w=!1,x=-x);var A=i.node(x-1),C=i.index(x-1);if(A.canReplaceWith(C,C,y.type,y.marks))return this.replace(i.before(x),w?r.after(x):t,new D(bt(n.content,0,n.openStart,v),v,n.openEnd))}}for(var k=this.steps.length,S=o.length-1;S>=0&&(this.replace(e,t,n),!(this.steps.length>k));S--){var P=o[S];P<0||(e=i.before(P),t=r.after(P))}return this},qe.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var i=function(e,t,n){var i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(var r=i.depth-1;r>=0;r--){var o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(var s=i.depth-1;s>=0;s--){var a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}}(this.doc,e,n.type);null!=i&&(e=t=i)}return this.replaceRange(e,t,new D(I.from(n),0,0))},qe.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),i=this.doc.resolve(t),r=xt(n,i),o=0;o<r.length;o++){var s=r[o],a=o==r.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),i.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return this.delete(n.before(s),i.after(s))}for(var l=1;l<=n.depth&&l<=i.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&i.end(l)-t!=i.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var wt=Object.create(null),At=function(e,t,n){this.ranges=n||[new kt(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},Ct={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Ct.anchor.get=function(){return this.$anchor.pos},Ct.head.get=function(){return this.$head.pos},Ct.from.get=function(){return this.$from.pos},Ct.to.get=function(){return this.$to.pos},Ct.$from.get=function(){return this.ranges[0].$from},Ct.$to.get=function(){return this.ranges[0].$to},Ct.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},At.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},At.prototype.replace=function(e,t){void 0===t&&(t=D.empty);for(var n=t.content.lastChild,i=null,r=0;r<t.openEnd;r++)i=n,n=n.lastChild;for(var o=e.steps.length,s=this.ranges,a=0;a<s.length;a++){var l=s[a],c=l.$from,h=l.$to,d=e.mapping.slice(o);e.replaceRange(d.map(c.pos),d.map(h.pos),a?D.empty:t),0==a&&Mt(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}},At.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,r=0;r<i.length;r++){var o=i[r],s=o.$from,a=o.$to,l=e.mapping.slice(n),c=l.map(s.pos),h=l.map(a.pos);r?e.deleteRange(c,h):(e.replaceRangeWith(c,h,t),Mt(e,n,t.isInline?-1:1))}},At.findFrom=function(e,t,n){var i=e.parent.inlineContent?new St(e):$t(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var r=e.depth-1;r>=0;r--){var o=t<0?$t(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):$t(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}},At.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new _t(e.node(0))},At.atStart=function(e){return $t(e,e,0,0,1)||new _t(e)},At.atEnd=function(e){return $t(e,e,e.content.size,e.childCount,-1)||new _t(e)},At.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=wt[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},At.jsonID=function(e,t){if(e in wt)throw new RangeError("Duplicate use of selection JSON ID "+e);return wt[e]=t,t.prototype.jsonID=e,t},At.prototype.getBookmark=function(){return St.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(At.prototype,Ct),At.prototype.visible=!0;var kt=function(e,t){this.$from=e,this.$to=t},St=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));if(!r.parent.inlineContent)return e.near(r);var o=n.resolve(i.map(this.anchor));return new t(o.parent.inlineContent?o:r,r)},t.prototype.replace=function(t,n){if(void 0===n&&(n=D.empty),e.prototype.replace.call(this,t,n),n==D.empty){var i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new Pt(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))},t.between=function(n,i,r){var o=n.pos-i.pos;if(r&&!o||(r=o>=0?1:-1),!i.parent.inlineContent){var s=e.findFrom(i,r,!0)||e.findFrom(i,-r,!0);if(!s)return e.near(i,r);i=s.$head}return n.parent.inlineContent||(0==o||(n=(e.findFrom(n,-r,!0)||e.findFrom(n,r,!0)).$anchor).pos<i.pos!=o<0)&&(n=i),new t(n,i)},Object.defineProperties(t.prototype,n),t}(At);At.jsonID("text",St);var Pt=function(e,t){this.anchor=e,this.head=t};Pt.prototype.map=function(e){return new Pt(e.map(this.anchor),e.map(this.head))},Pt.prototype.resolve=function(e){return St.between(e.resolve(this.anchor),e.resolve(this.head))};var It=function(e){function t(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,i),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var r=i.mapResult(this.anchor),o=r.deleted,s=r.pos,a=n.resolve(s);return o?e.near(a):new t(a)},t.prototype.content=function(){return new D(I.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new Et(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(At);It.prototype.visible=!1,At.jsonID("node",It);var Et=function(e){this.anchor=e};Et.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,i=t.pos;return n?new Pt(i,i):new Et(i)},Et.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&It.isSelectable(n)?new It(t):At.near(t)};var _t=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=D.empty),n==D.empty){t.delete(0,t.doc.content.size);var i=e.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return Tt},t}(At);At.jsonID("all",_t);var Tt={map:function(){return this},resolve:function(e){return new _t(e)}};function $t(e,t,n,i,r,o){if(t.inlineContent)return St.create(e,n);for(var s=i-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){var a=t.child(s);if(a.isAtom){if(!o&&It.isSelectable(a))return It.create(e,n-(r<0?a.nodeSize:0))}else{var l=$t(e,a,n+r,r<0?a.childCount:0,r,o);if(l)return l}n+=a.nodeSize*r}}function Mt(e,t,n){var i=e.steps.length-1;if(!(i<t)){var r,o=e.steps[i];(o instanceof Ye||o instanceof Xe)&&(e.mapping.maps[i].forEach((function(e,t,n,i){null==r&&(r=i)})),e.setSelection(At.near(e.doc.resolve(r),n)))}}var Ot=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return M.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||M.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var r=this.storedMarks;if(!r){var o=this.doc.resolve(t);r=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,r)),this.selection.empty||this.setSelection(At.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(qe);function Dt(e,t){return t&&e?e.bind(t):e}var Lt=function(e,t,n){this.name=e,this.init=Dt(t.init,n),this.apply=Dt(t.apply,n)},Nt=[new Lt("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Lt("selection",{init:function(e,t){return e.selection||At.atStart(t.doc)},apply:function(e){return e.selection}}),new Lt("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Lt("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],Bt=function(e,t){var n=this;this.schema=e,this.fields=Nt.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new Lt(e.key,e.spec.state,e))}))},Rt=function(e){this.config=e},Zt={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Zt.schema.get=function(){return this.config.schema},Zt.plugins.get=function(){return this.config.plugins},Rt.prototype.apply=function(e){return this.applyTransaction(e).state},Rt.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0},Rt.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var r=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=i?i[o].n:0,l=i?i[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(var h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),r=!0}i&&(i[o]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}},Rt.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new Rt(this.config),n=this.config.fields,i=0;i<n.length;i++){var r=n[i];t[r.name]=r.apply(e,this[r.name],this,t)}for(var o=0;o<Ft.length;o++)Ft[o](this,e,t);return t},Zt.tr.get=function(){return new Ot(this)},Rt.create=function(e){for(var t=new Bt(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Rt(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n},Rt.prototype.reconfigure=function(e){for(var t=new Bt(this.schema,e.plugins),n=t.fields,i=new Rt(t),r=0;r<n.length;r++){var o=n[r].name;i[o]=this.hasOwnProperty(o)?this[o]:n[r].init(e,i)}return i},Rt.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],r=i.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(i,this[i.key]))}return t},Rt.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new Bt(e.schema,e.plugins),r=new Rt(i);return i.fields.forEach((function(i){if("doc"==i.name)r.doc=te.fromJSON(e.schema,t.doc);else if("selection"==i.name)r.selection=At.fromJSON(r.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var o in n){var s=n[o],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(r[i.name]=a.fromJSON.call(s,e,t[o],r))}r[i.name]=i.init(e,r)}})),r},Rt.addApplyListener=function(e){Ft.push(e)},Rt.removeApplyListener=function(e){var t=Ft.indexOf(e);t>-1&&Ft.splice(t,1)},Object.defineProperties(Rt.prototype,Zt);var Ft=[];function jt(e,t,n){for(var i in e){var r=e[i];r instanceof Function?r=r.bind(t):"handleDOMEvents"==i&&(r=jt(r,t,{})),n[i]=r}return n}var zt=function(e){this.props={},e.props&&jt(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:Ht("plugin")};zt.prototype.getState=function(e){return e[this.key]};var Ut=Object.create(null);function Ht(e){return e in Ut?e+"$"+ ++Ut[e]:(Ut[e]=0,e+"$")}var Vt=function(e){void 0===e&&(e="key"),this.key=Ht(e)};Vt.prototype.get=function(e){return e.config.pluginsByKey[this.key]},Vt.prototype.getState=function(e){return e[this.key]};var qt={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Wt=/Edge\/(\d+)/.exec(navigator.userAgent),Gt=/MSIE \d/.test(navigator.userAgent),Jt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Kt=qt.ie=!!(Gt||Jt||Wt);qt.ie_version=Gt?document.documentMode||6:Jt?+Jt[1]:Wt?+Wt[1]:null,qt.gecko=!Kt&&/gecko\/(\d+)/i.test(navigator.userAgent),qt.gecko_version=qt.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Qt=!Kt&&/Chrome\/(\d+)/.exec(navigator.userAgent);qt.chrome=!!Qt,qt.chrome_version=Qt&&+Qt[1],qt.safari=!Kt&&/Apple Computer/.test(navigator.vendor),qt.ios=qt.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),qt.mac=qt.ios||/Mac/.test(navigator.platform),qt.android=/Android \d/.test(navigator.userAgent),qt.webkit="webkitFontSmoothing"in document.documentElement.style,qt.webkit_version=qt.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Yt=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Xt=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},en=null,tn=function(e,t,n){var i=en||(en=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},nn=function(e,t,n,i){return n&&(on(e,t,n,i,-1)||on(e,t,n,i,1))},rn=/^(img|br|input|textarea|hr)$/i;function on(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:sn(e))){var o=e.parentNode;if(1!=o.nodeType||an(e)||rn.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Yt(e)+(r<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?sn(e):0}}}function sn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function an(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var ln=function(e){var t=e.isCollapsed;return t&&qt.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function cn(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function hn(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function dn(e,t){return"number"==typeof e?e:e[t]}function un(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function pn(e,t,n){for(var i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,s=n||e.dom;s;s=Xt(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?hn(o):un(s),c=0,h=0;if(t.top<l.top+dn(i,"top")?h=-(l.top-t.top+dn(r,"top")):t.bottom>l.bottom-dn(i,"bottom")&&(h=t.bottom-l.bottom+dn(r,"bottom")),t.left<l.left+dn(i,"left")?c=-(l.left-t.left+dn(r,"left")):t.right>l.right-dn(i,"right")&&(c=t.right-l.right+dn(r,"right")),c||h)if(a)o.defaultView.scrollBy(c,h);else{var d=s.scrollLeft,u=s.scrollTop;h&&(s.scrollTop+=h),c&&(s.scrollLeft+=c);var p=s.scrollLeft-d,f=s.scrollTop-u;t={left:t.left-p,top:t.top-f,right:t.right-p,bottom:t.bottom-f}}if(a)break}}function fn(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=Xt(e));return t}function mn(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.dom,o=i.top,s=i.left;r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}var gn=null;function vn(e,t){for(var n,i,r=2e8,o=0,s=t.top,a=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var h=void 0;if(1==l.nodeType)h=l.getClientRects();else{if(3!=l.nodeType)continue;h=tn(l).getClientRects()}for(var d=0;d<h.length;d++){var u=h[d];if(u.top<=s&&u.bottom>=a){s=Math.max(u.bottom,s),a=Math.min(u.top,a);var p=u.left>t.left?u.left-t.left:u.right<t.left?t.left-u.right:0;if(p<r){n=l,r=p,i=p&&3==n.nodeType?{left:u.right<t.left?u.right:u.left,top:t.top}:t,1==l.nodeType&&p&&(o=c+(t.left>=(u.left+u.right)/2?1:0));continue}}!n&&(t.left>=u.right&&t.top>=u.top||t.left>=u.left&&t.top>=u.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,i=document.createRange(),r=0;r<n;r++){i.setEnd(e,r+1),i.setStart(e,r);var o=wn(i,1);if(o.top!=o.bottom&&yn(t,o))return{node:e,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}(n,i):!n||r&&1==n.nodeType?{node:e,offset:o}:vn(n,i)}function yn(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function bn(e,t,n){var i=e.childNodes.length;if(i&&n.top<n.bottom)for(var r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),o=r;;){var s=e.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(yn(t,c))return bn(s,t,c)}if((o=(o+1)%i)==r)break}return e}function xn(e,t){var n,i,r,o,s=e.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(t.left,t.top);a&&(r=(n=a).offsetNode,o=n.offset)}catch(e){}if(!r&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(t.left,t.top);l&&(r=(i=l).startContainer,o=i.startOffset)}var c,h=(e.root.elementFromPoint?e.root:s).elementFromPoint(t.left,t.top+1);if(!h||!e.dom.contains(1!=h.nodeType?h.parentNode:h)){var d=e.dom.getBoundingClientRect();if(!yn(t,d))return null;if(!(h=bn(e.dom,t,d)))return null}if(qt.safari)for(var u=h;r&&u;u=Xt(u))u.draggable&&(r=o=null);if(h=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(h,t),r){if(qt.gecko&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length))<r.childNodes.length){var p,f=r.childNodes[o];"IMG"==f.nodeName&&(p=f.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&o++}r==e.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(c=function(e,t,n,i){for(var r=-1,o=t;o!=e.dom;){var s=e.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>i.left||a.top>i.top)r=s.posBefore;else{if(!(a.right<i.left||a.bottom<i.top))break;r=s.posAfter}}o=s.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,o,t))}null==c&&(c=function(e,t,n){var i=vn(t,n),r=i.node,o=i.offset,s=-1;if(1==r.nodeType&&!r.firstChild){var a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,o,s)}(e,h,t));var m=e.docView.nearestDesc(h,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}function wn(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var An=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Cn(e,t,n){var i=e.docView.domFromPos(t,n<0?-1:1),r=i.node,o=i.offset,s=qt.webkit||qt.gecko;if(3==r.nodeType){if(!s||!An.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){var a=o,l=o,c=n<0?1:-1;return n<0&&!o?(l++,c=-1):n>=0&&o==r.nodeValue.length?(a--,c=1):n<0?a--:l++,kn(wn(tn(r,a,l),c),c<0)}var h=wn(tn(r,o,o),n);if(qt.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var d=wn(tn(r,o-1,o-1),-1);if(d.top==h.top){var u=wn(tn(r,o,o+1),-1);if(u.top!=h.top)return kn(u,u.left<d.left)}}return h}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(n<0||o==sn(r))){var p=r.childNodes[o-1];if(1==p.nodeType)return Sn(p.getBoundingClientRect(),!1)}if(o<sn(r)){var f=r.childNodes[o];if(1==f.nodeType)return Sn(f.getBoundingClientRect(),!0)}return Sn(r.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==sn(r))){var m=r.childNodes[o-1],g=3==m.nodeType?tn(m,sn(m)-(s?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(g)return kn(wn(g,1),!1)}if(o<sn(r)){for(var v=r.childNodes[o];v.pmViewDesc&&v.pmViewDesc.ignoreForCoords;)v=v.nextSibling;var y=v?3==v.nodeType?tn(v,0,s?0:1):1==v.nodeType?v:null:null;if(y)return kn(wn(y,-1),!0)}return kn(wn(3==r.nodeType?tn(r):r,-n),n>=0)}function kn(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Sn(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Pn(e,t,n){var i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}var In=/[\u0590-\u08ac]/,En=null,_n=null,Tn=!1;var $n=function(e,t,n,i){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=0},Mn={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};$n.prototype.matchesWidget=function(){return!1},$n.prototype.matchesMark=function(){return!1},$n.prototype.matchesNode=function(){return!1},$n.prototype.matchesHack=function(e){return!1},$n.prototype.parseRule=function(){return null},$n.prototype.stopEvent=function(){return!1},Mn.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},Mn.border.get=function(){return 0},$n.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},$n.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return n;n+=i.size}},Mn.posBefore.get=function(){return this.parent.posBeforeChild(this)},Mn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Mn.posAfter.get=function(){return this.posBefore+this.size},Mn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},$n.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var i,r;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&(!(r=i.pmViewDesc)||r.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(r)+r.size:this.posAtStart}var o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(e==this.dom&&this.contentDOM)a=t>Yt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},$n.prototype.nearestDesc=function(e,t){for(var n=!0,i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},$n.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},$n.prototype.posFromDOM=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,n)}return-1},$n.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var i=this.children[t],r=n+i.size;if(n==e&&r!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<r)return i.descAt(e-n-i.border);n=r}},$n.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0,r=0;n<this.children.length;n++){var o=this.children[n],s=r+o.size;if(s>e||o instanceof Fn){i=e-r;break}r=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(var a=void 0;n&&!(a=this.children[n-1]).size&&a instanceof Dn&&a.widget.type.side>=0;n--);if(t<=0){for(var l,c=!0;(l=n?this.children[n-1]:null)&&l.dom.parentNode!=this.contentDOM;n--,c=!1);return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Yt(l.dom)+1:0}}for(var h,d=!0;(h=n<this.children.length?this.children[n]:null)&&h.dom.parentNode!=this.contentDOM;n++,d=!1);return h&&d&&!h.border&&!h.domAtom?h.domFromPos(0,t):{node:this.contentDOM,offset:h?Yt(h.dom):this.contentDOM.childNodes.length}},$n.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,r=-1,o=n,s=0;;s++){var a=this.children[s],l=o+a.size;if(-1==i&&e<=l){var c=o+a.border;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=o;for(var h=s;h>0;h--){var d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Yt(d.dom)+1;break}e-=d.size}-1==i&&(i=0)}if(i>-1&&(l>t||s==this.children.length-1)){t=l;for(var u=s+1;u<this.children.length;u++){var p=this.children[u];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){r=Yt(p.dom);break}t+=p.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}},$n.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},$n.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,i=t.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]},$n.prototype.setSelection=function(e,t,n,i){for(var r=Math.min(e,t),o=Math.max(e,t),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(r>a&&o<c)return l.setSelection(e-a-l.border,t-a-l.border,n,i);a=c}var h=this.domFromPos(e,e?-1:1),d=t==e?h:this.domFromPos(t,t?-1:1),u=n.getSelection(),p=!1;if((qt.gecko||qt.safari)&&e==t){var f=h.node,m=h.offset;if(3==f.nodeType){if((p=m&&"\n"==f.nodeValue[m-1])&&m==f.nodeValue.length)for(var g=f,v=void 0;g;g=g.parentNode){if(v=g.nextSibling){"BR"==v.nodeName&&(h=d={node:v.parentNode,offset:Yt(v)+1});break}var y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=f.childNodes[m-1];p=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(qt.gecko&&u.focusNode&&u.focusNode!=d.node&&1==u.focusNode.nodeType){var x=u.focusNode.childNodes[u.focusOffset];x&&"false"==x.contentEditable&&(i=!0)}if(i||p&&qt.safari||!nn(h.node,h.offset,u.anchorNode,u.anchorOffset)||!nn(d.node,d.offset,u.focusNode,u.focusOffset)){var w=!1;if((u.extend||e==t)&&!p){u.collapse(h.node,h.offset);try{e!=t&&u.extend(d.node,d.offset),w=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!w){if(e>t){var A=h;h=d,d=A}var C=document.createRange();C.setEnd(d.node,d.offset),C.setStart(h.node,h.offset),u.removeAllRanges(),u.addRange(C)}}},$n.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},Mn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},$n.prototype.markDirty=function(e,t){for(var n=0,i=0;i<this.children.length;i++){var r=this.children[i],o=n+r.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var s=n+r.border,a=o-r.border;if(e>=s&&t<=a)return this.dirty=e==n||t==o?2:1,void(e!=s||t!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-s,t-s):r.dirty=3);r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM?2:3}n=o}this.dirty=2},$n.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Mn.domAtom.get=function(){return!1},Mn.ignoreForCoords.get=function(){return!1},Object.defineProperties($n.prototype,Mn);var On=[],Dn=function(e){function t(t,n,i,r){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(i,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:r}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}e.call(this,t,On,s,null),this.widget=n,o=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}($n),Ln=function(e){function t(t,n,i,r){e.call(this,t,On,n,null),this.textDOM=i,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}($n),Nn=function(e){function t(t,n,i,r){e.call(this,t,[],i,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,i,r){var o=r.nodeViews[n.type.name],s=o&&o(n,r,i);return s&&s.dom||(s=Be.renderSpec(document,n.type.spec.toDOM(n,i))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,i){var r=t.create(this.parent,this.mark,!0,i),o=this.children,s=this.size;n<s&&(o=Xn(o,n,s,i)),e>0&&(o=Xn(o,0,e,i));for(var a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r},t}($n),Bn=function(e){function t(t,n,i,r,o,s,a,l,c){e.call(this,t,n.isLeaf?On:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=i,this.innerDeco=r,s&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,i,r,o,s){var a,l,c=o.nodeViews[n.type.name],h=c&&c(n,o,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),i,r),d=h&&h.dom,u=h&&h.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(d=(a=Be.renderSpec(document,n.type.spec.toDOM(n))).dom,u=a.contentDOM);u||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var p=d;return d=Gn(d,i,n),h?l=new jn(e,n,i,r,d,u,p,h,o,s+1):n.isText?new Zn(e,n,i,r,d,p,o):new t(e,n,i,r,d,u,p,o,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?I.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Jn(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,i=this.node.inlineContent,r=t,o=e.composing&&this.localCompositionInfo(e,t),s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Qn(this,s&&s.node);!function(e,t,n,i){var r=t.locals(e),o=0;if(0!=r.length)for(var s=0,a=[],l=null,c=0;;){if(s<r.length&&r[s].to==o){for(var h=r[s++],d=void 0;s<r.length&&r[s].to==o;)(d||(d=[h])).push(r[s++]);if(d){d.sort(Yn);for(var u=0;u<d.length;u++)n(d[u],c,!!l)}else n(h,c,!!l)}var p=void 0,f=void 0;if(l)f=-1,p=l,l=null;else{if(!(c<e.childCount))break;f=c,p=e.child(c++)}for(var m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);var g=o+p.nodeSize;if(p.isText){var v=g;s<r.length&&r[s].from<v&&(v=r[s].from);for(var y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<g&&(l=p.cut(v-o),p=p.cut(0,v-o),g=v,f=-1)}i(p,a.length?p.isInline&&!p.isLeaf?a.filter((function(e){return!e.inline})):a.slice():On,t.forChild(o,p),f),o=g}else for(var b=0;b<e.childCount;b++){var x=e.child(b);i(x,r,t.forChild(o,x),b),o+=x.nodeSize}}(this.node,this.innerDeco,(function(t,o,s){t.spec.marks?l.syncToMarks(t.spec.marks,i,e):t.type.side>=0&&!s&&l.syncToMarks(o==n.node.childCount?M.none:n.node.child(o).marks,i,e),l.placeWidget(t,e,r)}),(function(t,n,s,c){var h;l.syncToMarks(t.marks,i,e),l.findNodeMatch(t,n,s,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,n,s,h,e)||l.updateNextNode(t,n,s,e,c)||l.addNode(t,n,s,e,r),r+=t.nodeSize})),l.syncToMarks(On,i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),zn(this.contentDOM,this.children,e),qt.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,i=n.from,r=n.to;if(!(!(e.state.selection instanceof St)||i<t||r>t+this.node.content.size)){var o=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=sn(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,l=function(e,t,n,i){for(var r=0,o=0;r<e.childCount&&o<=i;){var s=e.child(r++),a=o;if(o+=s.nodeSize,s.isText){for(var l=s.text;r<e.childCount;){var c=e.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){var h=l.lastIndexOf(t,i-a);if(h>=0&&h+t.length+a>=n)return a+h}}}return-1}(this.node.content,a,i-t,r-t);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,i=t.pos,r=t.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new Ln(this,o,n,r);e.compositionNodes.push(s),this.children=Xn(this.children,i,i+r.length,e,s)}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,i),0))},t.prototype.updateInner=function(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!Jn(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=qn(this.dom,this.nodeDOM,Vn(this.outerDeco,this.node,t),Vn(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}($n);function Rn(e,t,n,i,r){return Gn(i,t,e),new Bn(null,e,t,n,i,i,i,r,0)}var Zn=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,i,r,o,null,s,a)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,0))},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,i)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,i){var r=this.node.cut(e,n),o=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(Bn),Fn=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}($n),jn=function(e){function t(t,n,i,r,o,s,a,l,c,h){e.call(this,t,n,i,r,o,s,a,c,h),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,i,r){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(t,n,i);return o&&this.updateInner(t,n,i,r),o}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,i,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,i,r){this.spec.setSelection?this.spec.setSelection(t,n,i):e.prototype.setSelection.call(this,t,n,i,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Bn);function zn(e,t,n){for(var i=e.firstChild,r=!1,o=0;o<t.length;o++){var s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=i;)i=Kn(i),r=!0;i=i.nextSibling}else r=!0,e.insertBefore(a,i);if(s instanceof Nn){var l=i?i.previousSibling:e.lastChild;zn(s.contentDOM,s.children,n),i=l?l.nextSibling:e.firstChild}}for(;i;)i=Kn(i),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}function Un(e){e&&(this.nodeName=e)}Un.prototype=Object.create(null);var Hn=[new Un];function Vn(e,t,n){if(0==e.length)return Hn;for(var i=n?Hn[0]:new Un,r=[i],o=0;o<e.length;o++){var s=e[o].type.attrs;if(s)for(var a in s.nodeName&&r.push(i=new Un(s.nodeName)),s){var l=s[a];null!=l&&(n&&1==r.length&&r.push(i=new Un(t.isInline?"span":"div")),"class"==a?i.class=(i.class?i.class+" ":"")+l:"style"==a?i.style=(i.style?i.style+";":"")+l:"nodeName"!=a&&(i[a]=l))}}return r}function qn(e,t,n,i){if(n==Hn&&i==Hn)return t;for(var r=t,o=0;o<i.length;o++){var s=i[o],a=n[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&r!=e&&(l=r.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(r),a=Hn[0]),r=l}Wn(r,a||Hn[0],s)}return r}function Wn(e,t,n){for(var i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):On,s=n.class?n.class.split(" ").filter(Boolean):On,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&e.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&e.classList.add(s[l]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var c,h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=h.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function Gn(e,t,n){return qn(e,e,Hn,Vn(t,n,1!=e.nodeType))}function Jn(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Kn(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Qn=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){for(var n=e.childCount,i=t.length,r=new Map;n>0&&i>0;i--){var o=t[i-1],s=o.node;if(s){if(s!=e.child(n-1))break;--n,r.set(o,n)}}return{index:n,matched:r}}(e.node.content,e.children)};function Yn(e,t){return e.type.side-t.type.side}function Xn(e,t,n,i,r){for(var o=[],s=0,a=0;s<e.length;s++){var l=e[s],c=a,h=a+=l.size;c>=n||h<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,i)),r&&(o.push(r),r=null),h>n&&o.push(l.slice(n-c,l.size,i)))}return o}function ei(e,t){var n=e.root.getSelection(),i=e.state.doc;if(!n.focusNode)return null;var r=e.docView.nearestDesc(n.focusNode),o=r&&0==r.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,l,c=i.resolve(s);if(ln(n)){for(a=c;r&&!r.node;)r=r.parent;if(r&&r.node.isAtom&&It.isSelectable(r.node)&&r.parent&&(!r.node.isInline||!function(e,t,n){for(var i=0==t,r=t==sn(e);i||r;){if(e==n)return!0;var o=Yt(e);if(!(e=e.parentNode))return!1;i=i&&0==o,r=r&&o==sn(e)}}(n.focusNode,n.focusOffset,r.dom))){var h=r.posBefore;l=new It(s==h?c:i.resolve(h))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;a=i.resolve(d)}return l||(l=ci(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1)),l}function ti(e){return e.editable?e.hasFocus():hi(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ni(e,t){var n=e.state.selection;if(ai(e,n),ti(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),i=e.cursorWrapper.dom,r="IMG"==i.nodeName;r?n.setEnd(i.parentNode,Yt(i)+1):n.setEnd(i,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&qt.ie&&qt.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{var i,r,o=n.anchor,s=n.head;!ii||n instanceof St||(n.$from.parent.inlineContent||(i=ri(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=ri(e,n.to))),e.docView.setSelection(o,s,e.root,t),ii&&(i&&si(i),r&&si(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),i=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){ti(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}Qn.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},Qn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Qn.prototype.syncToMarks=function(e,t,n){for(var i=0,r=this.stack.length>>1,o=Math.min(r,e.length);i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[r])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=Nn.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}},Qn.prototype.findNodeMatch=function(e,t,n,i){var r=this.top.children,o=-1;if(i>=this.preMatch.index){for(var s=this.index;s<r.length;s++)if(this.preMatch.matched.get(r[s])==i){r[s].matchesNode(e,t,n)&&(o=s);break}}else for(var a=this.index,l=Math.min(r.length,a+5);a<l;a++){var c=r[a];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){o=a;break}}return!(o<0||(this.destroyBetween(this.index,o),this.index++,0))},Qn.prototype.updateNodeAt=function(e,t,n,i,r){return!!this.top.children[i].update(e,t,n,r)&&(this.destroyBetween(this.index,i),this.index=i+1,!0)},Qn.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i;return-1}e=t}},Qn.prototype.updateNextNode=function(e,t,n,i,r){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof Bn){var a=this.preMatch.matched.get(s);if(null!=a&&a!=r)return!1;var l=s.dom;if((!this.lock||!(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))||e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Jn(t,s.outerDeco))&&s.update(e,t,n,i))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Qn.prototype.addNode=function(e,t,n,i,r){this.top.children.splice(this.index++,0,Bn.create(this.top,e,t,n,i,r)),this.changed=!0},Qn.prototype.placeWidget=function(e,t,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){var r=new Dn(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},Qn.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Nn;)e=e.children[e.children.length-1];e&&e instanceof Zn&&!/\n$/.test(e.node.text)||((qt.safari||qt.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Qn.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Fn(this.top,On,t,null)),this.changed=!0}};var ii=qt.safari||qt.chrome&&qt.chrome_version<63;function ri(e,t){var n=e.docView.domFromPos(t,0),i=n.node,r=n.offset,o=r<i.childNodes.length?i.childNodes[r]:null,s=r?i.childNodes[r-1]:null;if(qt.safari&&o&&"false"==o.contentEditable)return oi(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return oi(o);if(s)return oi(s)}}function oi(e){return e.contentEditable="true",qt.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function si(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ai(e,t){if(t instanceof It){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(li(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else li(e)}function li(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function ci(e,t,n,i){return e.someProp("createSelectionBetween",(function(i){return i(e,t,n)}))||St.between(t,n,i)}function hi(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function di(e,t){var n=e.selection,i=n.$anchor,r=n.$head,o=t>0?i.max(r):i.min(r),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&At.findFrom(s,t)}function ui(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function pi(e,t,n){var i=e.state.selection;if(!(i instanceof St)){if(i instanceof It&&i.node.isInline)return ui(e,new St(t>0?i.$to:i.$from));var r=di(e.state,t);return!!r&&ui(e,r)}if(!i.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var o=di(e.state,t);return!!(o&&o instanceof It)&&ui(e,o)}if(!(qt.mac&&n.indexOf("m")>-1)){var s,a=i.$head,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=t<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=e.docView.descAt(c))&&!s.contentDOM)&&(It.isSelectable(l)?ui(e,new It(t<0?e.state.doc.resolve(a.pos-l.nodeSize):a)):!!qt.webkit&&ui(e,new St(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function fi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function mi(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function gi(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){var r,o,s=!1;for(qt.gecko&&1==n.nodeType&&i<fi(n)&&mi(n.childNodes[i])&&(s=!0);;)if(i>0){if(1!=n.nodeType)break;var a=n.childNodes[i-1];if(mi(a))r=n,o=--i;else{if(3!=a.nodeType)break;i=(n=a).nodeValue.length}}else{if(yi(n))break;for(var l=n.previousSibling;l&&mi(l);)r=n.parentNode,o=Yt(l),l=l.previousSibling;if(l)i=fi(n=l);else{if((n=n.parentNode)==e.dom)break;i=0}}s?bi(e,t,n,i):r&&bi(e,t,r,o)}}function vi(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){for(var r,o,s=fi(n);;)if(i<s){if(1!=n.nodeType)break;if(!mi(n.childNodes[i]))break;r=n,o=++i}else{if(yi(n))break;for(var a=n.nextSibling;a&&mi(a);)r=a.parentNode,o=Yt(a)+1,a=a.nextSibling;if(a)i=0,s=fi(n=a);else{if((n=n.parentNode)==e.dom)break;i=s=0}}r&&bi(e,t,r,o)}}function yi(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function bi(e,t,n,i){if(ln(t)){var r=document.createRange();r.setEnd(n,i),r.setStart(n,i),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,i);e.domObserver.setCurSelection();var o=e.state;setTimeout((function(){e.state==o&&ni(e)}),50)}function xi(e,t,n){var i=e.state.selection;if(i instanceof St&&!i.empty||n.indexOf("s")>-1)return!1;if(qt.mac&&n.indexOf("m")>-1)return!1;var r=i.$from,o=i.$to;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=di(e.state,t);if(s&&s instanceof It)return ui(e,s)}if(!r.parent.inlineContent){var a=t<0?r:o,l=i instanceof _t?At.near(a,t):At.findFrom(a,t);return!!l&&ui(e,l)}return!1}function wi(e,t){if(!(e.state.selection instanceof St))return!0;var n=e.state.selection,i=n.$head,r=n.$anchor,o=n.empty;if(!i.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!i.textOffset&&(t<0?i.nodeBefore:i.nodeAfter);if(s&&!s.isText){var a=e.state.tr;return t<0?a.delete(i.pos-s.nodeSize,i.pos):a.delete(i.pos,i.pos+s.nodeSize),e.dispatch(a),!0}return!1}function Ai(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ci(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(qt.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||qt.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function ki(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:ci(e,t.resolve(n.anchor),t.resolve(n.head))}function Si(e,t,n){for(var i=e.depth,r=t?e.end():e.pos;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n)for(var o=e.node(i).maybeChild(e.indexAfter(i));o&&!o.isLeaf;)o=o.firstChild,r++;return r}function Pi(e,t){for(var n=[],i=t.content,r=t.openStart,o=t.openEnd;r>1&&o>1&&1==i.childCount&&1==i.firstChild.childCount;){r--,o--;var s=i.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),i=s.content}var a=e.someProp("clipboardSerializer")||Be.fromSchema(e.state.schema),l=Li(),c=l.createElement("div");c.appendChild(a.serializeFragment(i,{document:l}));for(var h,d=c.firstChild;d&&1==d.nodeType&&(h=Oi[d.nodeName.toLowerCase()]);){for(var u=h.length-1;u>=0;u--){for(var p=l.createElement(h[u]);c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),"tbody"!=h[u]&&(r++,o++)}d=c.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",r+" "+o+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ii(e,t,n,i,r){var o,s,a=r.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(i||a||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,a||i)})),a)return t?new D(I.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):D.empty;var c=e.someProp("clipboardTextParser",(function(e){return e(t,r,i)}));if(c)s=c;else{var h=r.marks(),d=e.state.schema,u=Be.fromSchema(d);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=o.appendChild(document.createElement("p"));e&&t.appendChild(u.serializeNode(d.text(e,h)))}))}}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),o=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,i=Li().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);if((n=r&&Oi[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join("")),i.innerHTML=e,n)for(var o=0;o<n.length;o++)i=i.querySelector(n[o])||i;return i}(n),qt.webkit&&function(e){for(var t=e.querySelectorAll(qt.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var i=t[n];1==i.childNodes.length&&" "==i.textContent&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}(o);var p=o&&o.querySelector("[data-pm-slice]"),f=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!s){var m=e.someProp("clipboardParser")||e.someProp("domParser")||Pe.fromSchema(e.state.schema);s=m.parseSlice(o,{preserveWhitespace:!(!l&&!f),context:r,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling)return{ignore:!0}}})}if(f)s=function(e,t){if(!e.size)return e;var n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var r=e.content,o=e.openStart,s=e.openEnd,a=n.length-2;a>=0;a-=2){var l=i.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=I.from(l.create(n[a+1],r)),o++,s++}return new D(r,o,s)}(Mi(s,+f[1],+f[2]),f[3]);else if(s=D.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var i=t.node(n).contentMatchAt(t.index(n)),r=void 0,o=[];if(e.forEach((function(e){if(o){var t,n=i.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&r.length&&_i(n,r,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=Ti(o[o.length-1],r.length));var s=Ei(e,n);o.push(s),i=i.matchType(s.type,s.attrs),r=n}}})),o)return{v:I.from(o)}},i=t.depth;i>=0;i--){var r=n(i);if(r)return r.v}return e}(s.content,r),!0),s.openStart||s.openEnd){for(var g=0,v=0,y=s.content.firstChild;g<s.openStart&&!y.type.spec.isolating;g++,y=y.firstChild);for(var b=s.content.lastChild;v<s.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);s=Mi(s,g,v)}return e.someProp("transformPasted",(function(e){s=e(s)})),s}function Ei(e,t,n){void 0===n&&(n=0);for(var i=t.length-1;i>=n;i--)e=t[i].create(null,I.from(e));return e}function _i(e,t,n,i,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var o=_i(e,t,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==e.length-1?n.type:e[r+1]))return i.copy(i.content.append(I.from(Ei(n,e,r+1))))}}function Ti(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,Ti(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(I.empty,!0);return e.copy(n.append(i))}function $i(e,t,n,i,r,o){var s=t<0?e.firstChild:e.lastChild,a=s.content;return r<i-1&&(a=$i(a,t,n,i,r+1,o)),r>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(I.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function Mi(e,t,n){return t<e.openStart&&(e=new D($i(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new D($i(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var Oi={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Di=null;function Li(){return Di||(Di=document.implementation.createHTMLDocument("title"))}var Ni={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Bi=qt.ie&&qt.ie_version<=11,Ri=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ri.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Ri.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Zi=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);qt.ie&&qt.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ri,Bi&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Zi.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Zi.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Zi.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ni),Bi&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Zi.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Bi&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Zi.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Zi.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Zi.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Zi.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&hi(e)){var e;if(this.suppressingSelectionUpdates)return ni(this.view);if(qt.ie&&qt.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&nn(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Zi.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Zi.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Zi.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&hi(this.view)&&!this.ignoreSelectionChange(t),i=-1,r=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<e.length;a++){var l=this.registerMutation(e[a],s);l&&(i=i<0?l.from:Math.min(l.from,i),r=r<0?l.to:Math.max(l.to,r),l.typeOver&&(o=!0))}if(qt.gecko&&s.length>1){var c=s.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var h=c[0],d=c[1];h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,r),u=this.view,Fi||(Fi=!0,"normal"==getComputedStyle(u.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(i,r,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ni(this.view),this.currentSelection.set(t))}var u},Zi.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var i=0;i<e.addedNodes.length;i++)t.push(e.addedNodes[i]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var r=e.previousSibling,o=e.nextSibling;if(qt.ie&&qt.ie_version<=11&&e.addedNodes.length)for(var s=0;s<e.addedNodes.length;s++){var a=e.addedNodes[s],l=a.previousSibling,c=a.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c)}var h=r&&r.parentNode==e.target?Yt(r)+1:0,d=n.localPosFromDOM(e.target,h,-1),u=o&&o.parentNode==e.target?Yt(o):e.target.childNodes.length;return{from:d,to:n.localPosFromDOM(e.target,u,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Fi=!1,ji={},zi={};function Ui(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Hi(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Vi(e,t)})}))}function Vi(e,t){return e.someProp("handleDOMEvents",(function(n){var i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)}))}function qi(e){return{left:e.clientX,top:e.clientY}}function Wi(e,t,n,i,r){if(-1==i)return!1;for(var o=e.state.doc.resolve(i),s=function(i){if(e.someProp(t,(function(t){return i>o.depth?t(e,n,o.nodeAfter,o.before(i),r,!0):t(e,n,o.node(i),o.before(i),r,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Gi(e,t,n){e.focused||e.focus();var i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}function Ji(e,t,n,i){return Wi(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",(function(n){return n(e,t,i)}))}function Ki(e,t,n,i){return Wi(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(function(n){return n(e,t,i)}))||function(e,t,n){if(0!=n.button)return!1;var i=e.state.doc;if(-1==t)return!!i.inlineContent&&(Gi(e,St.create(i,0,i.content.size),"pointer"),!0);for(var r=i.resolve(t),o=r.depth+1;o>0;o--){var s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)Gi(e,St.create(i,a+1,a+1+s.content.size),"pointer");else{if(!It.isSelectable(s))continue;Gi(e,It.create(i,a),"pointer")}return!0}}(e,n,i)}function Qi(e){return rr(e)}zi.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!er(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!qt.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||function(e,t){var n=t.keyCode,i=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||qt.mac&&72==n&&"c"==i?wi(e,-1)||gi(e):46==n||qt.mac&&68==n&&"c"==i?wi(e,1)||vi(e):13==n||27==n||(37==n?pi(e,-1,i)||gi(e):39==n?pi(e,1,i)||vi(e):38==n?xi(e,-1,i)||gi(e):40==n?function(e){if(qt.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;Ai(e,r,!0),setTimeout((function(){return Ai(e,r,!1)}),20)}}}(e)||xi(e,1,i)||vi(e):i==(qt.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(e,t)?t.preventDefault():Ui(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,cn(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},zi.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},zi.keypress=function(e,t){if(!(er(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||qt.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof St&&n.$from.sameParent(n.$to))){var i=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,i)}))||e.dispatch(e.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}}};var Yi=qt.mac?"metaKey":"ctrlKey";ji.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Qi(e),i=Date.now(),r="singleClick";i-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(t,e.lastClick)&&!t[Yi]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:i,x:t.clientX,y:t.clientY,type:r};var o=e.posAtCoords(qi(t));o&&("singleClick"==r?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new Xi(e,o,t,n)):("doubleClick"==r?Ji:Ki)(e,o.pos,o.inside,t)?t.preventDefault():Ui(e,"pointer"))};var Xi=function(e,t,n,i){var r,o,s=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=i,this.selectNode=n[Yi],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)r=e.state.doc.nodeAt(t.inside),o=t.inside;else{var a=e.state.doc.resolve(t.pos);r=a.parent,o=a.depth?a.before():0}this.mightDrag=null;var l=i?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var h=e.state.selection;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||h instanceof It&&h.from<=o&&h.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&qt.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ui(e,"pointer")};function er(e,t){return!!e.composing||!!(qt.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}Xi.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return ni(e.view)})),this.view.mouseDown=null},Xi.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(qi(e))),this.allowDefault||!t?Ui(this.view,"pointer"):function(e,t,n,i,r){return Wi(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(function(n){return n(e,t,i)}))||(r?function(e,t){if(-1==t)return!1;var n,i,r=e.state.selection;r instanceof It&&(n=r.node);for(var o=e.state.doc.resolve(t),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(It.isSelectable(a)){i=n&&r.$from.depth>0&&s>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?o.before(r.$from.depth):o.before(s);break}}return null!=i&&(Gi(e,It.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&It.isSelectable(i))&&(Gi(e,new It(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||qt.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||qt.chrome&&!(this.view.state.selection instanceof St)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Gi(this.view,At.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ui(this.view,"pointer")}},Xi.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ui(this.view,"pointer"),0==e.buttons&&this.done()},ji.touchdown=function(e){Qi(e),Ui(e,"pointer")},ji.contextmenu=function(e){return Qi(e)};var tr=qt.android?5e3:-1;function nr(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return rr(e)}),t))}function ir(e){var t;for(e.composing&&(e.composing=!1,e.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function rr(e,t){if(e.domObserver.forceFlush(),ir(e),t||e.docView.dirty){var n=ei(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}zi.compositionstart=zi.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),rr(e,!0),e.markCursor=null;else if(rr(e),qt.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=e.root.getSelection(),r=i.focusNode,o=i.focusOffset;r&&1==r.nodeType&&0!=o;){var s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(3==s.nodeType){i.collapse(s,s.nodeValue.length);break}r=s,o=-1}e.composing=!0}nr(e,tr)},zi.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,nr(e,20))};var or=qt.ie&&qt.ie_version<15||qt.ios&&qt.webkit_version<604;function sr(e,t,n,i){var r=Ii(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,i,r||D.empty)})))return!0;if(!r)return!1;var o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ji.copy=zi.cut=function(e,t){var n=e.state.selection,i="cut"==t.type;if(!n.empty){var r=or?null:t.clipboardData,o=Pi(e,n.content()),s=o.dom,a=o.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",a)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},zi.paste=function(e,t){var n=or?null:t.clipboardData;n&&sr(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?sr(e,i.value,null,t):sr(e,i.textContent,i.innerHTML,t)}),50)}}(e,t)};var ar=function(e,t){this.slice=e,this.move=t},lr=qt.mac?"altKey":"ctrlKey";for(var cr in ji.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var i=e.state.selection,r=i.empty?null:e.posAtCoords(qi(t));if(r&&r.pos>=i.from&&r.pos<=(i instanceof It?i.to-1:i.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(It.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var o=e.docView.nearestDesc(t.target,!0);o&&o.node.type.spec.draggable&&o!=e.docView&&e.dispatch(e.state.tr.setSelection(It.create(e.state.doc,o.posBefore)))}var s=e.state.selection.content(),a=Pi(e,s),l=a.dom,c=a.text;t.dataTransfer.clearData(),t.dataTransfer.setData(or?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",or||t.dataTransfer.setData("text/plain",c),e.dragging=new ar(s,!t[lr])}},ji.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},zi.dragover=zi.dragenter=function(e,t){return t.preventDefault()},zi.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var i=e.posAtCoords(qi(t));if(i){var r=e.state.doc.resolve(i.pos);if(r){var o=n&&n.slice;o?e.someProp("transformPasted",(function(e){o=e(o)})):o=Ii(e,t.dataTransfer.getData(or?"Text":"text/plain"),or?null:t.dataTransfer.getData("text/html"),!1,r);var s=n&&!t[lr];if(e.someProp("handleDrop",(function(n){return n(e,t,o||D.empty,s)})))t.preventDefault();else if(o){t.preventDefault();var a=o?at(e.state.doc,r.pos,o):r.pos;null==a&&(a=r.pos);var l=e.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),h=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,d=l.doc;if(h?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),!l.doc.eq(d)){var u=l.doc.resolve(c);if(h&&It.isSelectable(o.content.firstChild)&&u.nodeAfter&&u.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new It(u));else{var p=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((function(e,t,n,i){return p=i})),l.setSelection(ci(e,u,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}}},ji.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ni(e)}),20))},ji.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},ji.beforeinput=function(e,t){if(qt.chrome&&qt.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,cn(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},zi)ji[cr]=zi[cr];function hr(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var i in t)if(!(i in e))return!1;return!0}var dr=function(e,t){this.spec=t||vr,this.side=this.spec.side||0,this.toDOM=e};dr.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,this.side<0?-1:1),o=r.pos;return r.deleted?null:new fr(o-n,o-n,this)},dr.prototype.valid=function(){return!0},dr.prototype.eq=function(e){return this==e||e instanceof dr&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&hr(this.spec,e.spec))},dr.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var ur=function(e,t){this.spec=t||vr,this.attrs=e};ur.prototype.map=function(e,t,n,i){var r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=o?null:new fr(r,o,this)},ur.prototype.valid=function(e,t){return t.from<t.to},ur.prototype.eq=function(e){return this==e||e instanceof ur&&hr(this.attrs,e.attrs)&&hr(this.spec,e.spec)},ur.is=function(e){return e.type instanceof ur};var pr=function(e,t){this.spec=t||vr,this.attrs=e};pr.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,1);if(r.deleted)return null;var o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=r.pos?null:new fr(r.pos-n,o.pos-n,this)},pr.prototype.valid=function(e,t){var n,i=e.content.findIndex(t.from),r=i.index,o=i.offset;return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to},pr.prototype.eq=function(e){return this==e||e instanceof pr&&hr(this.attrs,e.attrs)&&hr(this.spec,e.spec)};var fr=function(e,t,n){this.from=e,this.to=t,this.type=n},mr={spec:{configurable:!0},inline:{configurable:!0}};fr.prototype.copy=function(e,t){return new fr(e,t,this.type)},fr.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},fr.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},fr.widget=function(e,t,n){return new fr(e,e,new dr(t,n))},fr.inline=function(e,t,n,i){return new fr(e,t,new ur(n,i))},fr.node=function(e,t,n,i){return new fr(e,t,new pr(n,i))},mr.spec.get=function(){return this.type.spec},mr.inline.get=function(){return this.type instanceof ur},Object.defineProperties(fr.prototype,mr);var gr=[],vr={},yr=function(e,t){this.local=e&&e.length?e:gr,this.children=t&&t.length?t:gr};yr.create=function(e,t){return t.length?kr(t,e,0,vr):br},yr.prototype.find=function(e,t,n){var i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i},yr.prototype.findInner=function(e,t,n,i,r){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,i+l,r)}},yr.prototype.map=function(e,t,n){return this==br||0==e.maps.length?this:this.mapInner(e,t,0,0,n||vr)},yr.prototype.mapInner=function(e,t,n,i,r){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(e,n,i);a&&a.type.valid(t,a)?(o||(o=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,i,r,o,s){for(var a=e.slice(),l=function(e,t,n,i){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||e>l+o||(t>=a[s]+o?a[s+1]=-1:n>=r&&(c=i-n-(t-e))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var h=!1,d=0;d<a.length;d+=3)if(-1==a[d+1]){var u=n.map(e[d]+o),p=u-r;if(p<0||p>=i.content.size){h=!0;continue}var f=n.map(e[d+1]+o,-1)-r,m=i.content.findIndex(p),g=m.index,v=m.offset,y=i.maybeChild(g);if(y&&v==p&&v+y.nodeSize==f){var b=a[d+2].mapInner(n,y,u+1,e[d]+o+1,s);b!=br?(a[d]=p,a[d+1]=f,a[d+2]=b):(a[d+1]=-2,h=!0)}else h=!0}if(h){var x=function(e,t,n,i,r,o,s){function a(e,t){for(var o=0;o<e.local.length;o++){var l=e.local[o].map(i,r,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[o].spec)}for(var c=0;c<e.children.length;c+=3)a(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+o+1);return n}(a,e,t||[],n,r,o,s),w=kr(x,i,0,s);t=w.local;for(var A=0;A<a.length;A+=3)a[A+1]<0&&(a.splice(A,3),A-=3);for(var C=0,k=0;C<w.children.length;C+=3){for(var S=w.children[C];k<a.length&&a[k]<S;)k+=3;a.splice(k,0,w.children[C],w.children[C+1],w.children[C+2])}}return new yr(t&&t.sort(Sr),a)}(this.children,o,e,t,n,i,r):o?new yr(o.sort(Sr)):br},yr.prototype.add=function(e,t){return t.length?this==br?yr.create(e,t):this.addInner(e,t,0):this},yr.prototype.addInner=function(e,t,n){var i,r=this,o=0;e.forEach((function(e,s){var a,l=s+n;if(a=Ar(t,e,l)){for(i||(i=r.children.slice());o<i.length&&i[o]<s;)o+=3;i[o]==s?i[o+2]=i[o+2].addInner(e,a,l+1):i.splice(o,0,s,s+e.nodeSize,kr(a,e,l+1,vr)),o+=3}}));for(var s=wr(o?Cr(t):t,-n),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new yr(s.length?this.local.concat(s).sort(Sr):this.local,i||this.children)},yr.prototype.remove=function(e){return 0==e.length||this==br?this:this.removeInner(e,0)},yr.prototype.removeInner=function(e,t){for(var n=this.children,i=this.local,r=0;r<n.length;r+=3){for(var o=void 0,s=n[r]+t,a=n[r+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>s&&c.to<a&&(e[l]=null,(o||(o=[])).push(c));if(o){n==this.children&&(n=this.children.slice());var h=n[r+2].removeInner(o,s+1);h!=br?n[r+2]=h:(n.splice(r,3),r-=3)}}if(i.length)for(var d=0,u=void 0;d<e.length;d++)if(u=e[d])for(var p=0;p<i.length;p++)i[p].eq(u,t)&&(i==this.local&&(i=this.local.slice()),i.splice(p--,1));return n==this.children&&i==this.local?this:i.length||n.length?new yr(i,n):br},yr.prototype.forChild=function(e,t){if(this==br)return this;if(t.isLeaf)return yr.empty;for(var n,i,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var o=e+1,s=o+t.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ur){var c=Math.max(o,l.from)-o,h=Math.min(s,l.to)-o;c<h&&(i||(i=[])).push(l.copy(c,h))}}if(i){var d=new yr(i.sort(Sr));return n?new xr([d,n]):d}return n||br},yr.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof yr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},yr.prototype.locals=function(e){return Pr(this.localsInner(e))},yr.prototype.localsInner=function(e){if(this==br)return gr;if(e.inlineContent||!this.local.some(ur.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof ur||t.push(this.local[n]);return t};var br=new yr;yr.empty=br,yr.removeOverlap=Pr;var xr=function(e){this.members=e};function wr(e,t){if(!t||!e.length)return e;for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(new fr(r.from+t,r.to+t,r.type))}return n}function Ar(e,t,n){if(t.isLeaf)return null;for(var i=n+t.nodeSize,r=null,o=0,s=void 0;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<i&&((r||(r=[])).push(s),e[o]=null);return r}function Cr(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function kr(e,t,n,i){var r=[],o=!1;t.forEach((function(t,s){var a=Ar(e,t,s+n);if(a){o=!0;var l=kr(a,t,n+s+1,i);l!=br&&r.push(s,s+t.nodeSize,l)}}));for(var s=wr(o?Cr(e):e,-n).sort(Sr),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new yr(s,r):br}function Sr(e,t){return e.from-t.from||e.to-t.to}function Pr(e){for(var t=e,n=0;n<t.length-1;n++){var i=t[n];if(i.from!=i.to)for(var r=n+1;r<t.length;r++){var o=t[r];if(o.from!=i.from){o.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,o.from),Ir(t,r,i.copy(o.from,i.to)));break}o.to!=i.to&&(t==e&&(t=e.slice()),t[r]=o.copy(o.from,i.to),Ir(t,r+1,o.copy(i.to,o.to)))}}return t}function Ir(e,t,n){for(;t<e.length&&Sr(n,e[t])>0;)t++;e.splice(t,0,n)}function Er(e){var t=[];return e.someProp("decorations",(function(n){var i=n(e.state);i&&i!=br&&t.push(i)})),e.cursorWrapper&&t.push(yr.create(e.state.doc,[e.cursorWrapper.deco])),xr.from(t)}xr.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,vr)}));return xr.from(n)},xr.prototype.forChild=function(e,t){if(t.isLeaf)return yr.empty;for(var n=[],i=0;i<this.members.length;i++){var r=this.members[i].forChild(e,t);r!=br&&(r instanceof xr?n=n.concat(r.members):n.push(r))}return xr.from(n)},xr.prototype.eq=function(e){if(!(e instanceof xr)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},xr.prototype.locals=function(e){for(var t,n=!0,i=0;i<this.members.length;i++){var r=this.members[i].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<r.length;o++)t.push(r[o])}else t=r}return t?Pr(n?t:t.sort(Sr)):gr},xr.from=function(e){switch(e.length){case 0:return br;case 1:return e[0];default:return new xr(e)}};var _r=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Lr),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Or(this),this.markCursor=null,this.cursorWrapper=null,Mr(this),this.nodeViews=Dr(this),this.docView=Rn(this.state.doc,$r(this),Er(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Zi(e,(function(t,n,i,r){return function(e,t,n,i,r){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,s=ei(e,o);if(s&&!e.state.selection.eq(s)){var a=e.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),e.dispatch(a)}}else{var l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);var h=e.state.selection,d=function(e,t,n){var i=e.docView.parseRange(t,n),r=i.node,o=i.fromOffset,s=i.toOffset,a=i.from,l=i.to,c=e.root.getSelection(),h=null,d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(h=[{node:d,offset:c.anchorOffset}],ln(c)||h.push({node:c.focusNode,offset:c.focusOffset})),qt.chrome&&8===e.lastKeyCode)for(var u=s;u>o;u--){var p=r.childNodes[u-1],f=p.pmViewDesc;if("BR"==p.nodeName&&!f){s=u;break}if(!f||f.size)break}var m=e.state.doc,g=e.someProp("domParser")||Pe.fromSchema(e.state.schema),v=m.resolve(a),y=null,b=g.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:!v.parent.type.spec.code||"full",editableContent:!0,findPositions:h,ruleFromNode:Ci,context:v});if(h&&null!=h[0].pos){var x=h[0].pos,w=h[1]&&h[1].pos;null==w&&(w=x),y={anchor:x+a,head:w+a}}return{doc:b,sel:y,from:a,to:l}}(e,t,n);if(qt.chrome&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from){var u=e.cursorWrapper.deco.type.toDOM.nextSibling,p=u&&u.nodeValue?u.nodeValue.length:1;d.sel={anchor:d.sel.anchor+p,head:d.sel.anchor+p}}var f,m,g=e.state.doc,v=g.slice(d.from,d.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(f=e.state.selection.to,m="end"):(f=e.state.selection.from,m="start"),e.lastKeyCode=null;var y=function(e,t,n,i,r){var o=e.findDiffStart(t,n);if(null==o)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,l=s.b;return"end"==r&&(i-=a+Math.max(0,o-Math.min(a,l))-o),a<o&&e.size<t.size?(l=(o-=i<=o&&i>=a?o-i:0)+(l-a),a=o):l<o&&(a=(o-=i<=o&&i>=l?o-i:0)+(a-l),l=o),{start:o,endA:a,endB:l}}(v.content,d.doc.content,d.from,f,m);if(!y){if(!(i&&h instanceof St&&!h.empty&&h.$head.sameParent(h.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if((qt.ios&&e.lastIOSEnter>Date.now()-225||qt.android)&&r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,cn(13,"Enter"))})))return void(e.lastIOSEnter=0);if(d.sel){var b=ki(e,e.state.doc,d.sel);b&&!b.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(b))}return}y={start:h.from,endA:h.to,endB:h.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof St&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),qt.ie&&qt.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>d.from&&"  "==d.doc.textBetween(y.start-d.from-1,y.start-d.from+1)&&(y.start--,y.endA--,y.endB--);var x,w=d.doc.resolveNoCache(y.start-d.from),A=d.doc.resolveNoCache(y.endB-d.from),C=w.sameParent(A)&&w.parent.inlineContent;if((qt.ios&&e.lastIOSEnter>Date.now()-225&&(!C||r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!C&&w.pos<d.doc.content.size&&(x=At.findFrom(d.doc.resolve(w.pos+1),1,!0))&&x.head==A.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,cn(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,i,r){if(!i.parent.isTextblock||n-t<=r.pos-i.pos||Si(i,!0,!1)<r.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=e.resolve(Si(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Si(s,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(s.parent.content)}(g,y.start,y.endA,w,A)&&e.someProp("handleKeyDown",(function(t){return t(e,cn(8,"Backspace"))})))qt.android&&qt.chrome&&e.domObserver.suppressSelectionUpdates();else{qt.chrome&&qt.android&&y.toB==y.from&&(e.lastAndroidDelete=Date.now()),qt.android&&!C&&w.start()!=A.start()&&0==A.parentOffset&&w.depth==A.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==y.endA&&(y.endB-=2,A=d.doc.resolveNoCache(y.endB-d.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,cn(13,"Enter"))}))}),20));var k,S,P,E,_=y.start,T=y.endA;if(C)if(w.pos==A.pos)qt.ie&&qt.ie_version<=11&&0==w.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ni(e)}),20)),k=e.state.tr.delete(_,T),S=g.resolve(y.start).marksAcross(g.resolve(y.endA));else if(y.endA==y.endB&&(E=g.resolve(y.start))&&(P=function(e,t){for(var n,i,r,o=e.firstChild.marks,s=t.firstChild.marks,a=o,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var h=0;h<o.length;h++)l=o[h].removeFromSet(l);if(1==a.length&&0==l.length)i=a[0],n="add",r=function(e){return e.mark(i.addToSet(e.marks))};else{if(0!=a.length||1!=l.length)return null;i=l[0],n="remove",r=function(e){return e.mark(i.removeFromSet(e.marks))}}for(var d=[],u=0;u<t.childCount;u++)d.push(r(t.child(u)));if(I.from(d).eq(e))return{mark:i,type:n}}(w.parent.content.cut(w.parentOffset,A.parentOffset),E.parent.content.cut(E.parentOffset,y.endA-E.start()))))k=e.state.tr,"add"==P.type?k.addMark(_,T,P.mark):k.removeMark(_,T,P.mark);else if(w.parent.child(w.index()).isText&&w.index()==A.index()-(A.textOffset?0:1)){var $=w.parent.textBetween(w.parentOffset,A.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,_,T,$)})))return;k=e.state.tr.insertText($,_,T)}if(k||(k=e.state.tr.replace(_,T,d.doc.slice(y.start-d.from,y.endB-d.from))),d.sel){var M=ki(e,k.doc,d.sel);M&&!(qt.chrome&&qt.android&&e.composing&&M.empty&&(y.start!=y.endB||e.lastAndroidDelete<Date.now()-100)&&(M.head==_||M.head==k.mapping.map(T)-1)||qt.ie&&M.empty&&M.head==_)&&k.setSelection(M)}S&&k.ensureMarks(S),e.dispatch(k.scrollIntoView())}}}(e,t,n,i,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=ji[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Vi(e,t)||!e.editable&&t.type in zi||n(e,t)})};for(var n in ji)t(n);qt.safari&&e.dom.addEventListener("input",(function(){return null})),Hi(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Tr={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function $r(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var i in n)"class"==i&&(t.class+=" "+n[i]),"style"==i?t.style=(t.style?t.style+";":"")+n[i]:t[i]||"contenteditable"==i||"nodeName"==i||(t[i]=String(n[i]))})),[fr.node(0,e.state.doc.content.size,t)]}function Mr(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:fr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Or(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Dr(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Lr(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Tr.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},_r.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hi(this),this._props=e,e.plugins&&(e.plugins.forEach(Lr),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},_r.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var i in t.state=this.state,e)t[i]=e[i];this.update(t)},_r.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},_r.prototype.updateStateInner=function(e,t){var n=this,i=this.state,r=!1,o=!1;if(e.storedMarks&&this.composing&&(ir(this),o=!0),this.state=e,t){var s=Dr(this);(function(e,t){var n=0,i=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var o in t)i++;return n!=i})(s,this.nodeViews)&&(this.nodeViews=s,r=!0),Hi(this)}this.editable=Or(this),Mr(this);var a=Er(this),l=$r(this),c=t?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=r||!this.docView.matchesNode(e.doc,l,a);!h&&e.selection.eq(i.selection)||(o=!0);var d,u,p,f,m,g,v,y,b,x,w="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,i=e.dom.getBoundingClientRect(),r=Math.max(0,i.top),o=(i.left+i.right)/2,s=r+1;s<Math.min(innerHeight,i.bottom);s+=5){var a=e.root.elementFromPoint(o,s);if(a!=e.dom&&e.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=r-20){t=a,n=l.top;break}}}return{refDOM:t,refTop:n,stack:fn(e.dom)}}(this);if(o){this.domObserver.stop();var A=h&&(qt.ie||qt.chrome)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&(f=i.selection,m=e.selection,g=Math.min(f.$anchor.sharedDepth(f.head),m.$anchor.sharedDepth(m.head)),f.$anchor.start(g)!=m.$anchor.start(g));if(h){var C=qt.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!r&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Rn(e.doc,l,a,this.dom,this)),C&&!this.trackWrites&&(A=!0)}A||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(d=this,u=d.docView.domFromPos(d.state.selection.anchor,0),p=d.root.getSelection(),nn(u.node,u.offset,p.anchorNode,p.anchorOffset)))?ni(this,A):(ai(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var k=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof It?pn(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),k):pn(this,this.coordsAtPos(e.selection.head,1),k))}else w&&(y=(v=w).refDOM,b=v.refTop,mn(v.stack,0==(x=y?y.getBoundingClientRect().top:0)?0:x-b))},_r.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},_r.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var i=0;i<this.directPlugins.length;i++){var r=this.directPlugins[i];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},_r.prototype.someProp=function(e,t){var n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var l=s[a].props[e];if(null!=l&&(n=t?t(l):l))return n}},_r.prototype.hasFocus=function(){return this.root.activeElement==this.dom},_r.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(gn)return e.focus(gn);var t=fn(e);e.focus(null==gn?{get preventScroll(){return gn={preventScroll:!0},!0}}:void 0),gn||(gn=!1,mn(t,0))}(this.dom),ni(this),this.domObserver.start()},Tr.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},_r.prototype.posAtCoords=function(e){return xn(this,e)},_r.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),Cn(this,e,t)},_r.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},_r.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},_r.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},_r.prototype.endOfTextblock=function(e,t){return function(e,t,n){return En==t&&_n==n?Tn:(En=t,_n=n,Tn="up"==n||"down"==n?function(e,t,n){var i=t.selection,r="up"==n?i.$from:i.$to;return Pn(e,t,(function(){for(var t=e.docView.domFromPos(r.pos,"up"==n?-1:1).node;;){var i=e.docView.nearestDesc(t,!0);if(!i)break;if(i.node.isBlock){t=i.dom;break}t=i.dom.parentNode}for(var o=Cn(e,r.pos,1),s=t.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=tn(s,0,s.nodeValue.length).getClientRects()}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top+1&&("up"==n?o.top-c.top>2*(c.bottom-o.top):c.bottom-o.bottom>2*(o.bottom-c.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var i=t.selection.$head;if(!i.parent.isTextblock)return!1;var r=i.parentOffset,o=!r,s=r==i.parent.content.size,a=e.root.getSelection();return In.test(i.parent.textContent)&&a.modify?Pn(e,t,(function(){var t=a.getRangeAt(0),r=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var l=!(i.depth?e.docView.domAfterPos(i.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?o:s}(e,t,n))}(this,t||this.state,e)},_r.prototype.destroy=function(){this.docView&&(function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Er(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Tr.isDestroyed.get=function(){return null==this.docView},_r.prototype.dispatchEvent=function(e){return function(e,t){Vi(e,t)||!ji[t.type]||!e.editable&&t.type in zi||ji[t.type](e,t)}(this,e)},_r.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(_r.prototype,Tr);var Nr=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var i=function(e){return n[t](e)};return e.dom.addEventListener(t,i),{name:t,handler:i}}))};Nr.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,i=t.handler;return e.editorView.dom.removeEventListener(n,i)}))},Nr.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())},Nr.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},Nr.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,i=t.nodeAfter;if(n||i){var r=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),o=n?r.bottom:r.top;n&&i&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:r.left,right:r.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!e){var s=this.editorView.coordsAtPos(this.cursorPos);e={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{var h=c.getBoundingClientRect();a=h.left-c.scrollLeft,l=h.top-c.scrollTop}this.element.style.left=e.left-a+"px",this.element.style.top=e.top-l+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},Nr.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},Nr.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=n&&n.type.spec.disableDropCursor,r="function"==typeof i?i(this.editorView,t):i;if(t&&!r){var o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(o=at(this.editorView.state.doc,o,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(o),this.scheduleRemoval(5e3)}}},Nr.prototype.dragend=function(){this.scheduleRemoval(20)},Nr.prototype.drop=function(){this.scheduleRemoval(20)},Nr.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};for(var Br={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Rr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Zr="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Fr="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),jr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),zr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Ur="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Hr=Zr&&(zr||+Zr[1]<57)||jr&&zr,Vr=0;Vr<10;Vr++)Br[48+Vr]=Br[96+Vr]=String(Vr);for(Vr=1;Vr<=24;Vr++)Br[Vr+111]="F"+Vr;for(Vr=65;Vr<=90;Vr++)Br[Vr]=String.fromCharCode(Vr+32),Rr[Vr]=String.fromCharCode(Vr);for(var qr in Br)Rr.hasOwnProperty(qr)||(Rr[qr]=Br[qr]);var Wr="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Gr(e){var t,n,i,r,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);Wr?r=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),r&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function Jr(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Kr(e){return new zt({props:{handleKeyDown:Qr(e)}})}function Qr(e){var t=function(e){var t=Object.create(null);for(var n in e)t[Gr(n)]=e[n];return t}(e);return function(e,n){var i,r=function(e){var t=!(Hr&&(e.ctrlKey||e.altKey||e.metaKey)||(Fr||Ur)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Rr:Br)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=1==r.length&&" "!=r,s=t[Jr(r,n,!o)];if(s&&s(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(i=Br[n.keyCode])&&i!=r){var a=t[Jr(i,n,!0)];if(a&&a(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){var l=t[Jr(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}var Yr=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));return t.valid(r)?new t(r):e.near(r)},t.prototype.content=function(){return D.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new Xr(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var i=e.node(t).child(n-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),i=e.node(t);if(n!=i.childCount)for(var r=i.child(n);;r=r.firstChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock},t.findFrom=function(e,n,i){e:for(;;){if(!i&&t.valid(e))return e;for(var r=e.pos,o=null,s=e.depth;;s--){var a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}if(0==s)return null;r+=n;var l=e.doc.resolve(r);if(t.valid(l))return l}for(;;){var c=n>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!It.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*n),i=!1;continue e}break}o=c,r+=n;var h=e.doc.resolve(r);if(t.valid(h))return h}return null}},t}(At);Yr.prototype.visible=!1,At.jsonID("gapcursor",Yr);var Xr=function(e){this.pos=e};Xr.prototype.map=function(e){return new Xr(e.map(this.pos))},Xr.prototype.resolve=function(e){var t=e.resolve(this.pos);return Yr.valid(t)?new Yr(t):At.near(t)};var eo=Qr({ArrowLeft:to("horiz",-1),ArrowRight:to("horiz",1),ArrowUp:to("vert",-1),ArrowDown:to("vert",1)});function to(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,i,r){var o=e.selection,s=t>0?o.$to:o.$from,a=o.empty;if(o instanceof St){if(!r.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}var l=Yr.findFrom(s,t,a);return!!l&&(i&&i(e.tr.setSelection(new Yr(l))),!0)}}function no(e,t,n){if(!e.editable)return!1;var i=e.state.doc.resolve(t);if(!Yr.valid(i))return!1;var r=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(r>-1&&It.isSelectable(e.state.doc.nodeAt(r))||(e.dispatch(e.state.tr.setSelection(new Yr(i))),0))}function io(e){if(!(e.selection instanceof Yr))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",yr.create(e.doc,[fr.widget(e.selection.head,t,{key:"gapcursor"})])}function ro(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function oo(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function so(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function ao(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function lo(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function co(e,t){var n=e.selection,i=n.$head,r=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(r))return!1;var o=i.node(-1),s=i.indexAfter(-1),a=lo(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(t){var l=i.after(),c=e.tr.replaceWith(l,l,a.createAndFill());c.setSelection(At.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0}function ho(e,t,n){var i,r,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){var i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!(!(i&&r&&i.type.compatibleContent(r.type))||(!i.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!r.isTextblock&&!st(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,i.type,i.contentMatchAt(i.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(i=(r=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&r.matchType(i[0]||s.type).validEnd){if(n){for(var l=t.pos+s.nodeSize,c=I.empty,h=i.length-1;h>=0;h--)c=I.from(i[h].create(null,c));c=I.from(o.copy(c));var d=e.tr.step(new Xe(t.pos-1,l,t.pos,l,new D(c,1,0),i.length,!0)),u=l+2*i.length;st(d.doc,u)&&d.join(u),n(d.scrollIntoView())}return!0}var p=At.findFrom(t,1),f=p&&p.$from.blockRange(p.$to),m=f&&nt(f);if(null!=m&&m>=t.depth)return n&&n(e.tr.lift(f,m).scrollIntoView()),!0;if(a&&oo(s,"start",!0)&&oo(o,"end")){for(var g=o,v=[];v.push(g),!g.isTextblock;)g=g.lastChild;for(var y=s,b=1;!y.isTextblock;y=y.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,y.content)){if(n){for(var x=I.empty,w=v.length-1;w>=0;w--)x=I.from(v[w].copy(x));n(e.tr.step(new Xe(t.pos-v.length,t.pos+s.nodeSize,t.pos+b,t.pos+s.nodeSize-b,new D(x,v.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function uo(e,t){return function(n,i){var r=n.selection,o=r.from,s=r.to,a=!1;return n.doc.nodesBetween(o,s,(function(i,r){if(a)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)a=!0;else{var o=n.doc.resolve(r),s=o.index();a=o.parent.canReplaceWith(s,s+1,e)}})),!!a&&(i&&i(n.tr.setBlockType(o,s,e,t).scrollIntoView()),!0)}}function po(e,t){return function(n,i){var r=n.selection,o=r.empty,s=r.$cursor,a=r.ranges;if(o&&!s||!function(e,t,n){for(var i=function(i){var r=t[i],o=r.$from,s=r.$to,a=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},r=0;r<t.length;r++){var o=i(r);if(o)return o.v}return!1}(n.doc,a,e))return!1;if(i)if(s)e.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,h=0;!l&&h<a.length;h++){var d=a[h],u=d.$from,p=d.$to;l=n.doc.rangeHasMark(u.pos,p.pos,e)}for(var f=0;f<a.length;f++){var m=a[f],g=m.$from,v=m.$to;if(l)c.removeMark(g.pos,v.pos,e);else{var y=g.pos,b=v.pos,x=g.nodeAfter,w=v.nodeBefore,A=x&&x.isText?/^\s*/.exec(x.text)[0].length:0,C=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;y+A<b&&(y+=A,b-=C),c.addMark(y,b,e.create(t))}}i(c.scrollIntoView())}return!0}}function fo(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,i){for(var r=0;r<e.length;r++)if(e[r](t,n,i))return!0;return!1}}var mo=fo(ro,(function(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("backward",e):i.parentOffset>0))return!1;var r=so(i);if(!r){var o=i.blockRange(),s=o&&nt(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}var a=r.nodeBefore;if(!a.type.spec.isolating&&ho(e,r,t))return!0;if(0==i.parent.content.size&&(oo(a,"end")||It.isSelectable(a))){if(t){var l=e.tr.deleteRange(i.before(),i.after());l.setSelection(oo(a,"end")?At.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):It.create(l.doc,r.pos-a.nodeSize)),t(l.scrollIntoView())}return!0}return!(!a.isAtom||r.depth!=i.depth-1||(t&&t(e.tr.delete(r.pos-a.nodeSize,r.pos).scrollIntoView()),0))}),(function(e,t,n){var i=e.selection,r=i.$head,o=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=so(r)}var s=o&&o.nodeBefore;return!(!s||!It.isSelectable(s)||(t&&t(e.tr.setSelection(It.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),0))})),go=fo(ro,(function(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var r=ao(i);if(!r)return!1;var o=r.nodeAfter;if(ho(e,r,t))return!0;if(0==i.parent.content.size&&(oo(o,"start")||It.isSelectable(o))){if(t){var s=e.tr.deleteRange(i.before(),i.after());s.setSelection(oo(o,"start")?At.findFrom(s.doc.resolve(s.mapping.map(r.pos)),1):It.create(s.doc,s.mapping.map(r.pos))),t(s.scrollIntoView())}return!0}return!(!o.isAtom||r.depth!=i.depth-1||(t&&t(e.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),0))}),(function(e,t,n){var i=e.selection,r=i.$head,o=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=ao(r)}var s=o&&o.nodeAfter;return!(!s||!It.isSelectable(s)||(t&&t(e.tr.setSelection(It.create(e.doc,o.pos)).scrollIntoView()),0))})),vo={Enter:fo((function(e,t){var n=e.selection,i=n.$head,r=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))}),(function(e,t){var n=e.selection,i=n.$from,r=n.$to;if(n instanceof _t||i.parent.inlineContent||r.parent.inlineContent)return!1;var o=lo(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(St.create(a.doc,s+1)),t(a.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(ot(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}var r=n.blockRange(),o=r&&nt(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)}),(function(e,t){var n=e.selection,i=n.$from,r=n.$to;if(e.selection instanceof It&&e.selection.node.isBlock)return!(!i.parentOffset||!ot(e.doc,i.pos)||(t&&t(e.tr.split(i.pos).scrollIntoView()),0));if(!i.parent.isBlock)return!1;if(t){var o=r.parentOffset==r.parent.content.size,s=e.tr;(e.selection instanceof St||e.selection instanceof _t)&&s.deleteSelection();var a=0==i.depth?null:lo(i.node(-1).contentMatchAt(i.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=ot(s.doc,s.mapping.map(i.pos),1,l);if(l||c||!ot(s.doc,s.mapping.map(i.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(i.pos),1,l),!o&&!i.parentOffset&&i.parent.type!=a)){var h=s.mapping.map(i.before()),d=s.doc.resolve(h);i.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&s.setNodeMarkup(s.mapping.map(i.before()),a)}t(s.scrollIntoView())}return!0})),"Mod-Enter":co,Backspace:mo,"Mod-Backspace":mo,"Shift-Backspace":mo,Delete:go,"Mod-Delete":go,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new _t(e.doc))),!0}},yo={"Ctrl-h":vo.Backspace,"Alt-Backspace":vo["Mod-Backspace"],"Ctrl-d":vo.Delete,"Ctrl-Alt-Backspace":vo["Mod-Delete"],"Alt-Delete":vo["Mod-Delete"],"Alt-d":vo["Mod-Delete"]};for(var bo in vo)yo[bo]=vo[bo];var xo=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?yo:vo,wo=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,i,r){var o=n;if(t[1]){var s=t[0].lastIndexOf(t[1]);o+=t[0].slice(s+t[1].length);var a=(i+=s)-r;a>0&&(o=t[0].slice(s-a,s)+o,i=r)}return e.tr.insertText(o,i,r)}):t};function Ao(e,t,n,i,r,o){if(e.composing)return!1;var s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"￼")+i,c=0;c<r.length;c++){var h=r[c].match.exec(l),d=h&&r[c].handler(s,h,t-(h[0].length-i.length),n);if(d)return e.dispatch(d.setMeta(o,{transform:d,from:t,to:n,text:i})),!0}return!1}function Co(e,t){for(var n=e.plugins,i=0;i<n.length;i++){var r=n[i],o=void 0;if(r.spec.isInputRules&&(o=r.getState(e))){if(t){for(var s=e.tr,a=o.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){var c=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,c))}else s.delete(o.from,o.to);t(s)}return!0}}return!1}function ko(e,t,n,i){return new wo(e,(function(e,r,o,s){var a=n instanceof Function?n(r):n,l=e.tr.delete(o,s),c=l.doc.resolve(o).blockRange(),h=c&&it(c,t,a);if(!h)return null;l.wrap(c,h);var d=l.doc.resolve(o-1).nodeBefore;return d&&d.type==t&&st(l.doc,o-1)&&(!i||i(r,d))&&l.join(o-1),l}))}function So(e,t,n){return new wo(e,(function(e,i,r,o){var s=e.doc.resolve(r),a=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(r,o).setBlockType(r,r,t,a):null}))}function Po(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}(t.$from,e)}function Io(e,t){const{from:n,to:i}=e.selection;let r=[];e.doc.nodesBetween(n,i,(e=>{r=[...r,...e.marks]}));const o=r.find((e=>e.type.name===t.name));return o?o.attrs:{}}function Eo(e=null,t=null){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const i=n.node.marks.find((e=>e.type===t));if(!i)return!1;let r=e.index(),o=e.start()+n.offset,s=r+1,a=o+n.node.nodeSize;for(;r>0&&i.isInSet(e.parent.child(r-1).marks);)r-=1,o-=e.parent.child(r).nodeSize;for(;s<e.parent.childCount&&i.isInSet(e.parent.child(s).marks);)a+=e.parent.child(s).nodeSize,s+=1;return{from:o,to:a}}function _o(e,t){const{from:n,to:i}=e.selection;let r=[];e.doc.nodesBetween(n,i,(e=>{r=[...r,e]}));const o=r.reverse().find((e=>e.type.name===t.name));return o?o.attrs:{}}function To(e,t,n={}){const i=(r=t,function(e){if(function(e){return e instanceof It}(e)){const{node:t}=e,{$from:n}=e;if(function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}(r,t))return{node:t,pos:n.pos,depth:n.depth}}})(e.selection)||Po((e=>e.type===t))(e.selection);var r;return Object.keys(n).length&&i?i.node.hasMarkup(t,{...i.node.attrs,...n}):!!i}new wo(/--$/,"—"),new wo(/\.\.\.$/,"…"),new wo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new wo(/"$/,"”"),new wo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new wo(/'$/,"’");var $o=n(2934),Mo=n.n($o);function Oo(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,s=r.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));return!!s&&(!n||(r.node(s.depth-1).type==e?function(e,t,n,i){var r=e.tr,o=i.end,s=i.$to.end(i.depth);return o<s&&(r.step(new Xe(o-1,s,o,s,new D(I.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Y(r.doc.resolve(i.$from.pos),r.doc.resolve(s),i.depth)),t(r.lift(i,nt(i)).scrollIntoView()),!0}(t,n,e,s):function(e,t,n){for(var i=e.tr,r=n.parent,o=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)o-=r.child(s).nodeSize,i.delete(o-1,o+1);var l=i.doc.resolve(n.start),c=l.nodeAfter;if(i.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;var h=0==n.startIndex,d=n.endIndex==r.childCount,u=l.node(-1),p=l.index(-1);if(!u.canReplace(p+(h?0:1),p+1,c.content.append(d?I.empty:I.from(r))))return!1;var f=l.pos,m=f+c.nodeSize;return i.step(new Xe(f-(h?1:0),m+(d?1:0),f+1,m-1,new D((h?I.empty:I.from(r.copy(I.empty))).append(d?I.empty:I.from(r.copy(I.empty))),h?0:1,d?0:1),h?0:1)),t(i.scrollIntoView()),!0}(t,n,s)))}}function Do(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,s=r.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));if(!s)return!1;var a=s.startIndex;if(0==a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=e)return!1;if(n){var h=c.lastChild&&c.lastChild.type==l.type,d=I.from(h?e.create():null),u=new D(I.from(e.create(null,I.from(l.type.create(null,d)))),h?3:1,0),p=s.start,f=s.end;n(t.tr.step(new Xe(p-(h?3:1),f,p,f,u,1,!0)).scrollIntoView())}return!0}}function Lo(e,t,n){return new wo(e,((e,i,r,o)=>{const s=n instanceof Function?n(i):n,{tr:a}=e,l=i.length-1;let c=o,h=r;if(i[l]){const n=r+i[0].indexOf(i[l-1]),s=n+i[l-1].length-1,d=n+i[l-1].lastIndexOf(i[l]),u=d+i[l].length,p=function(e,t,n){let i=[];return n.doc.nodesBetween(e,t,((e,t)=>{i=[...i,...e.marks.map((n=>({start:t,end:t+e.nodeSize,mark:n})))]})),i}(r,o,e).filter((e=>{const{excluded:n}=e.mark.type;return n.find((e=>e.name===t.name))})).filter((e=>e.end>n));if(p.length)return!1;u<s&&a.delete(u,s),d>n&&a.delete(n,d),h=n,c=h+i[l].length}return a.addMark(h,c,t.create(s)),a.removeStoredMark(t),a}))}function No(e,t,n){const i=r=>{const o=[];return r.forEach((r=>{if(r.isText){const{text:i}=r;let s,a=0;do{if(s=e.exec(i),s){const e=s.index,i=e+s[0].length,l=n instanceof Function?n(s[0]):n;e>0&&o.push(r.cut(a,e)),o.push(r.cut(e,i).mark(t.create(l).addToSet(r.marks))),a=i}}while(s);a<i.length&&o.push(r.cut(a))}else o.push(r.copy(i(r.content)))})),I.fromArray(o)};return new zt({props:{transformPasted:e=>new D(i(e.content),e.openStart,e.openEnd)}})}function Bo(e,t,n){const i=(r,o)=>{const s=[];return r.forEach((r=>{if(r.isText){const{text:i,marks:a}=r;let l,c=0;const h=!!a.filter((e=>"link"===e.type.name))[0];for(;!h&&null!==(l=e.exec(i));)if(o&&o.type.allowsMarkType(t)&&l[1]){const e=l.index,i=e+l[0].length,o=e+l[0].indexOf(l[1]),a=o+l[1].length,h=n instanceof Function?n(l):n;e>0&&s.push(r.cut(c,e)),s.push(r.cut(o,a).mark(t.create(h).addToSet(r.marks))),c=i}c<i.length&&s.push(r.cut(c))}else s.push(r.copy(i(r.content,r)))})),I.fromArray(s)};return new zt({props:{transformPasted:e=>new D(i(e.content),e.openStart,e.openEnd)}})}function Ro(e,t,n={}){return(i,r,o)=>To(i,e,n)?uo(t)(i,r,o):uo(e,n)(i,r,o)}function Zo(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}function Fo(e,t){return(n,i,r)=>{const{schema:o,selection:s}=n,{$from:a,$to:l}=s,c=a.blockRange(l);if(!c)return!1;const h=Po((e=>Zo(e,o)))(s);if(c.depth>=1&&h&&c.depth-h.depth<=1){if(h.node.type===e)return Oo(t)(n,i,r);if(Zo(h.node,o)&&e.validContent(h.node.content)){const{tr:t}=n;return t.setNodeMarkup(h.pos,e),i&&i(t),!1}}return function(e,t){return function(n,i){var r=n.selection,o=r.$from,s=r.$to,a=o.blockRange(s),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(e)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;var h=n.doc.resolve(a.start-2);c=new Y(h,h,a.depth),a.endIndex<a.parent.childCount&&(a=new Y(o,n.doc.resolve(s.end(a.depth)),a.depth)),l=!0}var d=it(c,e,t,a);return!!d&&(i&&i(function(e,t,n,i,r){for(var o=I.empty,s=n.length-1;s>=0;s--)o=I.from(n[s].type.create(n[s].attrs,o));e.step(new Xe(t.start-(i?2:0),t.end,t.start,t.end,new D(o,0,0),n.length,!0));for(var a=0,l=0;l<n.length;l++)n[l].type==r&&(a=l+1);for(var c=n.length-a,h=t.start+n.length-(i?2:0),d=t.parent,u=t.startIndex,p=t.endIndex,f=!0;u<p;u++,f=!1)!f&&ot(e.doc,h,c)&&(e.split(h,c),h+=2*c),h+=d.child(u).nodeSize;return e}(n.tr,a,d,l,e).scrollIntoView()),!0)}}(e)(n,i,r)}}function jo(e,t={}){return(n,i,r)=>To(n,e,t)?function(e,t){var n=e.selection,i=n.$from,r=n.$to,o=i.blockRange(r),s=o&&nt(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}(n,i):function(e,t){return function(n,i){var r=n.selection,o=r.$from,s=r.$to,a=o.blockRange(s),l=a&&it(a,e,t);return!!l&&(i&&i(n.tr.wrap(a,l).scrollIntoView()),!0)}}(e,t)(n,i,r)}class zo{constructor(e,{editor:t,extension:n,parent:i,node:r,view:o,decorations:s,getPos:a}){this.component=e,this.editor=t,this.extension=n,this.parent=i,this.node=r,this.view=o,this.decorations=s,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:a,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const e=Mo().extend(this.component),t={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:e=>this.updateAttrs(e)};return"function"==typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"==typeof this.extension.update&&(this.update=this.extension.update),this.vm=new e({parent:this.parent,propsData:t}).$mount(),this.vm.$el}update(e,t){return e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.updateComponentProps({node:e,decorations:t})),!0)}updateComponentProps(e){if(!this.vm._props)return;const t=Mo().config.silent;Mo().config.silent=!0,Object.entries(e).forEach((([e,t])=>{this.vm._props[e]=t})),Mo().config.silent=t}updateAttrs(e){if(!this.view.editable)return;const{state:t}=this.view,{type:n}=this.node,i=this.getPos(),r={...this.node.attrs,...e},o=this.isMark?t.tr.removeMark(i.from,i.to,n).addMark(i.from,i.to,n.create(r)):t.tr.setNodeMarkup(i,null,r);this.view.dispatch(o)}ignoreMutation(e){return!("selection"===e.type||this.contentDOM&&this.contentDOM.contains(e.target))}stopEvent(e){if("function"==typeof this.extension.stopEvent)return this.extension.stopEvent(e);const t=!!this.extension.schema.draggable;if(t&&"mousedown"===e.type){const t=e.target.closest&&e.target.closest("[data-drag-handle]");t&&(this.dom===t||this.dom.contains(t))&&(this.captureEvents=!1,document.addEventListener("dragend",(()=>{this.captureEvents=!0}),{once:!0}))}const n="copy"===e.type,i="paste"===e.type,r="cut"===e.type,o=e.type.startsWith("drag")||"drop"===e.type;return!(t&&o||n||i||r)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const e=this.view.posAtDOM(this.dom);return Eo(this.view.state.doc.resolve(e),this.node.type)}destroy(){this.vm.$destroy()}}class Uo{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};const n=this._callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){if(arguments.length){const n=this._callbacks?this._callbacks[e]:null;n&&(t?this._callbacks[e]=n.filter((e=>e!==t)):delete this._callbacks[e])}else this._callbacks={};return this}}class Ho{constructor(e={}){this.options={...this.defaultOptions,...e}}init(){return null}bindEditor(e=null){this.editor=e}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class Vo{constructor(e=[],t){e.forEach((e=>{e.bindEditor(t),e.init()})),this.extensions=e}get nodes(){return this.extensions.filter((e=>"node"===e.type)).reduce(((e,{name:t,schema:n})=>({...e,[t]:n})),{})}get options(){const{view:e}=this;return this.extensions.reduce(((t,n)=>({...t,[n.name]:new Proxy(n.options,{set(t,n,i){const r=t[n]!==i;return Object.assign(t,{[n]:i}),r&&e.updateState(e.state),!0}})})),{})}get marks(){return this.extensions.filter((e=>"mark"===e.type)).reduce(((e,{name:t,schema:n})=>({...e,[t]:n})),{})}get plugins(){return this.extensions.filter((e=>e.plugins)).reduce(((e,{plugins:t})=>[...e,...t]),[])}keymaps({schema:e}){return[...this.extensions.filter((e=>["extension"].includes(e.type))).filter((e=>e.keys)).map((t=>t.keys({schema:e}))),...this.extensions.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.keys)).map((t=>t.keys({type:e[`${t.type}s`][t.name],schema:e})))].map((e=>Kr(e)))}inputRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter((e=>!t.includes(e.name))):this.extensions;return[...n.filter((e=>["extension"].includes(e.type))).filter((e=>e.inputRules)).map((t=>t.inputRules({schema:e}))),...n.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.inputRules)).map((t=>t.inputRules({type:e[`${t.type}s`][t.name],schema:e})))].reduce(((e,t)=>[...e,...t]),[])}pasteRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter((e=>!t.includes(e.name))):this.extensions;return[...n.filter((e=>["extension"].includes(e.type))).filter((e=>e.pasteRules)).map((t=>t.pasteRules({schema:e}))),...n.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.pasteRules)).map((t=>t.pasteRules({type:e[`${t.type}s`][t.name],schema:e})))].reduce(((e,t)=>[...e,...t]),[])}commands({schema:e,view:t}){return this.extensions.filter((e=>e.commands)).reduce(((n,i)=>{const{name:r,type:o}=i,s={},a=i.commands({schema:e,...["node","mark"].includes(o)?{type:e[`${o}s`][r]}:{}}),l=(e,n)=>!!t.editable&&(t.focus(),e(n)(t.state,t.dispatch,t)),c=(e,t)=>{Array.isArray(t)?s[e]=e=>t.forEach((t=>l(t,e))):"function"==typeof t&&(s[e]=e=>l(t,e))};return"object"==typeof a?Object.entries(a).forEach((([e,t])=>{c(e,t)})):c(r,a),{...n,...s}}),{})}}class qo extends Ho{constructor(e={}){super(e)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function Wo(e=0,t=0,n=0){return Math.min(Math.max(parseInt(e,10),t),n)}class Go extends Ho{constructor(e={}){super(e)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class Jo extends Go{get name(){return"doc"}get schema(){return{content:"block+"}}}class Ko extends Go{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:e}){return()=>uo(e)}}class Qo extends Go{get name(){return"text"}get schema(){return{group:"inline"}}}class Yo extends Uo{constructor(e={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(e)}init(e={}){this.setOptions({...this.defaultOptions,...e}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&function(e){{const e=document.createElement("style");e.type="text/css",e.textContent='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n';const{head:t}=document,{firstChild:n}=t;n?t.insertBefore(e,n):t.appendChild(e)}}(),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach((e=>{var t;this.on(e,this.options[(t=`on ${e}`,t.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>0===t?e.toLowerCase():e.toUpperCase())).replace(/\s+/g,""))]||(()=>{}))})),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(e){this.options={...this.options,...e},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new Jo,new Qo,new Ko]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new Vo([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new ke({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return Rt.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,(t={rules:this.inputRules},n=t.rules,i=new zt({state:{init:function(){return null},apply:function(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,t,r,o){return Ao(e,t,r,o,n,i)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var t=e.state.selection.$cursor;t&&Ao(e,t.pos,t.pos,"",n,i)}))}}},isInputRules:!0}),i),...this.pasteRules,...this.keymaps,Kr({Backspace:Co}),Kr(xo),...this.options.enableDropCursor?[(e=this.options.dropCursor,void 0===e&&(e={}),new zt({view:function(t){return new Nr(t,e)}}))]:[],...this.options.enableGapCursor?[new zt({props:{decorations:io,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&Yr.valid(n))return new Yr(n)},handleClick:no,handleKeyDown:eo}})]:[],new zt({key:new Vt("editable"),props:{editable:()=>this.options.editable}}),new zt({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(e,t)=>{this.focused=!0,this.emit("focus",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(e,t)=>{this.focused=!1,this.emit("blur",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new zt({props:this.options.editorProps})]});var e,t,n,i}createDocument(e,t=this.options.parseOptions){if(null===e)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"==typeof e)try{return this.schema.nodeFromJSON(e)}catch(t){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",t),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"==typeof e){const n=`<div>${e}</div>`,i=(new window.DOMParser).parseFromString(n,"text/html").body.firstElementChild;return Pe.fromSchema(this.schema).parse(i,t)}return!1}createView(){return new _r(this.element,{state:this.createState(),handlePaste:(...e)=>{this.emit("paste",...e)},handleDrop:(...e)=>{this.emit("drop",...e)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(e=null){e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:e,extensions:t}){return t.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.view)).reduce(((t,n)=>({...t,[n.name]:(t,i,r,o)=>{const s=n.view;return new zo(s,{editor:this,extension:n,parent:e,node:t,view:i,getPos:r,decorations:o})}})),{})}dispatchTransaction(e){const t=this.state.apply(e);this.view.updateState(t),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emitUpdate(e)}emitUpdate(e){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}resolveSelection(e=null){if(this.selection&&null===e)return this.selection;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{doc:e}=this.state;return{from:e.content.size,to:e.content.size}}return{from:e,to:e}}focus(e=null){if(this.view.focused&&null===e||!1===e)return;const{from:t,to:n}=this.resolveSelection(e);this.setSelection(t,n),setTimeout((()=>this.view.focus()),10)}setSelection(e=0,t=0){const{doc:n,tr:i}=this.state,r=Wo(e,0,n.content.size),o=Wo(t,0,n.content.size),s=St.create(n,r,o),a=i.setSelection(s);this.view.dispatch(a)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const e=document.createElement("div"),t=Be.fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(t),e.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(e={},t=!1,n){const{doc:i,tr:r}=this.state,o=this.createDocument(e,n),s=St.create(i,0,i.content.size),a=r.setSelection(s).replaceSelectionWith(o,!1).setMeta("preventUpdate",!t);this.view.dispatch(a)}clearContent(e=!1){this.setContent(this.options.emptyDocument,e)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce(((e,[t,n])=>({...e,[t]:(e={})=>function(e,t){const{from:n,$from:i,to:r,empty:o}=e.selection;return o?!!t.isInSet(e.storedMarks||i.marks()):!!e.doc.rangeHasMark(n,r,t)}(this.state,n)})),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce(((e,[t,n])=>({...e,[t]:Io(this.state,n)})),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce(((e,[t,n])=>({...e,[t]:(e={})=>To(this.state,n,e)})),{})}getMarkAttrs(e=null){return this.activeMarkAttrs[e]}getNodeAttrs(e=null){return{..._o(this.state,this.schema.nodes[e])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce(((e,[t,n])=>({...e,[t]:(e={})=>n(e)})),{})}registerPlugin(e=null,t){const n="function"==typeof t?t(e,this.state.plugins):[e,...this.state.plugins],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(e=null){if(!e||!this.view.docView)return;const t=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(`${e}$`)))});this.view.updateState(t)}destroy(){this.view&&this.view.destroy()}}var Xo={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.element&&this.$nextTick((()=>{this.$el.appendChild(e.element.firstChild),e.setParentComponent(this)}))}}},render:e=>e("div"),beforeDestroy(){this.editor.element=this.$el}};class es{constructor({options:e}){this.options=e,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}var ts,ns,is={props:{editor:{default:null,type:Object}},data:()=>({focused:!1}),watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick((()=>{var t;e.registerPlugin((t={editor:e,element:this.$el},new zt({key:new Vt("menu_bar"),view:e=>new es({editorView:e,options:t})}))),this.focused=e.focused,e.on("focus",(()=>{this.focused=!0})),e.on("menubar:focusUpdate",(e=>{this.focused=e}))}))}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};if(Boolean,n(6470),"undefined"!=typeof WeakMap){var rs=new WeakMap;ts=function(e){return rs.get(e)},ns=function(e,t){return rs.set(e,t),t}}else{var ss=[],as=0;ts=function(e){for(var t=0;t<ss.length;t+=2)if(ss[t]==e)return ss[t+1]},ns=function(e,t){return 10==as&&(as=0),ss[as++]=e,ss[as++]=t}}var ls=function(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i},cs=function(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i};function hs(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function ds(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var i=e.nodes[n],r=i.spec.tableRole;r&&(t[r]=i)}return t}function us(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function ps(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function fs(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function ms(e,t,n){var i=e.start(-1),r=cs.get(e.node(-1)).nextCell(e.pos-i,t,n);return null==r?null:e.node(0).resolve(i+r)}function gs(e,t,n){var i={};for(var r in e)i[r]=e[r];return i[t]=n,i}function vs(e,t,n){void 0===n&&(n=1);var i=gs(e,"colspan",e.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some((function(e){return e>0}))||(i.colwidth=null)),i}cs.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var i=t%this.width,r=t/this.width|0,o=i+1,s=r+1,a=1;o<this.width&&this.map[t+a]==n;a++)o++;for(var l=1;s<this.height&&this.map[t+this.width*l]==n;l++)s++;return new ls(i,r,o,s)}}throw new RangeError("No cell with offset "+e+" found")},cs.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},cs.prototype.nextCell=function(e,t,n){var i=this.findCell(e),r=i.left,o=i.right,s=i.top,a=i.bottom;return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[s*this.width+(n<0?r-1:o)]:(n<0?0==s:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]},cs.prototype.rectBetween=function(e,t){var n=this.findCell(e),i=n.left,r=n.right,o=n.top,s=n.bottom,a=this.findCell(t),l=a.left,c=a.right,h=a.top,d=a.bottom;return new ls(Math.min(i,l),Math.min(o,h),Math.max(r,c),Math.max(s,d))},cs.prototype.cellsInRect=function(e){for(var t=[],n={},i=e.top;i<e.bottom;i++)for(var r=e.left;r<e.right;r++){var o=i*this.width+r,s=this.map[o];n[s]||(n[s]=!0,r==e.left&&r&&this.map[o-1]==s||i==e.top&&i&&this.map[o-this.width]==s||t.push(s))}return t},cs.prototype.positionAt=function(e,t,n){for(var i=0,r=0;;i++){var o=r+n.child(i).nodeSize;if(i==e){for(var s=t+e*this.width,a=(e+1)*this.width;s<a&&this.map[s]<r;)s++;return s==a?o-1:this.map[s]}r=o}},cs.get=function(e){return ts(e)||ns(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,i=0;i<e.childCount;i++){var r=e.child(i),o=0;if(n)for(var s=0;s<i;s++)for(var a=e.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>i&&(o+=c.attrs.colspan)}for(var h=0;h<r.childCount;h++){var d=r.child(h);o+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),n=e.childCount,i=[],r=0,o=null,s=[],a=0,l=t*n;a<l;a++)i[a]=0;for(var c=0,h=0;c<n;c++){var d=e.child(c);h++;for(var u=0;;u++){for(;r<i.length&&0!=i[r];)r++;if(u==d.childCount)break;for(var p=d.child(u),f=p.attrs,m=f.colspan,g=f.rowspan,v=f.colwidth,y=0;y<g;y++){if(y+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:h,n:g-y});break}for(var b=r+y*t,x=0;x<m;x++){0==i[b+x]?i[b+x]=h:(o||(o=[])).push({type:"collision",row:c,pos:h,n:m-x});var w=v&&v[x];if(w){var A=(b+x)%t*2,C=s[A];null==C||C!=w&&1==s[A+1]?(s[A]=w,s[A+1]=1):C==w&&s[A+1]++}}}r+=m,h+=p.nodeSize}for(var k=(c+1)*t,S=0;r<k;)0==i[r++]&&S++;S&&(o||(o=[])).push({type:"missing",row:c,n:S}),h++}for(var P=new cs(t,n,i,o),I=!1,E=0;!I&&E<s.length;E+=2)null!=s[E]&&s[E+1]<n&&(I=!0);return I&&function(e,t,n){e.problems||(e.problems=[]);for(var i=0,r={};i<e.map.length;i++){var o=e.map[i];if(!r[o]){r[o]=!0;for(var s=n.nodeAt(o),a=null,l=0;l<s.attrs.colspan;l++){var c=t[(i+l)%e.width*2];null==c||s.attrs.colwidth&&s.attrs.colwidth[l]==c||((a||(a=hs(s.attrs)))[l]=c)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}}(P,s,e),P}(e))},new Vt("selectingCells");var ys=function(e){function t(t,n){void 0===n&&(n=t);var i=t.node(-1),r=cs.get(i),o=t.start(-1),s=r.rectBetween(t.pos-o,n.pos-o),a=t.node(0),l=r.cellsInRect(s).filter((function(e){return e!=n.pos-o}));l.unshift(n.pos-o);var c=l.map((function(e){var t=i.nodeAt(e),n=e+o+1;return new kt(a.resolve(n),a.resolve(n+t.content.size))}));e.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var i=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(ps(i)&&ps(r)&&fs(i,r)){var o=this.$anchorCell.node(-1)!=i.node(-1);return o&&this.isRowSelection()?t.rowSelection(i,r):o&&this.isColSelection()?t.colSelection(i,r):new t(i,r)}return St.between(i,r)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=cs.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[],s=i.top;s<i.bottom;s++){for(var a=[],l=s*t.width+i.left,c=i.left;c<i.right;c++,l++){var h=t.map[l];if(!r[h]){r[h]=!0;var d=t.findCell(h),u=e.nodeAt(h),p=i.left-d.left,f=d.right-i.right;if(p>0||f>0){var m=u.attrs;p>0&&(m=vs(m,0,p)),f>0&&(m=vs(m,m.colspan-f,f)),u=d.left<i.left?u.type.createAndFill(m):u.type.create(m,u.content)}if(d.top<i.top||d.bottom>i.bottom){var g=gs(u.attrs,"rowspan",Math.min(d.bottom,i.bottom)-Math.max(d.top,i.top));u=d.top<i.top?u.type.createAndFill(g):u.type.create(g,u.content)}a.push(u)}}o.push(e.child(s).copy(I.from(a)))}var v=this.isColSelection()&&this.isRowSelection()?e:o;return new D(I.from(v),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=D.empty);for(var i=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var s=r[o],a=s.$from,l=s.$to,c=t.mapping.slice(i);t.replace(c.map(a.pos),c.map(l.pos),o?D.empty:n)}var h=e.findFrom(t.doc.resolve(t.mapping.slice(i).map(this.to)),-1);h&&t.setSelection(h)},t.prototype.replaceWith=function(e,t){this.replace(e,new D(I.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=cs.get(t),i=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),o=0;o<r.length;o++)e(t.nodeAt(r[o]),i+r[o])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var i=cs.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),s=i.findCell(n.pos-r),a=e.node(0);return o.top<=s.top?(o.top>0&&(e=a.resolve(r+i.map[o.left])),s.bottom<i.height&&(n=a.resolve(r+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(r+i.map[s.left])),o.bottom<i.height&&(e=a.resolve(r+i.map[i.width*(i.height-1)+o.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=cs.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),i=e.colCount(this.$headCell.pos-t);if(Math.min(n,i)>0)return!1;var r=n+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,o)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var i=cs.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),s=i.findCell(n.pos-r),a=e.node(0);return o.left<=s.left?(o.left>0&&(e=a.resolve(r+i.map[o.top*i.width])),s.right<i.width&&(n=a.resolve(r+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(r+i.map[s.top*i.width])),o.right<i.width&&(e=a.resolve(r+i.map[i.width*(o.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,i){return void 0===i&&(i=n),new t(e.resolve(n),e.resolve(i))},t.prototype.getBookmark=function(){return new bs(this.$anchorCell.pos,this.$headCell.pos)},t}(At);ys.prototype.visible=!1,At.jsonID("cell",ys);var bs=function(e,t){this.anchor=e,this.head=t};function xs(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function ws(e,t){return function(n,i,r){var o=n.selection;if(o instanceof ys)return xs(n,i,At.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;var s=ks(r,e,t);if(null==s)return!1;if("horiz"==e)return xs(n,i,At.near(n.doc.resolve(o.head+t),t));var a,l=n.doc.resolve(s),c=ms(l,e,t);return a=c?At.near(c,1):t<0?At.near(n.doc.resolve(l.before(-1)),-1):At.near(n.doc.resolve(l.after(-1)),1),xs(n,i,a)}}function As(e,t){return function(n,i,r){var o=n.selection;if(!(o instanceof ys)){var s=ks(r,e,t);if(null==s)return!1;o=new ys(n.doc.resolve(s))}var a=ms(o.$headCell,e,t);return!!a&&xs(n,i,new ys(o.$anchorCell,a))}}function Cs(e,t){var n=e.selection;if(!(n instanceof ys))return!1;if(t){var i=e.tr,r=ds(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(r)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new D(r,0,0))})),i.docChanged&&t(i)}return!0}function ks(e,t,n){if(!(e.state.selection instanceof St))return null;for(var i=e.state.selection.$head,r=i.depth-1;r>=0;r--){var o=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){var s=i.before(r),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?s:null}}return null}function Ss(e){var t,n=e.selection,i=function(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:function(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(var r=e.nodeBefore,o=e.pos;r;r=r.lastChild,o--){var s=r.type.spec.tableRole;if("cell"==s||"header_cell"==s)return e.doc.resolve(o-r.nodeSize)}}(t.$head)}(e),r=i.node(-1),o=i.start(-1),s=cs.get(r);return(t=n instanceof ys?s.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):s.findCell(i.pos-o)).tableStart=o,t.map=s,t.table=r,t}function Ps(e,t,n){for(var i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),r=0;r<i.length;r++){var o=t.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function Is(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!us(t))return!1;if(n){for(var i=ds(t.schema),r=Ss(t),o=t.tr,s=r.map.cellsInRect("column"==e?new ls(r.left,0,r.right,r.map.height):"row"==e?new ls(0,r.top,r.map.width,r.bottom):r),a=s.map((function(e){return r.table.nodeAt(e)})),l=0;l<s.length;l++)a[l].type==i.header_cell&&o.setNodeMarkup(r.tableStart+s[l],i.cell,a[l].attrs);if(0==o.steps.length)for(var c=0;c<s.length;c++)o.setNodeMarkup(r.tableStart+s[c],i.header_cell,a[c].attrs);n(o)}return!0}}(e):function(t,n){if(!us(t))return!1;if(n){var i=ds(t.schema),r=Ss(t),o=t.tr,s=Ps("row",r,i),a=Ps("column",r,i),l=("column"===e?s:"row"===e&&a)?1:0,c="column"==e?new ls(0,l,1,r.map.height):"row"==e?new ls(l,0,r.map.width,1):r,h="column"==e?a?i.cell:i.header_cell:"row"==e?s?i.cell:i.header_cell:i.cell;r.map.cellsInRect(c).forEach((function(e){var t=e+r.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,h,n.attrs)})),n(o)}return!0}}bs.prototype.map=function(e){return new bs(e.map(this.anchor),e.map(this.head))},bs.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&fs(t,n)?new ys(t,n):At.near(n,1)},Qr({ArrowLeft:ws("horiz",-1),ArrowRight:ws("horiz",1),ArrowUp:ws("vert",-1),ArrowDown:ws("vert",1),"Shift-ArrowLeft":As("horiz",-1),"Shift-ArrowRight":As("horiz",1),"Shift-ArrowUp":As("vert",-1),"Shift-ArrowDown":As("vert",1),Backspace:Cs,"Mod-Backspace":Cs,Delete:Cs,"Mod-Delete":Cs}),new Vt("fix-tables"),Is("row",{useDeprecatedLogic:!0}),Is("column",{useDeprecatedLogic:!0}),Is("cell",{useDeprecatedLogic:!0});var Es=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),_s(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function _s(e,t,n,i,r,o){for(var s=0,a=!0,l=t.firstChild,c=e.firstChild,h=0,d=0;h<c.childCount;h++)for(var u=c.child(h).attrs,p=u.colspan,f=u.colwidth,m=0;m<p;m++,d++){var g=r==d?o:f&&f[m],v=g?g+"px":"";s+=g||i,g||(a=!1),l?(l.style.width!=v&&(l.style.width=v),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=v}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}Es.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,_s(e,this.colgroup,this.table,this.cellMinWidth),!0)},Es.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var Ts=new Vt("tableColumnResizing"),$s=function(e,t){this.activeHandle=e,this.dragging=t};$s.prototype.apply=function(e){var t=this,n=e.getMeta(Ts);if(n&&null!=n.setHandle)return new $s(n.setHandle,null);if(n&&void 0!==n.setDragging)return new $s(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var i=e.mapping.map(t.activeHandle,-1);ps(e.doc.resolve(i))||(i=null),t=new $s(i,t.dragging)}return t},new Vt("collab");var Ms=200,Os=function(){};Os.prototype.append=function(e){return e.length?(e=Os.from(e),!this.length&&e||e.length<Ms&&this.leafAppend(e)||this.length<Ms&&e.leafPrepend(this)||this.appendInner(e)):this},Os.prototype.prepend=function(e){return e.length?Os.from(e).append(this):this},Os.prototype.appendInner=function(e){return new Ls(this,e)},Os.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Os.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Os.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Os.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Os.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(t,n){return i.push(e(t,n))}),t,n),i},Os.from=function(e){return e instanceof Os?e:e&&e.length?new Ds(e):Os.empty};var Ds=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var r=t;r<n;r++)if(!1===e(this.values[r],i+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],i+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Ms)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Ms)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Os);Os.empty=new Ds([]);var Ls=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),i))&&!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,i+r))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,i){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,i+r))&&!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,i))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Os);const Ns=Os;var Bs=function(e,t){this.items=e,this.eventCount=t};Bs.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var i,r,o=this.items.length;;o--)if(this.items.get(o-1).selection){--o;break}t&&(i=this.remapping(o,this.items.length),r=i.maps.length);var s,a,l=e.tr,c=[],h=[];return this.items.forEach((function(e,t){if(!e.step)return i||(i=n.remapping(o,t+1),r=i.maps.length),r--,void h.push(e);if(i){h.push(new Rs(e.map));var d,u=e.step.map(i.slice(r));u&&l.maybeStep(u).doc&&(d=l.mapping.maps[l.mapping.maps.length-1],c.push(new Rs(d,null,null,c.length+h.length))),r--,d&&i.appendMap(d,r)}else l.maybeStep(e.step);return e.selection?(s=i?e.selection.map(i.slice(r)):e.selection,a=new Bs(n.items.slice(0,o).append(h.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:l,selection:s}},Bs.prototype.addTransform=function(e,t,n,i){for(var r=[],o=this.eventCount,s=this.items,a=!i&&s.length?s.get(s.length-1):null,l=0;l<e.steps.length;l++){var c,h=e.steps[l].invert(e.docs[l]),d=new Rs(e.mapping.maps[l],h,t);(c=a&&a.merge(d))&&(d=c,l?r.pop():s=s.slice(0,s.length-1)),r.push(d),t&&(o++,t=null),i||(a=d)}var u,p,f,m=o-n.depth;return m>Fs&&(p=m,(u=s).forEach((function(e,t){if(e.selection&&0==p--)return f=t,!1})),s=u.slice(f),o-=m),new Bs(s.append(r),o)},Bs.prototype.remapping=function(e,t){var n=new He;return this.items.forEach((function(t,i){var r=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},Bs.prototype.addMaps=function(e){return 0==this.eventCount?this:new Bs(this.items.append(e.map((function(e){return new Rs(e)}))),this.eventCount)},Bs.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),i);var a=t;this.items.forEach((function(t){var i=r.getMirror(--a);if(null!=i){o=Math.min(o,i);var l=r.maps[i];if(t.step){var c=e.steps[i].invert(e.docs[i]),h=t.selection&&t.selection.map(r.slice(a+1,i));h&&s++,n.push(new Rs(l,c,h))}else n.push(new Rs(l))}}),i);for(var l=[],c=t;c<o;c++)l.push(new Rs(r.maps[c]));var h=this.items.slice(0,i).append(l).append(n),d=new Bs(h,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},Bs.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},Bs.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,i=[],r=0;return this.items.forEach((function(o,s){if(s>=e)i.push(o),o.selection&&r++;else if(o.step){var a=o.step.map(t.slice(n)),l=a&&a.getMap();if(n--,l&&t.appendMap(l,n),a){var c=o.selection&&o.selection.map(t.slice(n));c&&r++;var h,d=new Rs(l.invert(),a,c),u=i.length-1;(h=i.length&&i[u].merge(d))?i[u]=h:i.push(d)}}else o.map&&n--}),this.items.length,0),new Bs(Ns.from(i.reverse()),r)},Bs.empty=new Bs(Ns.empty,0);var Rs=function(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i};Rs.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new Rs(t.getMap().invert(),t,this.selection)}};var Zs=function(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i},Fs=20;function js(e){var t=[];return e.forEach((function(e,n,i,r){return t.push(i,r)})),t}function zs(e,t){if(!e)return null;for(var n=[],i=0;i<e.length;i+=2){var r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}function Us(e,t,n,i){var r=qs(t),o=Ws.get(t).spec.config,s=(i?e.undone:e.done).popEvent(t,r);if(s){var a=s.selection.resolve(s.transform.doc),l=(i?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,r),c=new Zs(i?l:s.remaining,i?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(Ws,{redo:i,historyState:c}).scrollIntoView())}}var Hs=!1,Vs=null;function qs(e){var t=e.plugins;if(Vs!=t){Hs=!1,Vs=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Hs=!0;break}}return Hs}var Ws=new Vt("history"),Gs=new Vt("closeHistory");function Js(e,t){var n=Ws.getState(e);return!(!n||0==n.done.eventCount||(t&&Us(n,e,t,!1),0))}function Ks(e,t){var n=Ws.getState(e);return!(!n||0==n.undone.eventCount||(t&&Us(n,e,t,!0),0))}function Qs(e){var t=Ws.getState(e);return t?t.done.eventCount:0}function Ys(e){var t=Ws.getState(e);return t?t.undone.eventCount:0}class Xs extends Go{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:e}){return()=>jo(e)}keys({type:e}){return{"Ctrl->":jo(e)}}inputRules({type:e}){return[ko(/^\s*>\s$/,e)]}}class ea extends Go{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:e,schema:t}){return()=>Fo(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-8":Fo(e,t.nodes.list_item)}}inputRules({type:e}){return[ko(/^\s*([-+*])\s$/,e)]}}class ta extends Go{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:e,schema:t}){return()=>Ro(e,t.nodes.paragraph)}keys({type:e}){return{"Shift-Ctrl-\\":uo(e)}}inputRules({type:e}){return[So(/^```$/,e)]}}class na extends Go{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:e}){return()=>fo(co,((t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)))}keys({type:e}){const t=fo(co,((t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)));return{"Mod-Enter":t,"Shift-Enter":t}}}class ia extends Go{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}}))),toDOM:e=>[`h${e.attrs.level}`,0]}}commands({type:e,schema:t}){return n=>Ro(e,t.nodes.paragraph,n)}keys({type:e}){return this.options.levels.reduce(((t,n)=>({...t,[`Shift-Ctrl-${n}`]:uo(e,{level:n})})),{})}inputRules({type:e}){return this.options.levels.map((t=>So(new RegExp(`^(#{1,${t}})\\s$`),e,(()=>({level:t})))))}}class ra extends Go{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:e}){return{Enter:(t=e,function(e,n){var i=e.selection,r=i.$from,o=i.$to,s=i.node;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;var a=r.node(-1);if(a.type!=t)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(2==r.depth||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){for(var l=I.empty,c=r.index(-1)?1:r.index(-2)?2:3,h=r.depth-c;h>=r.depth-3;h--)l=I.from(r.node(h).copy(l));var d=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;l=l.append(I.from(t.createAndFill()));var u=r.before(r.depth-(c-1)),p=e.tr.replace(u,r.after(-d),new D(l,4-c,0)),f=-1;p.doc.nodesBetween(u,p.doc.content.size,(function(e,t){if(f>-1)return!1;e.isTextblock&&0==e.content.size&&(f=t+1)})),f>-1&&p.setSelection(e.selection.constructor.near(p.doc.resolve(f))),n(p.scrollIntoView())}return!0}var m=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,g=e.tr.delete(r.pos,o.pos),v=m&&[null,{type:m}];return!!ot(g.doc,r.pos,2,v)&&(n&&n(g.split(r.pos,2,v).scrollIntoView()),!0)}),Tab:Do(e),"Shift-Tab":Oo(e)};var t}}class oa extends Go{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}commands({type:e,schema:t}){return()=>Fo(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-9":Fo(e,t.nodes.list_item)}}inputRules({type:e}){return[ko(/^(\d+)\.\s$/,e,(e=>({order:+e[1]})),((e,t)=>t.childCount+t.attrs.order===+e[1]))]}}!function(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in t)n[i]={default:t[i].default}}({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:e=>e.style.backgroundColor||null,setDOMAttr(e,t){if(e){const n={style:`${t.style||""}background-color: ${e};`};Object.assign(t,n)}}}}});class sa extends Go{get name(){return"todo_item"}get defaultOptions(){return{nested:!1}}get view(){return{props:["node","updateAttrs","view"],methods:{onChange(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}get schema(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:e=>{const{done:t}=e.attrs;return["li",{"data-type":this.name,"data-done":t.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`,getAttrs:e=>({done:"true"===e.getAttribute("data-done")})}]}}keys({type:e}){return{Enter:(t=e,function(e,n){const{$from:i,$to:r,node:o}=e.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(r))return!1;const s=i.node(-1);if(s.type!=t)return!1;if(0==i.parent.content.size){if(2==i.depth||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(n){let r=I.empty;const o=i.index(-1)>0;for(let e=i.depth-(o?1:2);e>=i.depth-3;e--)r=I.from(i.node(e).copy(r));r=r.append(I.from(t.createAndFill()));const s=e.tr.replace(i.before(o?null:-1),i.after(-3),new D(r,o?3:2,2));s.setSelection(e.selection.constructor.near(s.doc.resolve(i.pos+(o?3:2)))),n(s.scrollIntoView())}return!0}const a=r.pos==i.end()?s.contentMatchAt(i.indexAfter(-1)).defaultType:null,l=e.tr.delete(i.pos,r.pos);let c=a&&[{type:t},{type:a}];return c||(c=[{type:t},null]),!!function(e,t,n=1,i){const r=e.resolve(t),o=r.depth-n,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let e=r.depth-1,t=n-2;e>o;e--,t--){const n=r.node(e),o=r.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(o,n.childCount);const a=i&&i[t]||n;if(a!=n&&(s=s.replaceChild(0,a.type.create(a.attrs))),!n.canReplace(o+1,n.childCount))return!1}const a=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}(l.doc,i.pos,2,c)&&(n&&n(l.split(i.pos,2,c).scrollIntoView()),!0)}),Tab:this.options.nested?Do(e):()=>{},"Shift-Tab":Oo(e)};var t}}class aa extends Go{get name(){return"todo_list"}get schema(){return{group:"block",content:"todo_item+",toDOM:()=>["ul",{"data-type":this.name},0],parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`}]}}commands({type:e,schema:t}){return()=>Fo(e,t.nodes.todo_item)}inputRules({type:e}){return[ko(/^\s*(\[ \])\s$/,e)]}}class la extends qo{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong",0]}}keys({type:e}){return{"Mod-b":po(e)}}commands({type:e}){return()=>po(e)}inputRules({type:e}){return[Lo(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}pasteRules({type:e}){return[Bo(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}}class ca extends qo{get name(){return"code"}get schema(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:()=>["code",0]}}keys({type:e}){return{"Mod-`":po(e)}}commands({type:e}){return()=>po(e)}inputRules({type:e}){return[Lo(/(?:`)([^`]+)(?:`)$/,e)]}pasteRules({type:e}){return[Bo(/(?:`)([^`]+)(?:`)/g,e)]}}class ha extends qo{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:e}){return{"Mod-i":po(e)}}commands({type:e}){return()=>po(e)}inputRules({type:e}){return[Lo(/(?:^|[^_])(_([^_]+)_)$/,e),Lo(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}pasteRules({type:e}){return[Bo(/_([^_]+)_/g,e),Bo(/\*([^*]+)\*/g,e)]}}class da extends qo{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),target:e.getAttribute("target")})}],toDOM:e=>["a",{...e.attrs,rel:"noopener noreferrer nofollow",target:e.attrs.target||this.options.target},0]}}commands({type:e}){return t=>t.href?function(e,t){return(n,i)=>{const{tr:r,selection:o,doc:s}=n,{ranges:a,empty:l}=o;if(l){const{from:n,to:i}=Eo(o.$from,e);s.rangeHasMark(n,i,e)&&r.removeMark(n,i,e),r.addMark(n,i,e.create(t))}else a.forEach((n=>{const{$to:i,$from:o}=n;s.rangeHasMark(o.pos,i.pos,e)&&r.removeMark(o.pos,i.pos,e),r.addMark(o.pos,i.pos,e.create(t))}));return i(r)}}(e,t):function(e){return(t,n)=>{const{tr:i,selection:r}=t;let{from:o,to:s}=r;const{$from:a,empty:l}=r;if(l){const t=Eo(a,e);o=t.from,s=t.to}return i.removeMark(o,s,e),n(i)}}(e)}pasteRules({type:e}){return[No(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,e,(e=>({href:e})))]}get plugins(){return this.options.openOnClick?[new zt({props:{handleClick:(e,t,n)=>{const{schema:i}=e.state,r=Io(e.state,i.marks.link);r.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(r.href,r.target))}}})]:[]}}class ua extends qo{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:e=>"line-through"===e}],toDOM:()=>["s",0]}}keys({type:e}){return{"Mod-d":po(e)}}commands({type:e}){return()=>po(e)}inputRules({type:e}){return[Lo(/~([^~]+)~$/,e)]}pasteRules({type:e}){return[Bo(/~([^~]+)~/g,e)]}}class pa extends qo{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e}],toDOM:()=>["u",0]}}keys({type:e}){return{"Mod-u":po(e)}}commands({type:e}){return()=>po(e)}}class fa extends Ho{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){return{"Mod-z":Js,"Mod-y":Ks,"Shift-Mod-z":Ks,"Mod-я":Js,"Shift-Mod-я":Ks}}get plugins(){return[(e={depth:this.options.depth,newGroupDelay:this.options.newGroupDelay},e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new zt({key:Ws,state:{init:function(){return new Zs(Bs.empty,Bs.empty,null,0)},apply:function(t,n,i){return function(e,t,n,i){var r,o=n.getMeta(Ws);if(o)return o.historyState;n.getMeta(Gs)&&(e=new Zs(e.done,e.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(Ws))return s.getMeta(Ws).redo?new Zs(e.done.addTransform(n,null,i,qs(t)),e.undone,js(n.mapping.maps[n.steps.length-1]),e.prevTime):new Zs(e.done,e.undone.addTransform(n,null,i,qs(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new Zs(e.done.rebased(n,r),e.undone.rebased(n,r),zs(e.prevRanges,n.mapping),e.prevTime):new Zs(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),zs(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,i){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),l=s?zs(e.prevRanges,n.mapping):js(n.mapping.maps[n.steps.length-1]);return new Zs(e.done.addTransform(n,a?t.selection.getBookmark():null,i,qs(t)),Bs.empty,l,n.time)}(n,i,t,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(e,t){var n="historyUndo"==t.inputType?Js(e.state,e.dispatch):"historyRedo"==t.inputType&&Ks(e.state,e.dispatch);return n&&t.preventDefault(),n}}}}))];var e}commands(){return{undo:()=>Js,redo:()=>Ks,undoDepth:()=>Qs,redoDepth:()=>Ys}}}var ma=n(5018);const ga={props:{value:{type:String},id:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"150px"}},components:{Modal:ma.Z,EditorContent:Xo,EditorMenuBar:is},beforeMount(){this.editor=new Yo({disablePasteRules:!0,disableInputRules:!0,extensions:[new Xs,new ta,new na,new ia({levels:[1,2,3]}),new ea,new oa,new ra,new sa,new aa,new la,new ca,new ha,new da,new ua,new pa,new fa],content:this.value,onUpdate:e=>{const t=e.getHTML();this.$emit("changed",t),this.editorLarge.setContent(t,!1)},onFocus:()=>{this.focused=!0},onBlur:()=>{this.focused=!1}}),this.editorLarge=new Yo({disablePasteRules:!0,disableInputRules:!0,extensions:[new Xs,new ta,new na,new ia({levels:[1,2,3]}),new ea,new oa,new ra,new sa,new aa,new la,new ca,new ha,new da,new ua,new pa,new fa],content:this.value,onUpdate:e=>{const t=e.getHTML();this.$emit("changed",t),this.editor.setContent(t,!1)}})},beforeDestroy(){this.editor.destroy(),this.editorLarge.destroy()},data:()=>({editor:null,focused:!1,enlarged:!1,editorLarge:null,enlargedWidth:window.innerWidth-100,enlargedHeight:window.innerHeight-340,linkModal:{shown:!1,url:"",linkCommand:null}}),methods:{onEditorClick(e){e.target.className.indexOf("editor-content")>=0&&this.editor.view.dom.focus()},onLargeEditorClick(e){e.target.className.indexOf("editor-content")>=0&&this.editorLarge.view.dom.focus()},toggleLink(e,t){this.linkModal.linkCommand=e,t.href&&(this.linkModal.url=t.href.trim()),this.linkModal.shown=!0},onLinkModalSubmit(){const e=this.linkModal.url.trim();e?this.linkModal.linkCommand({href:e}):this.linkModal.linkCommand({href:null}),this.linkModal.shown=!1}},watch:{id(e){this.editorLarge.setContent(this.value),this.editor.setContent(this.value)}}},va=(0,y.Z)(ga,A,[],!1,null,null,null).exports;var ya=n(7010),ba=n.n(ya),xa=n(9149);const wa={props:{editorId:{type:String,required:!0},item:{type:Object},schemeContainer:{type:Object}},components:{VueTagsInput:ba(),Panel:b,RichTextEditor:va},data(){const e=xa.Z.find(this.item.shape);let t="rich";return e&&e.editorProps&&e.editorProps.description&&(t=e.editorProps.description),{itemTag:"",existingItemTags:(0,p.UI)(this.schemeContainer.itemTags,(e=>({text:e}))),shapeComponent:e,descriptionType:t}},methods:{onItemTagChange(e){this.$emit("tags-changed",(0,p.UI)(e,(e=>e.text)))},commitSchemeChange(e){c.Z.schemeChangeCommitted.$emit(this.editorId,`item.${this.item.id}.${e}`),c.Z.item.changed.specific.$emit(this.editorId,this.item.id,e)}},computed:{filteredItemTags(){const e=this.itemTag.toLowerCase();return this.existingItemTags.filter((t=>t.text.toLowerCase().indexOf(e)>=0))},itemTags(){return(0,p.UI)(this.item.tags,(e=>({text:e})))},isTemplatedChild(){return this.item.args&&this.item.args.templated&&!this.item.args.templateRef}}},Aa=(0,y.Z)(wa,w,[],!1,null,null,null).exports;var Ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("panel",{attrs:{name:"Position"}},[n("ul",{staticClass:"button-group"},[n("li",[n("span",{staticClass:"toggle-button",class:{toggled:e.editBox.locked},attrs:{title:e.editBox.locked?"Unlock item":"Lock item"},on:{click:function(t){return e.toggleItemLock()}}},[n("i",{staticClass:"fas",class:[e.editBox.locked?"fa-lock":"fa-unlock"]})])])]),e._v(" "),n("table",{staticStyle:{width:"100%"}},[n("tbody",[n("tr",[n("td",[n("number-textfield",{attrs:{value:e.x,name:"x"},on:{changed:function(t){return e.updateAreaProperty("x",arguments[0])}}})],1),e._v(" "),n("td",[n("number-textfield",{attrs:{value:e.w,name:"w"},on:{changed:function(t){return e.updateAreaProperty("w",arguments[0])}}})],1)]),e._v(" "),n("tr",[n("td",[n("number-textfield",{attrs:{value:e.y,name:"y"},on:{changed:function(t){return e.updateAreaProperty("y",arguments[0])}}})],1),e._v(" "),n("td",[n("number-textfield",{attrs:{value:e.h,name:"h"},on:{changed:function(t){return e.updateAreaProperty("h",arguments[0])}}})],1)]),e._v(" "),n("tr",[n("td",[n("number-textfield",{attrs:{value:e.r,icon:"fas fa-sync-alt"},on:{changed:function(t){return e.updateAreaProperty("r",arguments[0])}}})],1),e._v(" "),n("td")])])]),e._v(" "),e.isSingleItem?n("table",[n("tbody",[n("tr",[n("td",[n("number-textfield",{attrs:{value:e.sx,name:e.scaleNameX},on:{changed:function(t){return e.updateScaleX(arguments[0])}}})],1),e._v(" "),n("td",[n("span",{staticClass:"toggle-button",class:{toggled:e.scaleLocked},on:{click:function(t){e.scaleLocked=!e.scaleLocked}}},[n("i",{staticClass:"fas fa-lock"})])]),e._v(" "),n("td",[n("number-textfield",{attrs:{value:e.sy,name:"Scale Y",disabled:e.scaleLocked},on:{changed:function(t){return e.updateScaleY(arguments[0])}}})],1)])])]):e._e()])};Ca._withStripped=!0;var ka=n(9240);const Sa={props:["item","editBox","editorId"],components:{Panel:b,NumberTextfield:ka.Z},beforeMount(){c.Z.editBox.updated.$on(this.editorId,this.onEditBoxChange)},beforeDestroy(){c.Z.editBox.updated.$off(this.editorId,this.onEditBoxChange)},data(){const e=this.editBox.items[0].area.sx,t=this.editBox.items[0].area.sy;return{x:this.editBox.area.x,y:this.editBox.area.y,w:this.editBox.area.w,h:this.editBox.area.h,r:this.editBox.area.r,isSingleItem:1===this.editBox.items.length,sx:e,sy:t,scaleLocked:e===t}},methods:{toggleItemLock(){this.editBox.locked=!this.editBox.locked,(0,p.Ed)(this.editBox.items,(e=>{e.locked=this.editBox.locked})),c.Z.schemeChangeCommitted.$emit(this.editorId)},onEditBoxChange(){this.x=this.editBox.area.x,this.y=this.editBox.area.y,this.w=this.editBox.area.w,this.h=this.editBox.area.h,this.r=this.editBox.area.r},updateAreaProperty(e,t){this.$emit("area-changed",e,t)},updateScaleX(e){this.sx=e,this.scaleLocked&&(this.sy=this.sx),this.$emit("scale-changed",this.sx,this.sy)},updateScaleY(e){this.sy=e,this.$emit("scale-changed",this.sx,this.sy)}},computed:{scaleNameX(){return this.scaleLocked?"Scale":"Scale X"}}},Pa=(0,y.Z)(Sa,Ca,[],!1,null,null,null).exports;var Ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("panel",{attrs:{name:"Links"}},[e.item.links&&0!==e.item.links.length?e._e():n("div",[e._v("There are no links")]),e._v(" "),n("ul",{staticClass:"links-editor"},e._l(e.item.links,(function(t,i){return n("li",[n("a",{staticClass:"link",attrs:{href:t.url,target:"_blank"}},[n("i",{class:e.getLinkCssClass(t)}),e._v("\n                "+e._s(e._f("formatLinkTitle")(t))+"\n            ")]),e._v(" "),n("span",{staticClass:"link edit-link",on:{click:function(n){return e.editLink(i,t)}}},[n("i",{staticClass:"fas fa-pen-square"})]),e._v(" "),n("span",{staticClass:"link delete-link",on:{click:function(t){return e.deleteLink(i)}}},[n("i",{staticClass:"fas fa-times"})])])})),0),e._v(" "),n("span",{staticClass:"btn btn-secondary",on:{click:function(t){return e.addLink()}}},[n("i",{staticClass:"fas fa-link"}),e._v(" Add")]),e._v(" "),e.editLinkData?n("LinkEditModal",{attrs:{edit:e.editLinkData.edit,title:e.editLinkData.title,url:e.editLinkData.url,type:e.editLinkData.type},on:{"submit-link":e.onLinkSubmit,close:function(t){e.editLinkData=null}}}):e._e()],1)};Ia._withStripped=!0;var Ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{title:e.popupTitle,"primary-button":e.submitTitle},on:{"primary-submit":function(t){return e.submitLink()},close:function(t){return e.$emit("close")}}},[n("h5",[e._v("Title")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editTitle,expression:"editTitle"}],staticClass:"textfield",attrs:{type:"text"},domProps:{value:e.editTitle},on:{input:function(t){t.target.composing||(e.editTitle=t.target.value)}}}),e._v(" "),n("h5",[e._v("Type")]),e._v(" "),n("div",{staticClass:"toggle-group"},e._l(e.knownTypes,(function(t){return n("span",{staticClass:"toggle-button",class:{toggled:t.name===e.editType},on:{click:function(n){e.editType=t.name}}},[n("i",{class:t.cssClass}),e._v(" "+e._s(t.name)+"\n        ")])})),0),e._v(" "),n("h5",[e._v("URL")]),e._v(" "),"doc"===e.editType?n("div",{staticClass:"row gap centered"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editUrl,expression:"editUrl"}],staticClass:"textfield col-1",attrs:{type:"text"},domProps:{value:e.editUrl},on:{input:function(t){t.target.composing||(e.editUrl=t.target.value)}}}),e._v(" "),n("span",{staticClass:"btn btn-secondary",attrs:{title:"Search diagrams"},on:{click:e.toggleSchemeSearch}},[n("i",{staticClass:"fas fa-search"})])]):"file"===e.editType?n("div",{staticClass:"row gap centered"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editUrl,expression:"editUrl"}],staticClass:"textfield col-1",attrs:{type:"text"},domProps:{value:e.editUrl},on:{input:function(t){t.target.composing||(e.editUrl=t.target.value)}}}),e._v(" "),e.supportsUpload?n("div",{staticClass:"file-upload-button"},[e.isUploading?n("i",{staticClass:"fas fa-spinner fa-spin fa-1x"}):n("i",{staticClass:"fa-solid fa-file-arrow-up"}),e._v(" "),n("input",{attrs:{type:"file"},on:{change:e.onFileSelect}})]):e._e()]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editUrl,expression:"editUrl"}],staticClass:"textfield",attrs:{type:"text"},domProps:{value:e.editUrl},on:{input:function(t){t.target.composing||(e.editUrl=t.target.value)}}})]),e._v(" "),e.errorMessage?n("div",{staticClass:"msg msg-error"},[e._v("\n        "+e._s(e.errorMessage)+"\n    ")]):e._e(),e._v(" "),e.showSchemeSearchModal?n("scheme-search-modal",{on:{close:function(t){e.showSchemeSearchModal=!1},"selected-scheme":e.onSchemeSelect}}):e._e()],1)};Ea._withStripped=!0;var _a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{title:"Search Diagrams",height:600,repositionId:e.repositionId},on:{close:function(t){return e.$emit("close")}}},[n("div",{staticStyle:{position:"relative","margin-bottom":"5px"}},[e.isLoading?n("div",{staticClass:"loader"},[n("div",{staticClass:"loader-element"})]):e._e()]),e._v(" "),n("h5",[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"textfield",attrs:{type:"text"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),e._v(" "),e.errorMessage?n("div",{staticClass:"msg msg-error"},[e._v(e._s(e.errorMessage))]):e._e(),e._v(" "),e.searchResult?n("div",{staticStyle:{height:"300px",overflow:"scroll"}},[n("pagination",{key:e.currentPage+"-"+e.totalPages,attrs:{"current-page":e.currentPage,"total-pages":e.totalPages,useRouter:!1},on:{"page-clicked":e.selectSearchPage}}),e._v(" "),n("table",{staticClass:"scheme-search-results"},[n("tbody",e._l(e.searchResult.results,(function(t){return n("tr",{staticClass:"scheme-row",on:{click:function(n){return e.onSchemeSelect(t)}}},[n("td",{staticClass:"scheme-icon"},[t.previewURL?n("img",{staticClass:"scheme-preview",attrs:{src:""+t.previewURL}}):n("i",{staticClass:"icon far fa-file fa-2x"})]),e._v(" "),n("td",{staticClass:"scheme-title"},[e._v(e._s(t.name))])])})),0)]),e._v(" "),e.nextPageToken&&!e.isLoading?n("p",{staticStyle:{"text-align":"center"}},[n("span",{staticClass:"btn btn-primary",on:{click:e.loadNextPage}},[e._v("Load more")])]):e._e()],1):e._e()])};_a._withStripped=!0;var Ta=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container"},[e.pages.length>1?n("ul",{staticClass:"pagination"},[n("li",[e.currentPage>1?n("span",[e.useRouter?n("router-link",{attrs:{to:{path:e.urlForPage(e.currentPage-1)}}},[n("i",{staticClass:"fas fa-chevron-circle-left"})]):n("a",{attrs:{href:"#"},on:{click:function(t){return e.onNonRoutablePageClicked(t,e.currentPage-1)}}},[n("i",{staticClass:"fas fa-chevron-circle-left"})])],1):n("span",[n("i",{staticClass:"fas fa-chevron-circle-left"})])]),e._v(" "),e._l(e.pages,(function(t){return n("li",[t.active?n("span",[e.useRouter?n("router-link",{attrs:{to:{path:e.urlForPage(t.page)}}},[e._v(e._s(t.page))]):n("a",{class:{current:e.currentPage===t.page},attrs:{href:"#"},on:{click:function(n){return e.onNonRoutablePageClicked(n,t.page)}}},[e._v(e._s(t.page))])],1):n("span",[e._v(e._s(t.page))])])})),e._v(" "),n("li",[e.currentPage<e.totalPages?n("span",[e.useRouter?n("router-link",{attrs:{to:{path:e.urlForPage(e.currentPage+1)}}},[n("i",{staticClass:"fas fa-chevron-circle-right"})]):n("a",{attrs:{href:"#"},on:{click:function(t){return e.onNonRoutablePageClicked(t,e.currentPage+1)}}},[n("i",{staticClass:"fas fa-chevron-circle-right"})])],1):n("span",[n("i",{staticClass:"fas fa-chevron-circle-right"})])])],2):e._e()])};Ta._withStripped=!0;const $a={props:{currentPage:{type:Number,default:1},totalPages:{type:Number,default:1},urlPrefix:{type:String,default:null},useRouter:{type:Boolean,default:!1}},data(){let e=this.urlPrefix;return e&&(e.indexOf("?")>0?e+="&":e+="?",e+="page="),{pages:this.buildPages(this.currentPage,this.totalPages),pageUrlPrefix:e}},methods:{urlForPage(e){return this.urlPrefix?this.pageUrlPrefix+e:"#"},onNonRoutablePageClicked(e,t){return e.preventDefault(),this.$emit("page-clicked",t),!1},buildPages(e,t){let n=[],i=(e=Math.min(e,t))-2,r=e+2;i<1?r+=1-i:r>t&&(i-=r-t),i=Math.max(1,i),r=Math.min(t,r),i>1&&n.push({page:"1",active:!0}),i>2&&n.push({page:"...",active:!1});for(let t=i;t<=r;t++)n.push({page:t,active:t!==e});return r<t-1&&n.push({page:"...",active:!1}),n}}},Ma=(0,y.Z)($a,Ta,[],!1,null,null,null).exports,Oa={components:{Modal:ma.Z,Pagination:Ma},mounted(){this.reloadSchemes()},data:()=>({query:"",currentPage:1,totalPages:0,searchResult:null,searchTimerId:null,resultsPerPage:20,isLoading:!1,nextPageToken:null,errorMessage:null,repositionId:0}),methods:{selectSearchPage(e){this.currentPage=e,this.reloadSchemes(e)},onSchemeSelect(e){this.$emit("selected-scheme",e)},reloadSchemes(e){this.isLoading=!0;const t={query:this.query,limit:this.resultsPerPage};e&&(t.page=e),this.$store.state.apiClient.findSchemes(t).then((e=>{this.errorMessage=null,this.isLoading=!1,this.searchResult=e,this.totalPages=e.totalPages,this.searchResult.results&&Array.isArray(this.searchResult.results)&&this.searchResult.results.forEach((e=>{e.previewURL&&!e.previewURL.startsWith("media://")&&(e.previewURL+=`?v=${e.modifiedTime}`)})),"chunk"===e.kind&&(this.nextPageToken=e.nextPageToken),this.repositionId+=1})).catch((e=>{console.error(e),this.isLoading=!1,this.errorMessage="Something went wrong, failed to search diagrams",this.repositionId+=1}))},loadNextPage(){this.isLoading=!0;const e={query:this.query,limit:this.resultsPerPage};e.nextPageToken=this.nextPageToken,this.$store.state.apiClient.findSchemes(e).then((e=>{this.errorMessage=null,this.isLoading=!1,this.searchResult.results=this.searchResult.results.concat(e.results),this.nextPageToken=e.nextPageToken,this.repositionId+=1})).catch((e=>{console.error(e),this.isLoading=!1,this.errorMessage="Something went wrong, failed to search diagrams"}))}},watch:{query(e){this.searchTimerId||(this.searchTimerId=setTimeout((()=>{this.searchTimerId=null,this.reloadSchemes(0)}),500))}}},Da=(0,y.Z)(Oa,_a,[],!1,null,null,null).exports;var La=n(9874);const Na={props:["edit","title","url","type"],components:{Modal:ma.Z,SchemeSearchModal:Da},data(){return{popupTitle:this.edit?"Edit Link":"Create Link",submitTitle:this.edit?"Update":"Create",editTitle:this.title,editUrl:this.url,editType:this.type&&this.type.length>0?this.type:"default",knownTypes:La.Z.knownTypes,showSchemeSearchModal:!1,selectedFile:null,errorMessage:null,isUploading:!1}},methods:{submitLink(){this.$emit("submit-link",{title:this.editTitle,url:this.editUrl,type:this.editType}),this.$emit("close")},toggleSchemeSearch(){this.showSchemeSearchModal=!0},onSchemeSelect(e){this.editType="doc",this.editUrl=e.link,this.editTitle||(this.editTitle=e.name),this.showSchemeSearchModal=!1},onFileSelect(e){this.selectedFile=e.target.files[0]}},computed:{supportsUpload(){return this.$store.state.apiClient&&this.$store.state.apiClient.uploadFile}},watch:{selectedFile(e){e&&(this.isUploading=!0,this.errorMessage=null,this.$store.state.apiClient.uploadFile(e).then((t=>{this.editTitle=e.name,this.isUploading=!1,this.errorMessage=null,this.editUrl=t})).catch((e=>{this.isUploading=!1,this.errorMessage="Something went wrong, could not upload file",e.data&&e.data.message&&StoreUtils.addErrorSystemMessage(this.$store,e.data.message)})))}}},Ba=(0,y.Z)(Na,Ea,[],!1,null,null,null).exports,Ra={props:{editorId:{type:String,required:!0},item:{type:Object,required:!0}},components:{Panel:b,LinkEditModal:Ba},data:()=>({editLinkData:null}),methods:{getLinkCssClass:e=>La.Z.findTypeByNameOrDefault(e.type).cssClass,addLink(){this.editLinkData={linkId:-1,edit:!1,title:"",url:"",type:""}},deleteLink(e){this.item.links.splice(e,1),c.Z.schemeChangeCommitted.$emit(this.editorId)},editLink(e,t){this.editLinkData={linkId:e,edit:!0,title:t.title,url:t.url,type:t.type}},onLinkSubmit(e){this.editLinkData.linkId>=0?(this.item.links[this.editLinkData.linkId].title=e.title,this.item.links[this.editLinkData.linkId].url=e.url,this.item.links[this.editLinkData.linkId].type=e.type,c.Z.schemeChangeCommitted.$emit(this.editorId,`item.${this.item.id}.links.${this.editLinkData.linkId}`)):(this.item.links||(this.item.links=[]),this.item.links.push({title:e.title,url:e.url,type:e.type}),c.Z.schemeChangeCommitted.$emit(this.editorId)),c.Z.item.changed.specific.$emit(this.editorId,this.item.id,"links")}},filters:{formatLinkTitle:e=>e.title?e.title:e.url}},Za=(0,y.Z)(Ra,Ia,[],!1,null,null,null).exports;var Fa=n(7455),ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"actions-being-dragged":e.dragging.eventIndex>=0}},[e.extended?e._e():n("panel",{attrs:{uid:"behavior-tags",name:"General"}},[n("vue-tags-input",{attrs:{tags:e.itemTags,"autocomplete-items":e.filteredItemTagsSuggestions},on:{"tags-changed":e.onItemTagsChange},model:{value:e.itemTag,callback:function(t){e.itemTag=t},expression:"itemTag"}}),e._v(" "),n("table",{staticClass:"properties-table"},[n("tbody",[n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Dragging")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("dropdown",{attrs:{options:e.draggingOptions},on:{selected:e.onItemDraggingChange}},[e._v("\n                            "+e._s(e._f("toPrettyDraggingOptionName")(e.item.behavior.dragging))+"\n                        ")])],1)]),e._v(" "),"dragndrop"===e.item.behavior.dragging?n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Drop to")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("ElementPicker",{attrs:{editorId:e.editorId,element:e.item.behavior.dropTo,"scheme-container":e.schemeContainer,useSelf:!1,allowNone:!0,inline:!0,borderless:!1,disabled:"dragndrop"!==e.item.behavior.dragging},on:{selected:e.onItemDraggingDropToSelected}})],1)]):e._e(),e._v(" "),"path"===e.item.behavior.dragging?n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Drag path")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("ElementPicker",{attrs:{editorId:e.editorId,element:e.item.behavior.dragPath,"scheme-container":e.schemeContainer,useSelf:!1,allowNone:!0,inline:!0,borderless:!1,disabled:"path"!==e.item.behavior.dragging},on:{selected:e.onItemDraggingPathSelected}})],1)]):e._e(),e._v(" "),"path"===e.item.behavior.dragging?n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Align to path while dragging")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:e.item.behavior.dragPathAlign},on:{input:function(t){return e.onItemDragAlignChange(t.target.checked)}}})])]):e._e(),e._v(" "),"path"===e.item.behavior.dragging?n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Drag rotation")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("NumberTextfield",{attrs:{value:e.item.behavior.dragPathRotation},on:{changed:e.onItemDragRotationChange}})],1)]):e._e()])])],1),e._v(" "),0===e.item.behavior.events.length?n("div",{staticClass:"hint"},[e._v("There are no events defined for this item yet. Start by adding an event")]):e._e(),e._v(" "),e._l(e.item.behavior.events,(function(t,i){return n("div",{staticClass:"behavior-container",class:{extended:e.extended}},[n("div",{staticClass:"behavior-event behavior-action-droppable",attrs:{"data-event-index":i}},[n("div",{staticClass:"behavior-menu"},[n("span",{staticClass:"link icon-collapse",on:{click:function(t){return e.toggleBehaviorCollapse(i)}}},[n("i",{staticClass:"fas",class:[e.eventMetas[i]&&e.eventMetas[i].collapsed?"fa-caret-right":"fa-caret-down"]})])]),e._v(" "),n("dropdown",{attrs:{options:e.eventOptions,"auto-focus-search":e.isStandardEvent(t.event),inline:!0,borderless:!0},on:{selected:function(t){return e.onBehaviorEventSelected(i,arguments[0])}}},[n("span",{staticClass:"icon-event"},[n("i",{staticClass:"fas fa-bell"})]),e._v(" "),e.isStandardEvent(t.event)?n("span",[e._v(e._s(e._f("toPrettyEventName")(t.event)))]):n("input",{staticClass:"custom-event-textfield",attrs:{id:"custom-event-textfield-"+e.item.id+"-"+i,type:"text"},domProps:{value:t.event},on:{input:function(e){t.event=arguments[0].target.value}}})])],1),e._v(" "),e.eventMetas[i]&&e.eventMetas[i].collapsed?e._e():n("div",[0===t.actions.length?n("div",{staticClass:"hint hint-small"},[e._v("This event has no actions yet...")]):e._e(),e._v(" "),!e.dragging.readyToDrop||e.dragging.dropTo.eventIndex!==i||0!==e.dragging.dropTo.actionIndex||t.actions&&0!==t.actions.length?e._e():n("div",{staticClass:"behavior-action-container behavior-drop-highlight",domProps:{innerHTML:e._s(e.dragging.action)}}),e._v(" "),e._l(t.actions,(function(t,r){return n("div",{staticClass:"behavior-action-droppable",attrs:{"data-event-index":i,"data-action-index":r}},[e.dragging.readyToDrop&&e.dragging.dropTo.eventIndex===i&&e.dragging.dropTo.actionIndex===r?n("div",{staticClass:"behavior-action-container behavior-drop-highlight",domProps:{innerHTML:e._s(e.dragging.action)}}):e._e(),e._v(" "),n("div",{staticClass:"behavior-action-container",class:{disabled:!t.on,dragged:!e.dragging.isCopying&&e.dragging.readyToDrop&&i===e.dragging.eventIndex&&r===e.dragging.actionIndex},attrs:{id:"behavior-action-container-"+e.item.id+"-"+i+"-"+r}},[n("div",{staticClass:"icon-container"},[n("span",{staticClass:"link icon-delete",on:{click:function(t){return e.removeAction(i,r)}}},[n("i",{staticClass:"fas fa-times"})]),e._v(" "),n("span",{staticClass:"link icon-move",on:{mousedown:function(t){return e.onActionDraggerMouseDown(t,i,r)}}},[n("i",{staticClass:"fas fa-arrows-alt"})]),e._v(" "),n("span",{staticClass:"link icon-check",on:{click:function(t){return e.toggleActionOnOff(i,r)}}},[t.on?n("i",{staticClass:"fa-regular fa-square-check"}):n("i",{staticClass:"fa-regular fa-square"})])]),e._v(" "),n("div",{staticClass:"action-item"},[n("ElementPicker",{attrs:{editorId:e.editorId,element:t.element,"scheme-container":e.schemeContainer,"self-item":e.item,inline:!0,borderless:!0},on:{selected:function(t){return e.onActionElementSelected(i,r,arguments[0])}}})],1),e._v(" "),n("div",{staticClass:"behavior-goto-element",attrs:{title:"Double click to jump to element"},on:{dblclick:function(n){return e.jumpToElement(t.element)}}},[e._v(": ")]),e._v(" "),n("div",{staticClass:"action-method"},[n("dropdown",{key:t.element.item,attrs:{options:e.createMethodSuggestionsForElement(t.element),inline:!0,borderless:!0},on:{selected:function(t){return e.onActionMethodSelected(i,r,arguments[0])}}},["set"===t.method?n("span",[n("i",{staticClass:"fas fa-cog"}),e._v(" "+e._s(e._f("toPrettyPropertyName")(t.args.field,t.element,e.item,e.schemeContainer)))]):"sendEvent"===t.method?n("span",{staticClass:"behavior-function"},[n("i",{staticClass:"icon fas fa-play"}),e._v(" "+e._s(t.args.event)+" ")]):t.method.startsWith("function:")?n("span",{staticClass:"behavior-function"},[e._v(e._s(e._f("functionToPrettyName")(t.method))+" ")]):n("span",{staticClass:"behavior-function"},[e._v(e._s(e._f("toPrettyMethod")(t.method,t.element))+" ")])])],1),e._v(" "),"set"!==t.method&&"sendEvent"!==t.method&&t.args&&Object.keys(t.args).length>0?n("span",{staticClass:"action-method-arguments-expand",attrs:{title:"Edit function arguments"},on:{click:function(n){return e.showFunctionArgumentsEditor(t,i,r)}}},[e._v(e._s(e._f("toPrettyActionArgs")(t,e.schemeContainer)))]):e._e(),e._v(" "),"set"===t.method?n("span",{staticClass:"function-brackets"},[e._v(" = ")]):e._e(),e._v(" "),"set"===t.method?n("SetArgumentEditor",{key:t.id+"-"+t.args.field,attrs:{editorId:e.editorId,"argument-description":e.getArgumentDescriptionForElement(t.element,t.args.field),"argument-value":t.args.value,args:t.args},on:{"property-changed":function(t){return e.onArgumentPropertyChangeForSet(i,r,arguments[0],arguments[1])}}}):e._e()],1)])})),e._v(" "),e.dragging.readyToDrop&&e.dragging.dropTo.eventIndex===i&&e.dragging.dropTo.actionIndex>0&&e.dragging.dropTo.actionIndex>=t.actions.length?n("div",{staticClass:"behavior-action-container behavior-drop-highlight",domProps:{innerHTML:e._s(e.dragging.action)}}):e._e(),e._v(" "),n("div",{staticClass:"behavior-event-operations"},[n("span",{staticClass:"btn btn-small btn-secondary",on:{click:function(t){return e.addActionToEvent(i)}}},[e._v("+ Action")]),e._v(" "),n("span",{staticClass:"btn btn-small btn-secondary",on:{click:function(t){return e.duplicateBehavior(i)}}},[e._v("Duplicate")]),e._v(" "),n("span",{staticClass:"btn btn-small btn-secondary",on:{click:function(t){return e.copyEvent(i)}}},[e._v("Copy Event")]),e._v(" "),i>0?n("span",{staticClass:"btn btn-small btn-secondary",attrs:{title:"Move event up"},on:{click:function(t){return e.moveEventInOrder(i,i-1)}}},[n("i",{staticClass:"fas fa-caret-up"})]):e._e(),e._v(" "),i<e.item.behavior.events.length-1?n("span",{staticClass:"btn btn-small btn-secondary",attrs:{title:"Move event down"},on:{click:function(t){return e.moveEventInOrder(i,i+1)}}},[n("i",{staticClass:"fas fa-caret-down"})]):e._e(),e._v(" "),n("span",{staticClass:"btn btn-small btn-danger",on:{click:function(t){return e.removeBehaviorEvent(i)}}},[e._v("Delete")])])],2)])})),e._v(" "),n("span",{staticClass:"btn btn-secondary",on:{click:function(t){return e.addBehaviorEvent()}}},[e._v("+ Event")]),e._v(" "),n("span",{staticClass:"btn btn-secondary",on:{click:function(t){return e.copyAllEvents()}}},[e._v("Copy all events")]),e._v(" "),n("span",{staticClass:"btn btn-secondary",on:{click:function(t){return e.pasteEvents()}}},[e._v("Paste events")]),e._v(" "),e.functionArgumentsEditor.shown?n("modal",{attrs:{title:e.functionArgumentsEditor.functionDescription.name+" arguments",width:e.functionArgumentsEditor.width,"use-mask":!1},on:{close:function(t){e.functionArgumentsEditor.shown=!1}}},[e.functionArgumentsEditor.functionDescription.editorComponent?n("div",[n(e.functionArgumentsEditor.functionDescription.editorComponent,{tag:"component",attrs:{editorId:e.editorId,args:e.functionArgumentsEditor.args},on:{"argument-changed":e.onFunctionArgumentsEditorChange}})],1):n("div",{style:{"max-width":e.functionArgumentsEditor.width+"px"}},[n("p",[e._v(e._s(e.functionArgumentsEditor.functionDescription.description))]),e._v(" "),n("ArgumentsEditor",{attrs:{editorId:e.editorId,argsDefinition:e.functionArgumentsEditor.functionDescription.args,args:e.functionArgumentsEditor.args,"scheme-container":e.schemeContainer},on:{"argument-changed":e.onFunctionArgumentsEditorChange}})],1)]):e._e(),e._v(" "),n("div",{ref:"dragPreview",staticClass:"behavior-action-drag-preview"},[e.dragging.isCopying?n("i",{staticClass:"icon-action-copy-by-mouse fa-solid fa-circle-plus"}):e._e(),e._v(" "),e.dragging.preview.elementIcon?n("i",{class:e.dragging.preview.elementIcon}):e._e(),e._v("\n        "+e._s(e.dragging.preview.elementName)+" "),n("span",{staticClass:"action-name-separator"},[e._v(":")]),e._v(" "),e.dragging.preview.method?n("span",[e._v(e._s(e.dragging.preview.method))]):e._e(),e._v(" "),e.dragging.preview.propertyName?n("i",{staticClass:"fas fa-cog"}):e._e(),e._v(" "),e.dragging.preview.propertyName?n("span",[e._v(e._s(e.dragging.preview.propertyName))]):e._e()])],2)};ja._withStripped=!0;var za=n(4670),Ua=n.n(za),Ha=n(520),Va=n(8063),qa=n(8145),Wa=n(7731),Ga=n(6085),Ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-picker",class:{disabled:e.disabled}},[n("dropdown",{attrs:{options:e.allOptions,disabled:e.disabled,inline:e.inline,borderless:e.borderless},on:{selected:e.onElementSelected,"dropdown-toggled":e.onDropdownToggled,"dropdown-hidden":e.onDropdownHidden}},[n("div",{staticClass:"picked-element",class:["picked-element-type-"+e.enrichedElement.type,e.disabled?"disabled":""]},[n("i",{class:e.enrichedElement.iconClass}),e._v(" "),n("span",{staticClass:"element-name"},[e._v(e._s(e._f("toShortName")(e.enrichedElement.name)))])])])],1)};function Ka(e,t){if(!e)return{name:"None",type:"none",iconClass:""};if(e.startsWith("tag:"))return{name:e.substr(5).trim(),type:"item-tag",iconClass:"fas fa-cubes"};if("self"===e)return{name:"self",iconClass:"fas fa-cube",type:"item"};const n=t.findFirstElementBySelector(e);return n?{name:n.name||n.id,iconClass:"fas fa-cube",type:"item"}:{name:"no item",type:"error",iconClass:"fas fa-exclamation-triangle"}}Ja._withStripped=!0;const Qa={props:{editorId:{type:String,required:!0},element:{type:String,default:null},selfItem:{type:Object,default:null},schemeContainer:{type:Object,required:!0},useSelf:{type:Boolean,default:!0},allowNone:{type:Boolean,default:!1},allowTags:{type:Boolean,default:!0},excludedItemIds:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1}},components:{Dropdown:Va.Z},mounted(){},beforeDestroy(){c.Z.elementPick.canceled.$emit(this.editorId)},data(){return{allOptions:this.collectAllOptions()}},methods:{collectAllOptions(){const e=[];return this.allowNone&&e.push({iconClass:"",name:"None",id:"none",type:"none"}),this.useSelf&&e.push({iconClass:"fas fa-cube",name:"self",id:"self",type:"item"}),(0,p.Ed)(this.schemeContainer.getItems(),(t=>{let n=!0;this.excludedItemIds&&this.excludedItemIds.length>0&&(n=(0,p.cq)(this.excludedItemIds,t.id)<0),n&&e.push({iconClass:"fas fa-cube",name:t.name,id:t.id,type:"item"})})),this.allowTags&&(0,p.Ed)(this.schemeContainer.itemTags,(t=>{e.push({iconClass:"fas fa-cubes",name:t,id:t,type:"item-tag"})})),e},onElementSelected(e){"self"===e.id?this.$emit("selected","self"):"item"===e.type?this.$emit("selected",`#${e.id}`):"item-tag"===e.type?this.$emit("selected",`tag: ${e.id}`):"none"===e.type?this.$emit("selected",null):console.error(e.type+" is not supported")},onDropdownToggled(){c.Z.elementPick.requested.$emit(this.editorId,(e=>{this.$emit("selected",e)}))},onDropdownHidden(){c.Z.elementPick.canceled.$emit(this.editorId)}},computed:{enrichedElement(){return Ka(this.element,this.schemeContainer)}},filters:{toShortName:e=>e.length>20?e.substr(0,19)+"…":e}},Ya=(0,y.Z)(Qa,Ja,[],!1,null,null,null).exports;var Xa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set-argument-editor"},[n("div",{staticClass:"set-argument-wrapper"},[n("div",{staticClass:"set-argument-control"},["string"===e.argumentType||"image"===e.argumentType?n("input",{staticStyle:{width:"100px"},domProps:{value:e.argumentValue},on:{input:e.onInputValue}}):e._e(),e._v(" "),"number"===e.argumentType?n("number-textfield",{attrs:{value:e.argumentValue},on:{changed:e.emitValue}}):e._e(),e._v(" "),"color"===e.argumentType?n("color-picker",{attrs:{editorId:e.editorId,width:"18px",height:"18px",color:e.argumentValue},on:{input:e.emitValue}}):e._e(),e._v(" "),"advanced-color"===e.argumentType?n("advanced-color-editor",{attrs:{editorId:e.editorId,height:"18px",value:e.argumentValue},on:{changed:e.emitValue}}):e._e(),e._v(" "),"boolean"===e.argumentType?n("input",{attrs:{type:"checkbox"},domProps:{checked:e.argumentValue},on:{input:e.onCheckboxInput}}):e._e(),e._v(" "),e.isChoice?n("select",{domProps:{value:e.argumentValue},on:{input:e.onInputValue}},e._l(e.choiceOptions,(function(t){return n("option",{domProps:{value:t.name&&t.value?t.value:t}},[e._v(e._s(e._f("toPrettyOptionName")(t)))])})),0):e._e()],1),e._v(" "),e.supportsAnimation?n("div",{staticClass:"set-argument-options"},[e.args.animated?n("span",{staticClass:"set-animated",attrs:{title:"Animated"},on:{click:function(t){e.animationEditorShown=!0}}},[n("i",{staticClass:"fa-solid fa-video"})]):n("span",{staticClass:"set-instant",attrs:{title:"Instant"},on:{click:function(t){e.animationEditorShown=!0}}},[n("i",{staticClass:"fa-solid fa-video-slash"})])]):e._e()]),e._v(" "),e.animationEditorShown?n("modal",{attrs:{title:"Animation","use-mask":!1},on:{close:function(t){e.animationEditorShown=!1}}},[n("div",[n("table",{staticClass:"properties-table"},[n("tbody",[n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Animated")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.args.animated},on:{input:function(t){return e.onPropertyChange("animated",t.target.checked)}}})])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Duration")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("number-textfield",{attrs:{disabled:!e.args.animated,min:0,value:e.args.animationDuration},on:{changed:function(t){return e.onPropertyChange("animationDuration",arguments[0])}}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("Transition")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("select",{attrs:{disabled:!e.args.animated},domProps:{value:e.args.transition},on:{input:function(t){return e.onPropertyChange("transition",t.target.value)}}},e._l(e.transitions,(function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])})),0)])]),e._v(" "),n("tr",[n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("In Background")]),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%"}},[n("input",{attrs:{type:"checkbox",disabled:!e.args.animated},domProps:{checked:e.args.inBackground},on:{input:function(t){return e.onPropertyChange("inBackground",t.target.checked)}}})])])])])]),e._v(" "),"advanced-color"===e.argumentType&&e.args.value&&"gradient"===e.args.value.type?n("div",{staticClass:"msg msg-info"},[e._v("\n            Gradient animation only works when both original gradient and target gradient have same amount of color points\n        ")]):e._e()]):e._e()],1)};Xa._withStripped=!0;var el=n(18);const tl={props:{editorId:{type:String,required:!0},argumentValue:{type:Object},argumentDescription:{type:Object},args:{type:Object}},components:{Dropdown:Va.Z,ColorPicker:Fa.Z,AdvancedColorEditor:el.Z,NumberTextfield:ka.Z,Modal:ma.Z},data(){let e=!1,t=[];return this.argumentDescription&&("stroke-pattern"===this.argumentDescription.type?(e=!0,t=o.Z.patterns):"choice"===this.argumentDescription.type&&(e=!0,t=this.argumentDescription.options)),{transitions:["linear","smooth","ease-in","ease-out","ease-in-out","bounce"],isChoice:e,choiceOptions:t,argumentType:this.argumentDescription?this.argumentDescription.type:null,animationEditorShown:!1}},computed:{supportsAnimation(){return!!this.argumentDescription&&(0,Wa.fu)(this.argumentDescription.type)}},methods:{emitValue(e){this.onPropertyChange("value",e)},onInputValue(e){this.emitValue(e.target.value)},onCheckboxInput(e){this.emitValue(e.target.checked)},onPropertyChange(e,t){this.$emit("property-changed",e,t)}},filters:{toPrettyOptionName:e=>e.name&&e.value?e.name:e}},nl=(0,y.Z)(tl,Xa,[],!1,null,null,null).exports;var il=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"properties-table"},e._l(e.argsDefinition,(function(t,i){return!e.argumentControlStates[i]||e.isDisabledScript(t,i)||t.hidden?e._e():n("tr",["script"!==t.type?n("td",{staticClass:"label",class:{disabled:!e.argumentControlStates[i].shown},attrs:{width:"50%"}},[e._v("\n                "+e._s(t.name)+"\n                "),t.description?n("tooltip",[e._v(e._s(t.description))]):e._e()],1):e._e(),e._v(" "),"script"!==t.type?n("td",{staticClass:"value",class:{disabled:!e.argumentControlStates[i].shown},attrs:{width:"50%"}},["string"===t.type||"image"===t.type?n("input",{staticClass:"textfield",attrs:{disabled:!e.argumentControlStates[i].shown},domProps:{value:e.argumentValues[i]},on:{input:function(t){return e.onValueChange(i,arguments[0].target.value)}}}):e._e(),e._v(" "),"number"===t.type?n("number-textfield",{attrs:{value:e.argumentValues[i],min:t.min,max:t.max,disabled:!e.argumentControlStates[i].shown},on:{changed:function(t){return e.onValueChange(i,arguments[0])}}}):e._e(),e._v(" "),"color"===t.type?n("color-picker",{attrs:{editorId:e.editorId,color:e.argumentValues[i],disabled:!e.argumentControlStates[i].shown},on:{input:function(t){return e.onValueChange(i,arguments[0])}}}):e._e(),e._v(" "),"advanced-color"===t.type?n("advanced-color-editor",{attrs:{value:e.argumentValues[i],apiClient:e.apiClient,editorId:e.editorId,disabled:!e.argumentControlStates[i].shown},on:{changed:function(t){return e.onValueChange(i,arguments[0])}}}):e._e(),e._v(" "),"boolean"===t.type?n("input",{attrs:{type:"checkbox",disabled:!e.argumentControlStates[i].shown},domProps:{checked:e.argumentValues[i]},on:{input:function(t){return e.onValueChange(i,arguments[0].target.checked)}}}):e._e(),e._v(" "),"choice"===t.type?n("select",{attrs:{disabled:!e.argumentControlStates[i].shown},domProps:{value:e.argumentValues[i]},on:{input:function(t){return e.onValueChange(i,arguments[0].target.value)}}},e._l(t.options,(function(t){return n("option",[e._v(e._s(t))])})),0):e._e(),e._v(" "),"element"===t.type?n("ElementPicker",{attrs:{editorId:e.editorId,"scheme-container":e.schemeContainer,element:e.argumentValues[i],disabled:!e.argumentControlStates[i].shown,"use-self":!1},on:{selected:function(t){return e.onValueChange(i,arguments[0])}}}):e._e(),e._v(" "),"scheme-ref"===t.type?n("DiagramPicker",{key:"args-editor-diagram-picker-"+e.editorId+"-"+e.argumentValues[i],attrs:{diagramId:e.argumentValues[i]},on:{"diagram-selected":function(t){return e.onDiagramPicked(i,arguments[0])}}}):e._e(),e._v(" "),"path-cap"===t.type?n("PathCapDropdown",{attrs:{value:e.argumentValues[i],"is-source":!1,"is-thick":!1,width:"100%",height:16,disabled:!e.argumentControlStates[i].shown},on:{selected:function(t){return e.onValueChange(i,arguments[0])}}}):e._e()],1):n("td",{attrs:{colspan:"2"}},[n("div",{staticClass:"label"},[e._v("\n                    "+e._s(t.name)+"\n                    "),t.description?n("tooltip",[e._v(e._s(t.description))]):e._e(),e._v(" "),n("a",{staticClass:"link",attrs:{target:"_blank",href:"https://github.com/ishubin/schemio/blob/master/docs/Scripting.md"}},[e._v("(documentation)")])],1),e._v(" "),"script"===t.type?n("ScriptEditor",{key:"script-editor-"+i+"-"+e.editorId,attrs:{value:e.argumentValues[i]},on:{changed:function(t){return e.onValueChange(i,arguments[0])}}}):e._e()],1)])})),0)])};il._withStripped=!0;var rl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diagram-picker-wrapper"},[n("div",{staticClass:"diagram-picker",class:{specified:e.diagramId,empty:!e.diagramId,disabled:e.disabled}},[e.diagramId?n("i",{staticClass:"icon fa-solid fa-diagram-project",on:{click:function(t){e.searchModalShown=!0}}}):e._e(),e._v(" "),e.diagramId?n("div",{staticClass:"diagram-title",attrs:{title:e.diagramTitle},on:{click:e.toggleSearchModal}},[e.isLoading?n("i",{staticClass:"fas fa-spinner fa-spin fa-1x"}):e._e(),e._v(" "),n("span",[e._v(e._s(e.diagramTitle))])]):n("div",{staticClass:"diagram-title",on:{click:e.toggleSearchModal}},[n("span",{staticClass:"diagram-placeholder"},[e._v("Search diagram...")])]),e._v(" "),e.diagramLink?n("a",{staticClass:"diagram-picker-external-link",attrs:{title:"Open diagram in another tab",target:"_blank",href:e.diagramLink}},[n("i",{staticClass:"fa-solid fa-square-up-right"})]):e._e(),e._v(" "),e.searchModalShown?n("SchemeSearchModal",{on:{close:function(t){e.searchModalShown=!1},"selected-scheme":e.onDiagramPicked}}):e._e()],1)])};rl._withStripped=!0;const ol={components:{SchemeSearchModal:Da},props:{diagramId:{type:String},disabled:{type:Boolean,default:!1}},beforeMount(){this.diagramId&&this.$store.state.apiClient&&this.$store.state.apiClient.getSchemeInfo&&(this.isLoading=!0,this.$store.state.apiClient.getSchemeInfo(this.diagramId).then((e=>{this.isLoading=!1,this.diagramTitle=e.name,this.diagramLink=e.link})).catch((e=>{console.error(e),this.isLoading=!1,this.diagramTitle=this.diagramId})))},data:()=>({searchModalShown:!1,diagramTitle:null,diagramLink:null,isLoading:!1}),methods:{onDiagramPicked(e){this.searchModalShown=!1,this.$emit("diagram-selected",e)},toggleSearchModal(){const e=this.$store.state.apiClient;e&&e.diagramSearchProvider?e.diagramSearchProvider(this.diagramId).then((e=>{this.onDiagramPicked(e)})):this.disabled||(this.searchModalShown=!0)}}},sl=(0,y.Z)(ol,rl,[],!1,null,null,null).exports;var al=n(7502),ll=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dropdown",{attrs:{options:e.capOptions},on:{selected:function(t){return e.$emit("selected",arguments[0].name)}}},[n("div",{domProps:{innerHTML:e._s(e.selectedCapHtml)}})])};ll._withStripped=!0;var cl=n(125);function hl(e,t,n,i,r){let o=`<svg width="${e}px" height="${t}px"><g transform="translate(5, 0)">`,s=0,a=30;if(i){i.prolongLine||(r?s=i.entryPoint.x:a=i.entryPoint.x);let e="#111111";i.hollow&&(e="none"),o+=`<path d="${i.path}" fill="${e}" stroke="#111111" stroke-width="2"/>`}return o+=`<path d="M ${s} ${n} L ${a} ${n}" fill="none" stroke="#111111" stroke-width="2"/>`,o+="</g></svg>",o}const dl=(0,p.UI)((0,cl.j)(),(e=>({name:e,cap:(0,cl.g)(30,15,-15,0,e)}))),ul=(0,p.UI)((0,cl.j)(),(e=>({name:e,cap:(0,cl.g)(0,15,15,0,e)})));function pl(e,t){return(0,p.UI)(e,(e=>({name:e.name,html:hl(100,30,15,e.cap,t)})))}const fl={props:{value:{type:String},isSource:{type:Boolean,default:!1},width:{type:String,default:"30px"},height:{type:Number,default:20},isThick:{type:Boolean,default:!1}},components:{Dropdown:Va.Z},data(){let e=dl;this.isSource&&(e=ul);let t=[];return t=this.isThick?pl((0,p.hX)(e,(e=>"empty"===e.name||"triangle"===e.name)),this.isSource):pl(e,this.isSource),{capOptions:t,selectedCapHtml:this.generateSelectedCapHtml(this.value)}},methods:{generateSelectedCapHtml(e){let t=null;return t=this.isSource?(0,cl.g)(0,7,12,0,e):(0,cl.g)(30,7,-12,0,e),hl(40,this.height,7,t,this.isSource)}},watch:{value(e){this.selectedCapHtml=this.generateSelectedCapHtml(e)}}},ml=(0,y.Z)(fl,ll,[],!1,null,null,null).exports,gl={props:{editorId:{type:String,required:!0},argsDefinition:{type:Object,required:!0},args:{type:Object,required:!0},schemeContainer:{type:Object,required:!0},apiClient:{type:Object,default:null}},components:{Modal:ma.Z,ColorPicker:Fa.Z,ElementPicker:Ya,Tooltip:x.Z,NumberTextfield:ka.Z,AdvancedColorEditor:el.Z,ScriptEditor:al.Z,DiagramPicker:sl,PathCapDropdown:ml},beforeMount(){this.updateArgumentControlDependencies()},data(){const e={};return(0,p.Ed)(this.argsDefinition,((t,n)=>{this.args.hasOwnProperty(n)?e[n]=this.args[n]:e[n]=t.value})),{argumentValues:e,argumentControlStates:(0,p.O3)(this.argsDefinition,(()=>({shown:!0}))),scriptEnlarged:!1}},methods:{updateArgumentControlDependencies(){(0,p.Ed)(this.argsDefinition,((e,t)=>{if(e.depends){this.argumentControlStates[t]||(this.argumentControlStates[t]={shown:n});let n=!0;(0,p.Ed)(e.depends,((e,t)=>{n=n&&this.argumentValues[t]===e})),this.argumentControlStates[t].shown=n}}))},onValueChange(e,t){this.argumentValues[e]=t,this.emitArgumentChange(e),this.updateArgumentControlDependencies()},onDiagramPicked(e,t){this.onValueChange(e,t.id)},emitArgumentChange(e){this.$emit("argument-changed",e,this.argumentValues[e])},isDisabledScript(e,t){return"script"===e.type&&!this.argumentControlStates[t].shown}}},vl=(0,y.Z)(gl,il,[],!1,null,null,null).exports;var yl=n(7196);let bl=null;function xl(e,t){return n=JSON.stringify({kind:e,data:t}),bl=n,navigator.clipboard.writeText(n);var n}var wl=n(4925),Al=n(6222),Cl=n(1068),kl=n(8113);function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(n),!0).forEach((function(t){Il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function El(e,t){const n=e.name.toUpperCase(),i=t.name.toUpperCase();return n<i?-1:n>i?1:0}const _l=Object.values(Ga.Z.standardEvents),Tl=(0,p.UI)(_l,(e=>e.id)),$l=(0,m.Ue)("behavior-collapse",400);function Ml(e){const t=Pl({},e);return delete t.id,t}function Ol(e){return{event:e.event,actions:(0,p.UI)(e.actions,Ml)}}function Dl(e,t,n,i){let r=null;r="self"===t?n:i.findFirstElementBySelector(t);const o=yl.DD[e];if(o)return o.name;if(0===e.indexOf("shapeProps.")){if(r&&r.shape){const t=xa.Z.find(r.shape),n=e.substr(11);if(t&&t.args&&t.args.hasOwnProperty(n))return t.args[n].name;if("standard"===t.shapeType&&xa.Z.standardShapeProps.hasOwnProperty(n))return xa.Z.standardShapeProps[n].name}}else if(0===e.indexOf("textSlots.")){const t=e.indexOf("."),n=e.indexOf(".",t+1),i=e.substring(t+1,n),r=e.substring(n+1),o=(0,p.sE)(yl.eN,(e=>e.field===r));if(o)return`Text / ${i} / ${o.name}`}else if(0===e.indexOf("effects.")){const t=e.indexOf("."),n=e.indexOf(".",t+1),i=e.substring(t+1,n),o=e.substring(n+1),s=r&&Array.isArray(r.effects)?r.effects.find((e=>e.id===i)):null;if(!s)return"Missing effect";const a=(0,kl.ao)()[s.effect];if(!a)return"Missing effect";const l=a.args[o];return l?`Effect / ${s.name} / ${l.name}`:"Missing effect"}return e}function Ll(e){return"Control"===e.key||"Meta"===e.key||"Alt"===e.key}const Nl={props:{editorId:{type:String,required:!0},item:{type:Object},schemeContainer:{type:Object},extended:{type:Boolean,default:!1}},components:{Dropdown:Va.Z,ElementPicker:Ya,SetArgumentEditor:nl,Panel:b,ArgumentsEditor:vl,VueTagsInput:ba(),Modal:ma.Z,NumberTextfield:ka.Z},data(){const e=(0,p.UI)(this.schemeContainer.getItems(),(e=>({id:e.id,name:e.name||"Unnamed"})));e.sort(El);const t=(0,p.UI)(this.item.behavior.events,this.createBehaviorEventMeta);(0,p.Ed)(t,((e,t)=>{const n=$l.get(`${this.schemeContainer.scheme.id}/${this.item.id}/${t}`,0);e.collapsed=1===n}));const n=xa.Z.find(this.item.shape);let i=[];n.getEvents&&(i=n.getEvents(this.item).map((e=>e.name)));const r=[];return(0,p.Ed)(yl.qv,(e=>r.push(e))),{items:e,eventOptions:this.createEventOptions(),eventMetas:t,functionArgumentsEditor:{shown:!1,width:600,functionDescription:null,eventIndex:0,actionIndex:0,args:{}},itemTag:"",existingItemTags:(0,p.UI)(this.schemeContainer.itemTags,(e=>({text:e}))),shapeEvents:i,dragging:{isCopying:!1,action:null,eventIndex:-1,actionIndex:-1,readyToDrop:!1,preview:{elementName:"",elementIcon:"",method:"",propertyName:""},dropTo:{eventIndex:-1,actionIndex:-1}},draggingOptions:r}},beforeMount(){document.addEventListener("keydown",this.onKeyboardDown),document.addEventListener("keyup",this.onKeyboardUp)},beforeDestroy(){document.removeEventListener("keydown",this.onKeyboardDown),document.removeEventListener("keyup",this.onKeyboardUp)},methods:{onKeyboardDown(e){Ll(e)&&(this.dragging.isCopying=!0)},onKeyboardUp(e){Ll(e)&&(this.dragging.isCopying=!1)},updateItem(e){this.schemeContainer.updateItem(this.item.id,"behavior.events",e)},createBehaviorEventMeta:e=>({collapsed:!1}),onItemTagsChange(e){this.$emit("item-field-changed","tags",(0,p.UI)(e,(e=>e.text)))},toggleBehaviorCollapse(e){this.eventMetas[e].collapsed=!this.eventMetas[e].collapsed,$l.save(`${this.schemeContainer.scheme.id}/${this.item.id}/${e}`,this.eventMetas[e].collapsed?1:0)},moveEventInOrder(e,t){this.updateItem((n=>{if(t<0||t>=n.behavior.events.length)return;let i=n.behavior.events[e];n.behavior.events[e]=n.behavior.events[t],n.behavior.events[t]=i,i=this.eventMetas[e],this.eventMetas[e]=this.eventMetas[t],this.eventMetas[t]=i,this.$forceUpdate()}))},findElement(e){const t=this.schemeContainer.findElementsBySelector(e,this.item);return t.length>0?t[0]:null},createEventOptions(){let e=[];const t=xa.Z.find(this.item.shape);if(t){const n=t.getEvents(this.item);n.length>500&&(n.length=500),e=_l.concat((0,p.UI)(n,(e=>({id:e.name,name:e.name}))))}return e.push({id:"custom-event",name:"Custom event ..."}),e},createMethodSuggestionsForElement(e){const t=this.findElement(e);if(!t)return[];const n=[];(0,p.Ed)(qa.Z.main,((e,i)=>{if("set"!==i&&"sendEvent"!==i&&!i.startsWith("_")){let r=!0;if(e.supportedShapes){let n=!1;for(let i=0;i<e.supportedShapes.length;i++)if(e.supportedShapes[i]===t.shape){n=!0;break}r=n}r&&(Array.isArray(e.menuOptions)?e.menuOptions.forEach((t=>{n.push({method:i,name:t.name,args:t.args,iconClass:"fas fa-running",description:t.description?t.description:e.description})})):n.push({method:i,name:e.name,iconClass:"fas fa-running",description:e.description}))}})),(0,p.Ed)(this.collectAllItemCustomEvents(t),(e=>{("component"!==t.shape||e!==Al.lK&&e!==Al.LM&&e!==Al.YL)&&n.push({method:"custom-event",name:e,event:e,iconClass:"fas fa-bell"})})),(0,p.Ed)(this.schemeContainer.scheme.scripts.functions,(e=>{n.push({method:"function",name:e.name,description:e.description,iconClass:"fa-solid fa-florin-sign"})})),n.sort(((e,t)=>e.name<t.name?-1:1));const i=this.createSetFunctionPropertySuggestions(t);return n.concat(i)},createSetFunctionPropertySuggestions(e){let t=[];(0,p.Ed)(yl.DD,((e,n)=>{t.push({method:"set",name:e.name?e.name:n,fieldPath:n,iconClass:"fas fa-cog"})}));const n=xa.Z.find(e.shape);return n&&(0,p.Ed)(n.args,((e,n)=>{!e.immutable&&(0,Wa.tx)(e.type)&&t.push({method:"set",name:e.name,fieldPath:`shapeProps.${n}`,iconClass:"fas fa-cog"})})),(0,p.Ed)(n.getTextSlots(e),(e=>{(0,p.Ed)(yl.eN,(n=>{t.push({method:"set",name:`Text / ${e.name} / ${n.name}`,fieldPath:`textSlots.${e.name}.${n.field}`,iconClass:"fas fa-cog"})}))})),Array.isArray(e.effects)&&(t=t.concat(this.createEffectPropertySuggestions(e.effects))),t.sort(((e,t)=>e.name<t.name?-1:1)),t},createEffectPropertySuggestions(e){const t=[],n=(0,kl.ao)();return e.forEach((e=>{const i=n[e.effect];i&&(0,p.Ed)(i.args,((n,i)=>{(0,Wa.tx)(n.type)&&t.push({method:"set",name:`Effect / ${e.name} / ${n.name}`,fieldPath:`effects.${e.id}.${i}`,iconClass:"fa-solid fa-wand-magic-sparkles"})}))})),t},collectAllItemCustomEvents(e){if(!e.behavior.events)return[];const t=(0,p.hX)(e.behavior.events,(e=>!this.isStandardEvent(e.event)));return(0,p.jj)((0,p.UI)(t,(e=>e.event)))},isStandardEvent(e){return(0,p.cq)(Tl,e)>=0||(0,p.cq)(this.shapeEvents,e)>=0},addBehaviorEvent(){this.updateItem((e=>{e.behavior.events||(e.behavior.events=[]);const t={id:Ua().generate(),event:"clicked",actions:[]};e.behavior.events.push(t),this.eventMetas.push(this.createBehaviorEventMeta(t)),this.emitChangeCommited(),this.$forceUpdate()}))},copyAllEvents(){xl("behavior-events",(0,p.UI)(this.item.behavior.events,Ol)).then((()=>{wl.Z.addInfoSystemMessage(this.$store,"Copied all events")}))},copyEvent(e){const t=this.item.behavior.events[e];xl("behavior-events",[Ol(t)]).then((()=>{const e=Ga.Z.standardEvents[t.event],n=e?e.name:t.event;wl.Z.addInfoSystemMessage(this.$store,`Copied "${n}" event`)}))},pasteEvents(){var e;(e="behavior-events",(navigator.clipboard.readText?navigator.clipboard.readText().catch((e=>bl)):Promise.resolve(bl)).then((t=>{try{const n=JSON.parse(t);if(n&&n.kind===e&&n.hasOwnProperty("data"))return n.data}catch(e){return null}}))).then((e=>{e&&e.length>0&&this.updateItem((t=>{(0,p.Ed)(e,(e=>{e.id=Ua().generate(),(0,p.Ed)(e.actions,(e=>{e.id=Ua().generate()})),t.behavior.events.push(e),this.eventMetas.push(this.createBehaviorEventMeta(e))})),c.Z.schemeChangeCommitted.$emit(this.editorId)}))}))},removeBehaviorEvent(e){this.updateItem((t=>{t.behavior.events.splice(e,1),this.eventMetas.splice(e,1),this.emitChangeCommited()}))},onBehaviorEventSelected(e,t){this.updateItem((n=>{"custom-event"===t.id?(n.behavior.events[e].event="Unknown event...",this.$nextTick((()=>{const t=document.getElementById(`custom-event-textfield-${n.id}-${e}`);t&&t.focus()}))):n.behavior.events[e].event=t.id,this.emitChangeCommited()}))},addActionToEvent(e){this.updateItem((t=>{const n=t.behavior.events[e];n.actions||(n.actions=[]);let i="self";n.actions.length>0&&(i=n.actions[n.actions.length-1].element),n.actions.push({id:Ua().generate(),element:i,method:"show",on:!0,args:(0,p.O3)(qa.Z.main.show.args,(e=>e.value))}),this.emitChangeCommited()}))},removeAction(e,t){this.updateItem((n=>{n.behavior.events[e].actions.splice(t,1),this.emitChangeCommited()}))},onActionElementSelected(e,t,n){this.updateItem((i=>{i.behavior.events[e].actions[t].element=n,this.emitChangeCommited()}))},onActionMethodSelected(e,t,n){c.Z.elementPick.canceled.$emit(this.editorId),this.updateItem((i=>{const r=i.behavior.events[e].actions[t];if(r){if("set"===n.method){r.method=n.method;const e={field:n.fieldPath,value:"",animated:!1,animationDuration:.2,transition:"ease-in-out",inBackground:!0},t=this.findElement(r.element);if(t)if(n.fieldPath.startsWith("effects.")){const i=(0,Wa.oR)(n.fieldPath);if(i){const n=(0,Wa.OZ)(t,i.effectId);if(n){const t=(0,kl.ao)()[n.effect],r=t.args[i.argName];t&&r&&(e.value=n.args[i.argName],e.animated=(0,Wa.fu)(r.type))}}}else{const i=(0,yl.u2)(xa.Z.find(t.shape),n.fieldPath);i&&(0,Wa.fu)(i.type)&&(e.animated=!0),e.value=Ha.Z.getObjectProperty(t,n.fieldPath)}r.args=e}else if("custom-event"===n.method)r.method="sendEvent",r.args={event:n.event};else if("function"===n.method){r.method="function:"+n.name,r.args={};const e=this.schemeContainer.scheme.scripts.functions.find((e=>e.name===n.name));e&&Array.isArray(e.args)&&e.args.forEach((e=>{r.args[e.name]=e.value}))}else{r.method=n.method;let i=n.args||{};r.args=Pl(Pl({},this.getDefaultArgsForMethod(r,n.method)),i);const o=this.findFirstElementPickerArgument(n.method);o&&c.Z.elementPick.requested.$emit(this.editorId,(e=>{r.args[o]=e,this.emitChangeCommited()})),"script"===n.method&&this.showFunctionArgumentsEditor(r,e,t)}this.emitChangeCommited()}}))},getDefaultArgsForMethod(e,t){let n=qa.Z.main;if(n[t]){const e=n[t].args;if(e){const t={};return(0,p.Ed)(e,((e,n)=>{t[n]=e.value})),t}}return{}},findFirstElementPickerArgument(e){const t=qa.Z.main;if(!t[e])return null;const n=t[e].args;if(!n)return null;for(let e in n)if(n.hasOwnProperty(e)&&"element"===n[e].type)return e;return null},getArgumentDescriptionForElement(e,t){const n=this.findElement(e);if(!n)return{type:"string"};if(t.startsWith("effects."))return(0,Wa.xz)(n,t);if(n&&n.shape){const e=(0,yl.u2)(xa.Z.find(n.shape),t);if(e)return e}return{type:"string"}},onArgumentPropertyChangeForSet(e,t,n,i){this.updateItem((r=>{r.behavior.events[e].actions[t].args[n]=i;const o=r.behavior.events[e].actions[t].args.field;this.emitChangeCommited(`${r.id}.behavior.events.${e}.actions.${t}.args.${o}`)}))},duplicateBehavior(e){this.updateItem((t=>{const n=Ha.Z.clone(t.behavior.events[e]);n.id=Ua().generate(),(0,p.Ed)(n.actions,(e=>{e.id=Ua().generate()})),t.behavior.events.push(n),this.eventMetas.push(this.createBehaviorEventMeta(n)),this.emitChangeCommited(),this.$forceUpdate()}))},emitChangeCommited(e){c.Z.item.changed.specific.$emit(this.editorId,this.item.id),c.Z.schemeChangeCommitted.$emit(this.editorId,e)},showFunctionArgumentsEditor(e,t,n){let i=qa.Z.main[e.method];if(e.method.startsWith("function:")){const t=e.method.substring(9),n=this.schemeContainer.scheme.scripts.functions.find((e=>e.name===t));n&&(i={name:n.name,description:n.description,args:{}},Array.isArray(n.args)&&n.args.forEach((e=>{i.args[e.name]=e})))}i||(i={args:{}}),this.functionArgumentsEditor.functionDescription=i,this.functionArgumentsEditor.args=e.args,this.functionArgumentsEditor.eventIndex=t,this.functionArgumentsEditor.actionIndex=n,i.editorComponent?this.functionArgumentsEditor.width=900:this.functionArgumentsEditor.width=600,this.functionArgumentsEditor.shown=!0},onFunctionArgumentsEditorChange(e,t){this.updateItem((n=>{const i=this.functionArgumentsEditor.eventIndex,r=this.functionArgumentsEditor.actionIndex;if(i<n.behavior.events.length){const o=n.behavior.events[i];r<o.actions.length&&(o.actions[r].args[e]=t)}c.Z.schemeChangeCommitted.$emit(this.editorId,`items.${n.id}.behavior.events.${i}.actions.${r}.args.${e}`)}))},prettyMethodName:e=>qa.Z.main[e]?qa.Z.main[e].name:e,onActionDraggerMouseDown(e,t,n){(0,Cl.E)(e).withDroppableClass("behavior-action-droppable").withDraggedElement(this.$refs.dragPreview).onDragStart((()=>{let e="Drop here";const i=document.getElementById(`behavior-action-container-${this.item.id}-${t}-${n}`);i&&(e=i.innerHTML),this.dragging.action=e;const r=this.item.behavior.events[t].actions[n],o=Ka(r.element,this.schemeContainer);this.dragging.preview.elementName=o.name,this.dragging.preview.elementIcon=o.iconClass,"set"===r.method?(this.dragging.preview.method=null,this.dragging.preview.propertyName=Dl(r.args.field,r.element,this.item,this.schemeContainer)):(this.dragging.preview.propertyName=null,this.dragging.preview.method=this.prettyMethodName(r.method)),this.dragging.eventIndex=t,this.dragging.actionIndex=n,this.dragging.dropTo.eventIndex=-1,this.dragging.dropTo.actionIndex=-1})).onDragOver(((e,t,n,i)=>{const r=parseInt(t.getAttribute("data-event-index")),o=t.getAttribute("data-action-index");if(o){const e=parseInt(o);this.onDragOverToAction(r,e,t,i)}else this.onDragOverToEvent(r)})).onDone((()=>{this.onDragEnd()})).build()},onActionDragStarted(e,t){let n="Drop here";const i=document.getElementById(`behavior-action-container-${this.item.id}-${e}-${t}`);i&&(n=i.innerHTML),this.dragging.action=n,this.dragging.eventIndex=e,this.dragging.actionIndex=t,this.dragging.dropTo.eventIndex=-1,this.dragging.dropTo.actionIndex=-1},onDragOverToEvent(e){this.dragging.dropTo.eventIndex=e,this.dragging.dropTo.actionIndex=0,this.dragging.readyToDrop=!(this.dragging.eventIndex===e&&0===this.dragging.actionIndex)},onDragOverToAction(e,t,n,i){this.dragging.dropTo.eventIndex=e,this.dragging.dropTo.actionIndex=t;const r=n.getBoundingClientRect();i-(r.top+r.height/2)>0&&(this.dragging.dropTo.actionIndex=t+1);let o=!0;this.dragging.eventIndex===this.dragging.dropTo.eventIndex&&(this.dragging.actionIndex!==this.dragging.dropTo.actionIndex&&this.dragging.actionIndex!==this.dragging.dropTo.actionIndex-1||(o=!1)),this.dragging.readyToDrop=o},onDragEnd(){this.dragging.eventIndex>=0&&this.dragging.actionIndex>=0&&this.dragging.dropTo.eventIndex>=0&&this.dragging.dropTo.actionIndex>=0&&(this.dragging.isCopying?this.copyAction(this.dragging.eventIndex,this.dragging.actionIndex,this.dragging.dropTo.eventIndex,this.dragging.dropTo.actionIndex):this.moveAction(this.dragging.eventIndex,this.dragging.actionIndex,this.dragging.dropTo.eventIndex,this.dragging.dropTo.actionIndex)),this.resetDragging()},resetDragging(){this.dragging.action=null,this.dragging.eventIndex=-1,this.dragging.actionIndex=-1,this.dragging.readyToDrop=!1,this.dragging.dropTo.eventIndex=-1,this.dragging.dropTo.actionIndex=-1},copyAction(e,t,n,i){this.updateItem((r=>{if(e===n&&t===i)return;const o=Ha.Z.clone(this.item.behavior.events[e].actions[t]);o.id=Ua().generate(),this.item.behavior.events[n].actions.splice(i,0,o),this.emitChangeCommited()}))},moveAction(e,t,n,i){this.updateItem((r=>{if(e===n&&t===i)return;const o=this.item.behavior.events[e].actions.splice(t,1)[0];e===n&&i>t&&(i-=1),this.item.behavior.events[n].actions.splice(i,0,o),this.emitChangeCommited()}))},jumpToElement(e){const t=this.schemeContainer.findFirstElementBySelector(e);t&&this.$emit("jumped-to-item",t)},toggleActionOnOff(e,t){this.updateItem((n=>{const i=n.behavior.events[e].actions[t];i.on=!i.on,this.$forceUpdate()}))},onItemDraggingChange(e){this.updateItem((t=>{t.behavior.dragging=e.id,this.$forceUpdate(),c.Z.schemeChangeCommitted.$emit(this.editorId)}))},onItemDraggingDropToSelected(e){this.updateItem((t=>{t.behavior.dropTo=e,this.$forceUpdate(),c.Z.schemeChangeCommitted.$emit(this.editorId)}))},onItemDraggingPathSelected(e){this.updateItem((t=>{t.behavior.dragPath=e,this.$forceUpdate(),c.Z.schemeChangeCommitted.$emit(this.editorId)}))},onItemDragAlignChange(e){this.updateItem((t=>{t.behavior.dragPathAlign=e,this.$forceUpdate(),c.Z.schemeChangeCommitted.$emit(this.editorId)}))},onItemDragRotationChange(e){this.updateItem((t=>{t.behavior.dragPathRotation=e,this.$forceUpdate(),c.Z.schemeChangeCommitted.$emit(this.editorId)}))}},filters:{toPrettyEventName:e=>Ga.Z.standardEvents[e]?Ga.Z.standardEvents[e].name:e,toPrettyMethod:(e,t)=>qa.Z.main[e]?qa.Z.main[e].name:e,toPrettyActionArgs(e,t){if(qa.Z.main[e.method]){const n=qa.Z.main[e.method];if(n.argsToShortString){const i=n.argsToShortString(e.args,t);return i.length>100?`( ${i.substring(0,100)} ... )`:`( ${i} )`}}return"( ... )"},toPrettyPropertyName:(e,t,n,i)=>Dl(e,t,n,i),functionToPrettyName:e=>e.startsWith("function:")?e.substring(9):e,toPrettyDraggingOptionName(e){const t=yl.qv[e];return t?t.name:yl.qv.none.name}},computed:{filteredItemTagsSuggestions(){const e=this.itemTag.toLowerCase();return this.existingItemTags.filter((t=>t.text.toLowerCase().indexOf(e)>=0))},itemTags(){return(0,p.UI)(this.item.tags,(e=>({text:e})))}}},Bl=Nl,Rl=(0,y.Z)(Bl,ja,[],!1,null,null,null).exports;var Zl=n(1179),Fl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("panel",{attrs:{uid:"default-styles",name:"Default Styles"}},e._l(e.defaultStyleSections,(function(t){return n("div",[n("ul",{staticClass:"shape-styles-preview"},e._l(t.styles,(function(t){return n("li",[n("div",{staticClass:"shape-style",on:{click:function(n){return e.applyStyle(t.style)}}},[n("svg",{attrs:{width:"70",height:"40"}},[n("advanced-fill",{attrs:{"fill-id":t.style.id,fill:t.style.fill,area:{x:4,y:4,w:62,h:32}}}),e._v(" "),n("rect",{attrs:{x:"4",y:"4",width:"62",height:"32",fill:t.previewFill,stroke:t.previewStroke,"stroke-width":"1"}})],1)])])})),0)])})),0),e._v(" "),e.userStylesEnabled?n("panel",{attrs:{uid:"user-styles",name:"User Styles"}},[n("span",{staticClass:"btn",on:{click:e.saveStyleFromItem}},[e._v("Add to Styles")]),e._v(" "),e.isEdit?n("span",{staticClass:"btn",on:{click:function(t){e.isEdit=!1}}},[n("i",{staticClass:"fas fa-edit"}),e._v(" Stop Edit")]):n("span",{staticClass:"btn",on:{click:function(t){e.isEdit=!0}}},[n("i",{staticClass:"fas fa-edit"}),e._v(" Edit")]),e._v(" "),n("ul",{staticClass:"shape-styles-preview"},e._l(e.stylePreviews,(function(t,i){return n("li",[n("div",{staticClass:"shape-style",on:{click:function(n){return e.applyUserStyle(t.style)}}},[e.isEdit?n("span",{staticClass:"link link-remove-style",on:{click:function(t){return e.removeStyle(i)}}},[n("i",{staticClass:"fas fa-times"})]):e._e(),e._v(" "),n("svg",{attrs:{width:"70",height:"40"}},[n("advanced-fill",{attrs:{"fill-id":t.style.id,fill:t.style.fill,area:{x:4,y:4,w:62,h:32}}}),e._v(" "),n("rect",{attrs:{x:"4",y:"4",width:"62",height:"32",fill:t.previewFill,stroke:t.previewStroke,"stroke-width":"1"}})],1)])])})),0)]):e._e()],1)};Fl._withStripped=!0;let jl=1;function zl(e,t,n){return{id:"simple-color-style-"+jl++,fill:{type:"solid",color:e},strokeColor:t,textColor:n}}function Ul(e,t,n,i){return{id:"gradient-color-style-"+jl++,fill:{type:"gradient",gradient:{colors:[{c:e,p:0},{c:t,p:100}],type:"linear",direction:0}},strokeColor:n,textColor:i}}const Hl=[{name:"Bright",styles:[zl("rgba(240,240,240,1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(38, 37, 37, 1)","rgba(30,30,30,1.0)","rgba(248, 248, 248, 1)"),zl("rgba(251, 99, 99, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(243, 180, 64, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(244, 254, 0, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(122, 255, 55, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(57, 219, 136, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(64, 236, 243, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(128, 157, 243, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(216, 128, 243, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)")]},{name:"Light",styles:[zl("rgba(212, 210, 210, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(114, 112, 112, 1)","rgba(30,30,30,1.0)","rgba(248, 248, 248, 1)"),zl("rgba(237, 168, 168, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(247, 208, 135, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(245, 249, 142, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(173, 245, 137, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(143, 245, 193, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(175, 247, 249, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(206, 215, 245, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)"),zl("rgba(244, 208, 255, 1)","rgba(30,30,30,1.0)","rgba(0,0,0,1.0)")]},{name:"Dark",styles:[zl("rgba(120, 116, 116, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(77, 76, 76, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(124, 39, 16, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(130, 80, 14, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(129, 140, 0, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(58, 120, 27, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(21, 108, 94, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(17, 100, 126, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(71, 106, 223, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),zl("rgba(106, 46, 124, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)")]},{name:"Gradient",styles:[Ul("rgba(151, 150, 150, 1)","rgba(247, 247, 247, 1)","rgba(94, 91, 91, 1)","rgba(0, 0, 0, 1)"),Ul("rgba(62, 62, 62, 1)","rgba(180, 180, 180, 1)","rgba(30,30,30,1.0)","rgba(254, 254, 254, 1)"),Ul("rgba(118, 38, 17, 1)","rgba(249, 143, 114, 1)","rgba(147, 22, 22, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(130, 80, 14, 1)","rgba(237, 192, 132, 1)","rgba(100, 75, 33, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(109, 118, 7, 1)","rgba(226, 235, 114, 1)","rgba(96, 93, 54, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(58, 120, 27, 1)","rgba(169, 233, 138, 1)","rgba(33, 84, 20, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(16, 85, 74, 1)","rgba(65, 214, 191, 1)","rgba(22, 90, 65, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(17, 100, 126, 1)","rgba(165, 223, 241, 1)","rgba(38, 81, 106, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(71, 106, 223, 1)","rgba(200, 211, 247, 1)","rgba(43, 65, 135, 1)","rgba(254, 254, 254, 1)"),Ul("rgba(106, 46, 124, 1)","rgba(239, 196, 251, 1)","rgba(122, 43, 135, 1)","rgba(254, 254, 254, 1)")]}];let Vl=null;const ql={props:{item:{type:Object},userStylesEnabled:{type:Boolean,default:!1}},components:{Panel:b,AdvancedFill:r.ZP},beforeMount(){this.init()},data(){return{isEdit:!1,previewItems:null,previewComponent:null,stylePreviews:[],defaultStyleSections:(0,p.UI)(Hl,(e=>({name:e.name,styles:(0,p.UI)(e.styles,this.convertStyleToPreview)})))}},methods:{init(){null===Vl&&this.userStylesEnabled?this.$store.state.apiClient.getStyles().then((e=>{Vl=e,this.stylePreviews=(0,p.UI)(e,this.convertStyleToPreview)})):this.stylePreviews=(0,p.UI)(Vl,this.convertStyleToPreview)},convertStyleToPreview:e=>({style:e,previewFill:(0,r.pz)(e.fill,e.id),previewStroke:e.strokeColor}),applyStyle(e){this.$emit("style-applied",e)},applyUserStyle(e){this.isEdit||this.applyStyle(e)},saveStyleFromItem(){if(this.stylePreviews.length>=100)return void wl.Z.addErrorSystemMessage(this.$store,"Cannot add style as you already have 100 styles. Please consider removing some.");const e=xa.Z.find(this.item.shape);if(!e)return;if(!("standard"===e.shapeType||e.args.fill&&"advanced-color"===e.args.fill.type&&e.args.strokeColor&&"color"===e.args.strokeColor))return;let t=null;const n=e.getTextSlots(this.item);if(n&&n.length>0){const e=n[0].name;this.item.textSlots[e]&&this.item.textSlots[e].color&&(t=this.item.textSlots[e].color)}this.$store.state.apiClient.saveStyle(this.item.shapeProps.fill,this.item.shapeProps.strokeColor,t).then((e=>{this.stylePreviews.push(this.convertStyleToPreview(e)),Vl.push(e)}))},removeStyle(e){const t=this.stylePreviews[e];if(!t)return;const n=t.style.id;this.$store.state.apiClient.deleteStyle(n).then((()=>{this.stylePreviews.splice(e,1),this.stylePreviews=(0,p.hX)(this.stylePreviews,(e=>e.style.id!==n))})),Vl=(0,p.hX)(Vl,(e=>e.id!==n))}}},Wl=(0,y.Z)(ql,Fl,[],!1,null,null,null).exports;var Gl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{title:e.isAdding?"Add effect":"Edit Effect",primaryButton:e.isAdding?"Add Effect":null,closeName:e.isAdding?"Cancel":"Close",width:400,useMask:!1},on:{"primary-submit":e.addEffect,close:function(t){return e.$emit("close")}}},[n("div",{staticClass:"section"},[n("div",{staticClass:"ctrl-label"},[e._v("Effect")]),e._v(" "),n("select",{domProps:{value:e.effectId},on:{input:function(t){return e.onEffectIdChanged(arguments[0].target.value)}}},e._l(e.knownEffects,(function(t){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),e._v(" "),e.description?n("div",{staticClass:"hint hint-small"},[e._v(e._s(e.description))]):e._e(),e._v(" "),n("div",{staticClass:"ctrl-label"},[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.effectName,expression:"effectName"}],staticClass:"textfield",domProps:{value:e.effectName},on:{input:function(t){t.target.composing||(e.effectName=t.target.value)}}}),e._v(" "),n("EffectEditor",{key:"effect-editor-"+e.effectId,attrs:{editorId:e.editorId,schemeContainer:e.schemeContainer,effectId:e.effectId,effectArgs:e.effectArgs},on:{"effect-arg-changed":e.onEffectArgEdited}})],1)};Gl._withStripped=!0;var Jl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"properties-table"},[n("tbody",e._l(e.effectArgDefinitions,(function(t,i){return n("tr",["color-matrix"!==t.type?n("td",{staticClass:"label",attrs:{width:"50%"}},[e._v("\n                    "+e._s(t.name)+"\n                    "),t.description?n("tooltip",[e._v(e._s(t.description))]):e._e()],1):e._e(),e._v(" "),n("td",{staticClass:"value",attrs:{width:"50%",colspan:"color-matrix"===t.type?2:1}},[n("PropertyInput",{attrs:{editorId:e.editorId,descriptor:t,value:e.effectArgs[i],schemeContainer:e.schemeContainer},on:{input:function(t){return e.onPropChange(i,arguments[0])}}})],1)])})),0)])])};Jl._withStripped=!0;var Kl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["string"===e.descriptor.type?n("input",{staticClass:"textfield",attrs:{disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.emitValue(arguments[0].target.value)}}}):e._e(),e._v(" "),"image"===e.descriptor.type?n("input",{staticClass:"textfield",attrs:{disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.emitValue(arguments[0].target.value)}}}):e._e(),e._v(" "),"number"===e.descriptor.type?n("NumberTextfield",{attrs:{value:e.value,disabled:e.disabled,min:e.minValue,max:e.maxValue},on:{changed:function(t){return e.emitValue(arguments[0])}}}):e._e(),e._v(" "),"color"===e.descriptor.type?n("ColorPicker",{attrs:{editorId:e.editorId,color:e.value,disabled:e.disabled},on:{input:function(t){return e.emitValue(arguments[0])}}}):e._e(),e._v(" "),"advanced-color"===e.descriptor.type?n("AdvancedColorEditor",{attrs:{editorId:e.editorId,value:e.value,disabled:e.disabled},on:{changed:function(t){return e.emitValue(arguments[0])}}}):e._e(),e._v(" "),"boolean"===e.descriptor.type?n("input",{attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:e.value},on:{input:function(t){return e.emitValue(arguments[0].srcElement.checked)}}}):e._e(),e._v(" "),"choice"===e.descriptor.type?n("select",{attrs:{disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.emitValue(arguments[0].target.value)}}},e._l(e.descriptor.options,(function(t){return n("option",[e._v(e._s(t))])})),0):e._e(),e._v(" "),"stroke-pattern"===e.descriptor.type?n("StrokePatternDropdown",{attrs:{editorId:e.editorId,value:e.value,disabled:e.disabled},on:{selected:function(t){return e.emitValue(arguments[0])}}}):e._e(),e._v(" "),"path-cap"===e.descriptor.type?n("PathCapDropdown",{attrs:{value:e.value,"is-source":!e.leftOriented,"is-thick":e.isThickConnector,width:"16px",height:16,disabled:e.disabled},on:{selected:function(t){return e.emitValue(arguments[0])}}}):e._e(),e._v(" "),"element"===e.descriptor.type?n("ElementPicker",{attrs:{editorId:e.editorId,element:e.value,"use-self":!1,"allow-none":!0,"scheme-container":e.schemeContainer,disabled:e.disabled,"excluded-item-ids":[e.itemId]},on:{selected:function(t){return e.emitValue(arguments[0])}}}):e._e(),e._v(" "),"scheme-ref"===e.descriptor.type?n("DiagramPicker",{key:"item-props-diagram-picker-"+e.itemId+"-"+e.value,attrs:{diagramId:e.value,disabled:e.disabled},on:{"diagram-selected":e.onDiagramPicked}}):e._e(),e._v(" "),"color-matrix"===e.descriptor.type?n("ColorMatrix",{attrs:{matrix:e.value},on:{changed:function(t){return e.emitValue(arguments[0])}}}):e._e()],1)};Kl._withStripped=!0;var Ql=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dropdown",{attrs:{options:e.patternOptions},on:{selected:function(t){return e.$emit("selected",arguments[0].name)}}},[n("div",{domProps:{innerHTML:e._s(e.selectedPatternHtml)}})])};Ql._withStripped=!0;const Yl=[];(0,p.Ed)(o.Z.patterns,(e=>{Yl.push({name:e,html:o.Z.generateStrokeHtml(e,2,15,150,30)})}));const Xl={props:{value:{type:String},width:{type:Number,default:140}},components:{Dropdown:Va.Z},data:()=>({patternOptions:Ha.Z.clone(Yl)}),computed:{selectedPatternHtml(){return o.Z.generateStrokeHtml(this.value,2,6,this.width,15)}}},ec=(0,y.Z)(Xl,Ql,[],!1,null,null,null).exports;var tc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"color-matrix"},[n("div",{staticClass:"color-component-selector"},[n("div",{staticClass:"ctrl-label"},[e._v("Channel")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentComponent,expression:"currentComponent"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.currentComponent=t.target.multiple?n:n[0]}}},e._l(e.colorComponents,(function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])})),0)]),e._v(" "),n("div",{staticClass:"ctrl-label"},[e._v("Channel impact")]),e._v(" "),n("div",{staticClass:"color-component-inputs"},[n("div",{staticClass:"color-component-field"},[n("span",{staticClass:"label"},[e._v(e._s(e.currentComponent)+" to red")]),e._v(" "),n("div",[n("div",{staticClass:"slider-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.red,expression:"red"}],staticClass:"slider",attrs:{type:"range",min:"-200",max:"200"},domProps:{value:e.red},on:{input:function(t){return e.onSliderChange("red",arguments[0].target.value)},__r:function(t){e.red=t.target.value}}}),e._v(" "),n("input",{staticClass:"slider-text",attrs:{type:"text"},domProps:{value:e.redText},on:{input:function(t){return e.onSliderTextChange("red",arguments[0].target.value)}}})])])]),e._v(" "),n("div",{staticClass:"color-component-field"},[n("span",{staticClass:"label"},[e._v(e._s(e.currentComponent)+" to green")]),e._v(" "),n("div",[n("div",{staticClass:"slider-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.green,expression:"green"}],staticClass:"slider",attrs:{type:"range",min:"-200",max:"200"},domProps:{value:e.green},on:{input:function(t){return e.onSliderChange("green",arguments[0].target.value)},__r:function(t){e.green=t.target.value}}}),e._v(" "),n("input",{staticClass:"slider-text",attrs:{type:"text"},domProps:{value:e.greenText},on:{input:function(t){return e.onSliderTextChange("green",arguments[0].target.value)}}})])])]),e._v(" "),n("div",{staticClass:"color-component-field"},[n("span",{staticClass:"label"},[e._v(e._s(e.currentComponent)+" to blue")]),e._v(" "),n("div",[n("div",{staticClass:"slider-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.blue,expression:"blue"}],staticClass:"slider",attrs:{type:"range",min:"-200",max:"200"},domProps:{value:e.blue},on:{input:function(t){return e.onSliderChange("blue",arguments[0].target.value)},__r:function(t){e.blue=t.target.value}}}),e._v(" "),n("input",{staticClass:"slider-text",attrs:{type:"text"},domProps:{value:e.blueText},on:{input:function(t){return e.onSliderTextChange("blue",arguments[0].target.value)}}})])])]),e._v(" "),n("div",{staticClass:"color-component-field"},[n("span",{staticClass:"label"},[e._v(e._s(e.currentComponent)+" to alpha")]),e._v(" "),n("div",[n("div",{staticClass:"slider-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.alpha,expression:"alpha"}],staticClass:"slider",attrs:{type:"range",min:"-200",max:"200"},domProps:{value:e.alpha},on:{input:function(t){return e.onSliderChange("alpha",arguments[0].target.value)},__r:function(t){e.alpha=t.target.value}}}),e._v(" "),n("input",{staticClass:"slider-text",attrs:{type:"text"},domProps:{value:e.alphaText},on:{input:function(t){return e.onSliderTextChange("alpha",arguments[0].target.value)}}})])])])])])};tc._withStripped=!0;const nc={red:0,green:1,blue:2,alpha:3},ic={props:["matrix"],components:{},data(){return{colorComponents:["red","green","blue","alpha"],currentComponent:"red",red:100*this.matrix[0][0],green:100*this.matrix[0][1],blue:100*this.matrix[0][2],alpha:100*this.matrix[0][3],redText:this.matrix[0][0],greenText:this.matrix[0][1],blueText:this.matrix[0][2],alphaText:this.matrix[0][3]}},methods:{selectColorComponent(e){const t=nc[e];this.red=100*this.matrix[t][0],this.green=100*this.matrix[t][1],this.blue=100*this.matrix[t][2],this.alpha=100*this.matrix[t][3],this.redText=this.red/100,this.greenText=this.green/100,this.blueText=this.blue/100,this.alphaText=this.alpha/100,this.$forceUpdate()},onValueChange(e,t){const n=nc[this.currentComponent],i=Ha.Z.clone(this.matrix);i[n][e]=t/100,this.$emit("changed",i)},onSliderTextChange(e,t){let n=parseFloat(t);isNaN(n)&&(n=0);const i=a.Z.clamp(n,-2,2);"red"===e?(this.red=100*i,this.redText=t):"green"===e?(this.green=100*i,this.greenText=t):"blue"===e?(this.blue=100*i,this.blueText=t):"alpha"===e&&(this.alpha=100*i,this.alphaText=t)},onSliderChange(e,t){"red"===e?this.redText=t/100:"green"===e?this.greenText=t/100:"blue"===e?this.blueText=t/100:"alpha"===e&&(this.alphaText=t/100)}},watch:{currentComponent(e){this.selectColorComponent(e)},red(e){this.onValueChange(0,e)},green(e){this.onValueChange(1,e)},blue(e){this.onValueChange(2,e)},alpha(e){this.onValueChange(3,e)}}},rc=ic,oc=(0,y.Z)(rc,tc,[],!1,null,null,null).exports,sc={props:{editorId:{type:String,required:!0},descriptor:{type:Object,required:!0},schemeContainer:{type:Object,required:!0},value:[Number,String,Object,Boolean],disabled:{type:Boolean,default:!1},leftOriented:{type:Boolean,default:!1},itemId:{type:String,defalut:null,required:!1},shapeProps:{type:Object,required:!1}},components:{NumberTextfield:ka.Z,ColorPicker:Fa.Z,AdvancedColorEditor:el.Z,StrokePatternDropdown:ec,PathCapDropdown:ml,ElementPicker:Ya,ColorMatrix:oc,DiagramPicker:sl},methods:{emitValue(e){this.$emit("input",e)},onDiagramPicked(e){this.emitValue(e.id)}},computed:{minValue(){return this.descriptor.hasOwnProperty("min")?this.descriptor.min:null},maxValue(){return this.descriptor.hasOwnProperty("max")?this.descriptor.max:null},isThickConnector(){return!(!this.shapeProps||!this.shapeProps.thick)}}},ac=(0,y.Z)(sc,Kl,[],!1,null,null,null).exports,lc={props:["editorId","effectId","effectArgs","schemeContainer"],components:{PropertyInput:ac,Tooltip:x.Z},data(){const e=(0,kl.Bn)(this.effectId);return{effectArgDefinitions:Ha.Z.clone(e.args)}},methods:{onPropChange(e,t){this.$emit("effect-arg-changed",e,t)}}},cc=(0,y.Z)(lc,Jl,[],!1,null,null,null).exports;function hc(){const e=[];return(0,p.Ed)((0,kl.ao)(),((t,n)=>{e.push({id:n,name:t.name})})),e}const dc={components:{Modal:ma.Z,EffectEditor:cc},props:{editorId:{type:String,required:!0},title:{type:String,default:"Add effect"},isAdding:{type:Boolean,default:!0},effectId:{type:String,required:!0},name:{type:String,required:!0},effectArgs:{type:Object,required:!0},schemeContainer:{type:Object,required:!0}},data(){const e=(0,kl.Bn)(this.effectId);return{knownEffects:hc(),effectName:this.name,description:e.description}},methods:{addEffect(){this.$emit("effect-submited",{id:Ua().generate(),effect:this.effectId,name:this.effectName,args:this.effectArgs})},onEffectArgEdited(e,t){this.$emit("effect-arg-changed",e,t)},onEffectIdChanged(e){this.$emit("effect-id-changed",e)}},watch:{effectName(e){this.$emit("effect-name-changed",e)}}},uc=(0,y.Z)(dc,Gl,[],!1,null,null,null).exports;var pc=n(1757),fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"hint hint-small"},[e._v("\n        Auto-layout lets you define rules by which the positioning of the item should be adjusted, depending on the changes in the document\n    ")]),e._v(" "),e.item.autoLayout&&e.item.autoLayout.on?n("div",[n("span",{staticClass:"btn btn-danger",on:{click:e.turnAutoLayoutOff}},[e._v("Disable auto-layout")]),e._v(" "),n("div",{staticClass:"auto-layout-editor-plot"},[n("table",[n("tbody",[n("tr",[n("td"),e._v(" "),n("td",{staticClass:"guide-top guide-side",class:["guide-type-"+e.topGuide.type]},[n("div",{staticClass:"guide-container"},[n("span",{staticClass:"guide"}),e._v(" "),n("GuideLabel",{key:e.topGuide.id,attrs:{guide:e.topGuide,guideOptions:e.sideVerticalGuideOptions},on:{"value-changed":function(t){return e.onGuideValueChange(arguments[0],"top","relTop")},"type-selected":e.onTopTypeChange}})],1)]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",{staticClass:"guide-left guide-side",class:["guide-type-"+e.leftGuide.type]},[n("div",{staticClass:"guide-container"},[n("span",{staticClass:"guide"}),e._v(" "),n("GuideLabel",{key:e.leftGuide.id,attrs:{guide:e.leftGuide,guideOptions:e.sideHorizontalGuideOptions},on:{"value-changed":function(t){return e.onGuideValueChange(arguments[0],"left","relLeft")},"type-selected":e.onLeftTypeChange}})],1)]),e._v(" "),n("td",{staticClass:"guide-center"},[n("div",{staticClass:"guide-container"},[n("div",{staticClass:"box"},[n("GuideLabel",{key:e.widthGuide.id,staticClass:"label-width",attrs:{guide:e.widthGuide,guideOptions:e.sizeGuideOptions},on:{"value-changed":function(t){return e.onGuideValueChange(arguments[0],"width","relWidth")},"type-selected":e.onWidthTypeChange}},[n("i",{staticClass:"label-width-arrow fa-solid fa-angle-right"})]),e._v(" "),n("GuideLabel",{key:e.heightGuide.id,staticClass:"label-height",attrs:{guide:e.heightGuide,guideOptions:e.sizeGuideOptions},on:{"value-changed":function(t){return e.onGuideValueChange(arguments[0],"height","relHeight")},"type-selected":e.onHeightTypeChange}},[n("i",{staticClass:"label-height-arrow fa-solid fa-angle-down"})])],1)])]),e._v(" "),n("td",{staticClass:"guide-right guide-side",class:["guide-type-"+e.rightGuide.type]},[n("div",{staticClass:"guide-container"},[n("span",{staticClass:"guide"}),e._v(" "),n("GuideLabel",{key:e.rightGuide.id,attrs:{guide:e.rightGuide,guideOptions:e.sideHorizontalGuideOptions},on:{"value-changed":function(t){return e.onGuideValueChange(arguments[0],"right","relRight")},"type-selected":e.onRightTypeChange}})],1)])]),e._v(" "),n("tr",[n("td"),e._v(" "),n("td",{staticClass:"guide-bottom guide-side",class:["guide-type-"+e.bottomGuide.type]},[n("div",{staticClass:"guide-container"},[n("span",{staticClass:"guide"}),e._v(" "),n("GuideLabel",{key:e.bottomGuide.id,attrs:{guide:e.bottomGuide,guideOptions:e.sideVerticalGuideOptions},on:{"value-changed":function(t){return e.onGuideValueChange(arguments[0],"bottom","relBottom")},"type-selected":e.onBottomTypeChange}})],1)]),e._v(" "),n("td")])])])])]):n("div",[e.autoLayoutAllowed?e._e():n("div",{staticClass:"msg msg-info"},[e._v("\n            Auto-layout is not available for this item. To make use of auto-layout make sure that the item is attached to any other item.\n        ")]),e._v(" "),n("span",{staticClass:"btn btn-secondary",class:{disabled:!e.autoLayoutAllowed},on:{click:e.turnAutoLayoutOn}},[e._v("Enable auto-layout")])])])};fc._withStripped=!0;var mc=n(9087),gc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"label"},[e.guide.number?n("span",{ref:"input",staticClass:"guide-input",attrs:{contenteditable:"true"},on:{keydown:e.onValueKeyPress,keyup:e.onValueKeyUp}},[e._v(e._s(e.guide.value))]):e._e(),e._v(" "),n("Dropdown",{attrs:{inline:!0,borderless:!0,hoverEffect:!1,searchEnabled:!1,options:e.filteredOptions},on:{selected:e.onGuideTypeSelected}},[n("i",{class:e.guide.icon})]),e._v(" "),e._t("default")],2)};gc._withStripped=!0;const vc={props:{guide:{type:Object,required:!0},guideOptions:{type:Array,required:!0}},components:{Dropdown:Va.Z},data(){return{filteredOptions:this.guideOptions.filter((e=>e.type!==this.guide.type))}},methods:{onGuideTypeSelected(e){this.$emit("type-selected",e)},onValueKeyPress(e){const t=e.charCode;(t<45||t>57||47===t)&&e.preventDefault()},onValueKeyUp(e){const t=parseInt(this.$refs.input.innerHTML);isNaN(t)||this.$emit("value-changed",t)}}},yc=vc,bc=(0,y.Z)(yc,gc,[],!1,null,null,null).exports,xc="fa-solid fa-xmark",wc="fa-solid fa-ruler-combined",Ac="fa-solid fa-percent",Cc="fa-solid fa-left-right",kc="fa-solid fa-up-down",Sc={props:{item:{type:Object,required:!0},editorId:{type:String,required:!0},schemeContainer:{type:Object,required:!0}},components:{ElementPicker:Ya,NumberTextfield:ka.Z,GuideLabel:bc},data(){const e=this.item.meta&&this.item.meta.parentId?this.schemeContainer.findItemById(this.item.meta.parentId):null;return{autoLayoutAllowed:!!e,parentItem:e,leftGuide:this.buildLeftGuide(),rightGuide:this.buildRightGuide(),topGuide:this.buildTopGuide(),bottomGuide:this.buildBottomGuide(),widthGuide:this.buildWidthGuide(),heightGuide:this.buildHeightGuide(),sideHorizontalGuideOptions:[{type:"removed",name:"Remove",iconClass:xc},{type:"absolute",name:"Absolute",iconClass:wc},{type:"relative",name:"Relative",iconClass:Ac},{type:"centered",name:"Centered",iconClass:Cc}],sideVerticalGuideOptions:[{type:"removed",name:"Remove",iconClass:xc},{type:"absolute",name:"Absolute",iconClass:wc},{type:"relative",name:"Relative",iconClass:Ac},{type:"centered",name:"Centered",iconClass:kc}],sizeGuideOptions:[{type:"removed",name:"Remove",iconClass:xc},{type:"absolute",name:"Absolute",iconClass:wc},{type:"relative",name:"Relative",iconClass:Ac}]}},methods:{updateItem(){this.schemeContainer.readjustItemAndDescendants(this.item.id),this.schemeContainer.updateEditBox(),this.schemeContainer.reindexItems(),c.Z.item.changed.specific.$emit(this.editorId,this.item.id,"area"),c.Z.schemeChangeCommitted.$emit(this.editorId,`items.${this.item.id}.autoLayout`)},rebuildAllGuides(){this.leftGuide=this.buildLeftGuide(),this.rightGuide=this.buildRightGuide(),this.topGuide=this.buildTopGuide(),this.bottomGuide=this.buildBottomGuide(),this.widthGuide=this.buildWidthGuide(),this.heightGuide=this.buildHeightGuide()},onTopTypeChange(e){"centered"===e.type?(0,mc.wK)(this.item,this.parentItem):"removed"===e.type?(0,mc.rh)(this.item,this.parentItem):"absolute"===e.type?(0,mc.Xs)(this.item,this.parentItem):"relative"===e.type&&(0,mc.vZ)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides()},onBottomTypeChange(e){"centered"===e.type?(0,mc.wK)(this.item,this.parentItem):"removed"===e.type?(0,mc.tA)(this.item,this.parentItem):"absolute"===e.type?(0,mc.u1)(this.item,this.parentItem):"relative"===e.type&&(0,mc.ZU)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides()},onLeftTypeChange(e){"centered"===e.type?(0,mc.X9)(this.item,this.parentItem):"removed"===e.type?(0,mc.BH)(this.item,this.parentItem):"absolute"===e.type?(0,mc.ks)(this.item,this.parentItem):"relative"===e.type&&(0,mc.RL)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides()},onRightTypeChange(e){"centered"===e.type?(0,mc.X9)(this.item,this.parentItem):"removed"===e.type?(0,mc.xH)(this.item,this.parentItem):"absolute"===e.type?(0,mc.Yn)(this.item,this.parentItem):"relative"===e.type&&(0,mc.zD)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides()},onWidthTypeChange(e){"removed"===e.type?(0,mc.vf)(this.item,this.parentItem):"absolute"===e.type?(0,mc.qO)(this.item,this.parentItem):"relative"===e.type&&(0,mc.o0)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides()},onHeightTypeChange(e){"removed"===e.type?(0,mc.sM)(this.item,this.parentItem):"absolute"===e.type?(0,mc.SU)(this.item,this.parentItem):"relative"===e.type&&(0,mc.A9)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides()},onGuideValueChange(e,...t){for(let n=0;n<t.length;n++){const i=t[n];if(this.item.autoLayout.rules.hasOwnProperty(i))return this.item.autoLayout.rules[i]=e,this.schemeContainer.readjustItemAndDescendants(this.item.id),c.Z.schemeChangeCommitted.$emit(this.editorId,`items.${this.item.id}.autoLayout`),this.schemeContainer.updateEditBox(),void this.schemeContainer.delayFullReindex()}},turnAutoLayoutOn(){this.parentItem&&(this.item.autoLayout=(0,mc.So)(this.item,this.parentItem),this.updateItem(),this.rebuildAllGuides())},turnAutoLayoutOff(){this.item.autoLayout?(this.item.autoLayout.on=!1,this.item.autoLayout.rules={},this.updateItem(),this.rebuildAllGuides()):this.item.autoLayout={on:!1,rules:{}}},buildLeftGuide(){return this.item.autoLayout.rules.hasOwnProperty("left")?{id:Ua().generate(),type:"absolute",value:this.item.autoLayout.rules.left,number:!0,icon:wc}:this.item.autoLayout.rules.hasOwnProperty("relLeft")?{id:Ua().generate(),type:"relative",value:this.item.autoLayout.rules.relLeft,number:!0,icon:Ac}:this.item.autoLayout.rules.hcenter?{id:Ua().generate(),type:"centered",value:"",icon:Cc}:{id:Ua().generate(),type:"removed",value:"",icon:xc}},buildRightGuide(){return this.item.autoLayout.rules.hasOwnProperty("right")?{id:Ua().generate(),type:"absolute",value:this.item.autoLayout.rules.right,number:!0,icon:wc}:this.item.autoLayout.rules.hasOwnProperty("relRight")?{id:Ua().generate(),type:"relative",value:this.item.autoLayout.rules.relRight,number:!0,icon:Ac}:this.item.autoLayout.rules.hcenter?{id:Ua().generate(),type:"centered",value:"",icon:Cc}:{id:Ua().generate(),type:"removed",value:"",icon:xc}},buildTopGuide(){return this.item.autoLayout.rules.hasOwnProperty("top")?{id:Ua().generate(),type:"absolute",value:this.item.autoLayout.rules.top,number:!0,icon:wc}:this.item.autoLayout.rules.hasOwnProperty("relTop")?{id:Ua().generate(),type:"relative",value:this.item.autoLayout.rules.relTop,number:!0,icon:Ac}:this.item.autoLayout.rules.vcenter?{id:Ua().generate(),type:"centered",value:"",icon:kc}:{id:Ua().generate(),type:"removed",value:"",icon:xc}},buildBottomGuide(){return this.item.autoLayout.rules.hasOwnProperty("bottom")?{id:Ua().generate(),type:"absolute",value:this.item.autoLayout.rules.bottom,number:!0,icon:wc}:this.item.autoLayout.rules.hasOwnProperty("relBottom")?{id:Ua().generate(),type:"relative",value:this.item.autoLayout.rules.relBottom,number:!0,icon:Ac}:this.item.autoLayout.rules.vcenter?{id:Ua().generate(),type:"centered",value:"",icon:kc}:{id:Ua().generate(),type:"removed",value:"",icon:xc}},buildWidthGuide(){return this.item.autoLayout.rules.hasOwnProperty("width")?{id:Ua().generate(),type:"absolute",value:this.item.autoLayout.rules.width,number:!0,icon:wc}:this.item.autoLayout.rules.hasOwnProperty("relWidth")?{id:Ua().generate(),type:"relative",value:this.item.autoLayout.rules.relWidth,number:!0,icon:Ac}:{id:Ua().generate(),type:"removed",value:"",icon:xc}},buildHeightGuide(){return this.item.autoLayout.rules.hasOwnProperty("height")?{id:Ua().generate(),type:"absolute",value:this.item.autoLayout.rules.height,number:!0,icon:wc}:this.item.autoLayout.rules.hasOwnProperty("relHeight")?{id:Ua().generate(),type:"relative",value:this.item.autoLayout.rules.relHeight,number:!0,icon:Ac}:{id:Ua().generate(),type:"removed",value:"",icon:xc}}},computed:{}},Pc=Sc,Ic=(0,y.Z)(Pc,fc,[],!1,null,null,null).exports,Ec=[{name:"description",displayName:"Description",icon:"fas fa-paragraph"},{name:"shape",displayName:"Shape Properties",icon:"fas fa-vector-square"},{name:"behavior",displayName:"Behavior (Script)",icon:"fas fa-running"},{name:"auto-layout",displayName:"Auto-layout",icon:"fa-solid fa-ruler"},{name:"effects",displayName:"Effects",icon:"fa-solid fa-wand-magic-sparkles"},{name:"styles",displayName:"Style Palette",icon:"fas fa-palette"}],_c=(0,p.UI)(Ec,(e=>e.name)),Tc=(0,m.Ue)("tabs-state",100),$c={props:{editorId:{type:String,required:!0},item:{type:Object},schemeContainer:{type:Object},userStylesEnabled:{type:Boolean,default:!1}},components:{Panel:b,Tooltip:x.Z,ColorPicker:Fa.Z,PositionPanel:Pa,LinksPanel:Za,GeneralPanel:Aa,BehaviorProperties:Rl,StylesPalette:Wl,NumberTextfield:ka.Z,EditEffectModal:uc,PropertyInput:ac,AutoLayoutProperties:Ic},beforeMount(){let e=Tc.get(this.schemeContainer.scheme.id,_c[0]);(0,p.cq)(_c,e)<0&&(e=_c[0]),this.currentTab=e,c.Z.behaviorPanel.requested.$on(this.editorId,this.onBehaviorPanelRequested),c.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChanged)},beforeDestroy(){c.Z.behaviorPanel.requested.$off(this.editorId,this.onBehaviorPanelRequested),c.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChanged)},mounted(){this.oldShape=this.item.shape,this.shapeComponent=xa.Z.find(this.item.shape),this.updateShapePropsDependencies()},data(){const e=xa.Z.find(this.item.shape),t=xa.Z.getShapeIds();return t.sort(),{tabs:Ec,knownCursors:["default","pointer","grab","crosshair","not-allowed","zoom-in","help","wait","text"],knownShapes:t,currentTab:"description",shapeComponent:e,oldShape:this.item.shape,knownBlendModes:Ha.Z.clone(Zl.W),shapePropsControlStates:e?(0,p.O3)(e.args,(()=>({shown:!0}))):{},knownInteractionModes:yl.pp.values(),behaviorPanelRevision:1,editEffectModal:{effectId:"drop-shadow",name:"",isAdding:!0,shown:!1,currentEffectIndex:-1,effectArgs:{}},shapePropsEditorKey:1}},methods:{updateCurrentItem(e,t){this.schemeContainer.updateItem(this.item.id,e,t)},onItemChanged(){this.shapePropsEditorKey+=1,this.$forceUpdate()},emitItemFieldChange(e,t){this.$emit("item-field-changed",e,t)},onItemMutated(){c.Z.item.changed.specific.$emit(this.editorId,this.item.id),c.Z.schemeChangeCommitted.$emit(this.editorId),this.updateShapePropsDependencies(),this.$forceUpdate()},onShapePropChange(e,t,n){this.updateCurrentItem(`shapeProps.${e}`,(i=>{const r=xa.Z.find(i.shape);if(r&&r.args[e]){const t=r.args[e];if(t.onUpdate){const r=i.shapeProps[e];i.shapeProps[e]=n,t.onUpdate(this.$store,i,n,r),c.Z.item.changed.specific.$emit(this.editorId,i.id,`shapeProps.${e}`)}}"color"!==t&&"advanced-color"!==t&&this.schemeContainer.updateEditBox(),this.$emit("shape-prop-changed",e,t,n),this.updateShapePropsDependencies(),this.$forceUpdate()}))},updateShapePropsDependencies(){this.shapeComponent&&(0,p.Ed)(this.shapeComponent.args,((e,t)=>{if(e.depends){let n=!0;(0,p.Ed)(e.depends,((e,t)=>{if(Array.isArray(e)){let i=!1;for(let n=0;n<e.length&&!i;n++)i=this.item.shapeProps[t]===e[n];n&=i}else n&=this.item.shapeProps[t]===e})),this.shapePropsControlStates[t]?this.shapePropsControlStates[t].shown=n:this.shapePropsControlStates[t]={shown:n}}}))},isArgumentHidden:e=>"path-points"===e.type||"animations"===e.type||e.hasOwnProperty("hidden")&&!0===e.hidden,onStyleApplied(e){this.$emit("item-style-applied",e)},onPositionPanelAreaChanged(e,t){const n=this.schemeContainer.editBox;if(n){if("w"===e||"h"===e)n.area[e]=t,this.schemeContainer.updateEditBoxItems(n,!1,pc.pf),1===n.items.length&&wl.Z.setItemControlPoints(this.$store,n.items[0]);else if("r"===e){n.area.r=t;const e=a.Z.worldPointInArea(n.pivotPoint.x*n.area.w,n.pivotPoint.y*n.area.h,n.area);n.area.x+=n.worldPivotPoint.x-e.x,n.area.y+=n.worldPivotPoint.y-e.y,this.schemeContainer.updateEditBoxItems(n,!1,pc.hG)}else n.area[e]=t,this.schemeContainer.updateEditBoxItems(n,!1,pc.W4);c.Z.schemeChangeCommitted.$emit(this.editorId,`editbox.area.${e}`)}},onPositionPanelScaleChanged(e,t){if(this.schemeContainer.editBox&&1===this.schemeContainer.editBox.items.length){const n=this.schemeContainer.editBox.items[0];e>0&&(n.area.sx=e),t>0&&(n.area.sy=t),c.Z.item.changed.specific.$emit(this.editorId,n.id,"area.sx"),c.Z.schemeChangeCommitted.$emit(this.editorId,"editbox.area.s"),this.schemeContainer.updateEditBoxAreaOnly(),this.schemeContainer.updateChildTransforms(this.schemeContainer.editBox.items[0]),c.Z.editBox.updated.$emit(this.editorId)}},onJumpedToItem(e){e&&this.schemeContainer.selectItem(e)},onBehaviorPanelRequested(){this.behaviorPanelRevision+=1,this.currentTab="behavior"},startAddingEffect(){this.updateCurrentItem("effects",(e=>{const t=(0,kl.hT)(),n=(0,kl.Bn)(t);this.editEffectModal.effectArgs=(0,kl.g1)(n);const i=this.ensureUniqueEffectName(n.name);this.editEffectModal.name=i,e.effects.push({id:Ua().generate(),effect:t,name:i,args:this.editEffectModal.effectArgs}),this.editEffectModal.isAdding=!0,this.editEffectModal.effectId=t,this.editEffectModal.shown=!0,this.editEffectModal.currentEffectIndex=e.effects.length-1,c.Z.item.changed.specific.$emit(this.editorId,e.id,"effects")}))},ensureUniqueEffectName(e){if(!Array.isArray(this.item.effects))return e;const t=this.item.effects.map((e=>e.name));return(0,p.lc)(e,t)},effectModalClosed(){const e=this.editEffectModal.currentEffectIndex;this.updateCurrentItem(`effects.${e}`,(t=>{this.editEffectModal.isAdding&&(e>=0&&e<t.effects.length&&t.effects.splice(e,1),c.Z.item.changed.specific.$emit(this.editorId,t.id,"effects"))})),this.editEffectModal.shown=!1,this.editEffectModal.currentEffectIndex=-1},onEffectArgChanged(e,t){const n=this.editEffectModal.currentEffectIndex;this.updateCurrentItem(`effects.${n}.args.${e}`,(i=>{n>=0&&n<i.effects.length&&(i.effects[n].args[e]=t),c.Z.item.changed.specific.$emit(this.editorId,i.id,"effects"),this.editEffectModal.isAdding||c.Z.schemeChangeCommitted.$emit(this.editorId,`item.${i.id}.effects`)}))},onEffectNameChanged(e){const t=this.editEffectModal.currentEffectIndex;this.updateCurrentItem(`effects.${t}`,(n=>{t>=0&&t<n.effects.length&&(n.effects[t].name=e)}))},onEffectSubmited(e){this.editEffectModal.shown=!1;const t=this.editEffectModal.currentEffectIndex;this.updateCurrentItem(`effects.${t}`,(n=>{this.editEffectModal.isAdding&&(t>=0&&t<n.effects.length&&(n.effects[t]=e),c.Z.item.changed.specific.$emit(this.editorId,n.id,"effects"),c.Z.schemeChangeCommitted.$emit(this.editorId,`item.${n.id}.effects`))}))},openEditEffectModal(e){this.editEffectModal.currentEffectIndex=e,this.editEffectModal.effectId=this.item.effects[e].effect,this.editEffectModal.isAdding=!1,this.editEffectModal.shown=!0,this.editEffectModal.effectArgs=this.item.effects[e].args},deleteEffect(e){this.updateCurrentItem(`effects.${e}`,(t=>{e<0||e>=t.effects.length||(this.deleteAllReferencesToEffect(t.id,t.effects[e].id),t.effects.splice(e,1),c.Z.schemeChangeCommitted.$emit(this.editorId,`item.${t.id}.effects`))}))},onEffectIdChanged(e){this.updateCurrentItem("effects",(t=>{if(this.editEffectModal.currentEffectIndex<0||this.editEffectModal.currentEffectIndex>=t.effects.length)return;const n=(0,kl.Bn)(e);this.editEffectModal.effectArgs=(0,kl.g1)(n);const i=this.ensureUniqueEffectName(n.name);this.editEffectModal.name=i,this.editEffectModal.effectId=e,t.effects[this.editEffectModal.currentEffectIndex]={id:t.effects[this.editEffectModal.currentEffectIndex].id,effect:e,name:i,args:this.editEffectModal.effectArgs},c.Z.schemeChangeCommitted.$emit(this.editorId,`item.${t.id}.effects`)}))},deleteAllReferencesToEffect(e,t){const n=`effects.${t}`;(0,yl.Hp)(this.schemeContainer.scheme.items,(t=>{t.behavior&&Array.isArray(t.behavior.events)&&t.behavior.events.forEach((i=>{if(Array.isArray(i.actions))for(let r=i.actions.length-1;r>=0;r--){const o=i.actions[r];"set"===o.method&&o.args.field.startsWith(n)&&(t.id==t.id&&"self"===o.element||o.element==="#"+e)&&i.actions.splice(r,1)}}))}))}},computed:{isTemplatedChild(){return this.item.args&&this.item.args.templated&&!this.item.args.templateRef},hasShapeArgs(){const e=xa.Z.find(this.item.shape);return!(!e||!e.args)&&Object.keys(e.args).length>0}},watch:{currentTab(e){Tc.save(this.schemeContainer.scheme.id,e)}},filters:{prettyEffectName:e=>e||"Unnamed Effect"}},Mc=$c;(0,y.Z)(Mc,u,[],!1,null,null,null).exports;const Oc=new s.Yd("Path");function Dc(e){let t="";return e.shapeProps.paths.forEach((n=>{const i=(0,l.FI)(e.area.w,e.area.h,n.points,n.closed);i&&(t+=i+" ")})),t}const Lc={props:["item","editorId"],components:{AdvancedFill:r.ZP},shapeConfig:{shapeType:"vue",id:"path",menuItems:[],computePath:Dc,getSnappers:function(e){const t=[];return e.shapeProps.paths.forEach((n=>{n.points.forEach((n=>{const i=(0,d.rs)(n.x,n.y,e);t.push({item:e,snapperType:"horizontal",value:i.y}),t.push({item:e,snapperType:"vertical",value:i.x})}))})),t},getPins(e){const t={};return e.shapeProps.paths.forEach((n=>{n.points.forEach((n=>{const i=(0,l.oJ)(n,e.area.w,e.area.h);t[n.id]={x:i.x,y:i.y}}))})),t},getTextSlots:()=>[],editorProps:{description:"rich"},controlPoints:null,args:{fill:{type:"advanced-color",value:{type:"none"},name:"Fill"},strokeColor:{type:"color",value:"rgba(30,30,30,1.0)",name:"Stroke color"},strokeSize:{type:"number",value:2,name:"Stroke size"},strokePattern:{type:"stroke-pattern",value:"solid",name:"Stroke pattern"},paths:{type:"path-array",value:[],name:"Paths",hidden:!0}},scriptFunctions:function(e,t,n){const i=()=>{t.readjustItemAndDescendants(n.id,!0),c.Z.item.changed.specific.$emit(e,n.id)},r=(e,t)=>{if(e<0||e>=n.shapeProps.length)throw new Error(`Invalid path index: ${e}`);return t(n.shapeProps.paths[e])},o=(e,t,n)=>{if(t<0||t>=e.points.length)throw new Error(`Invalid point index: ${t}`);return n(e.points[t])},s=()=>{if(n.area.w<1||n.area.h<1){const e=n.shapeProps.paths.map((e=>e.points.map((e=>{const t=(0,l.oJ)(e,n.area.w,n.area.h);return(0,d.rs)(t.x,t.y,n)}))));n.area.w=100,n.area.h=100,n.shapeProps.paths.forEach(((t,i)=>{t.points.forEach(((t,r)=>{const o=e[i][r],s=(0,d.N5)(o.x,o.y,n),a=(0,l.Vk)(s,n.area.w,n.area.h);t.x=a.x,t.y=a.y}))}))}};return{totalPaths:()=>n.shapeProps.paths.length,totalPathPoints:e=>r(e,(e=>e.points.length)),isPathClosed:e=>r(e,(e=>e.closed)),closePath(e){r(e,(e=>{e.closed=!0,i()}))},openPath(e){r(e,(e=>{e.closed=!1,i()}))},getPathPointWorldPos:(e,t)=>r(e,(e=>o(e,t,(e=>{const t=(0,l.oJ)(e,n.area.w,n.area.h);return h.O.fromPoint((0,d.rs)(t.x,t.y,n))})))),setPathPointWorldPos:(e,t,a,c)=>(s(),r(e,(e=>o(e,t,(e=>{const t=(0,d.N5)(a,c,n),r=(0,l.Vk)(t,n.area.w,n.area.h);e.x=r.x,e.y=r.y,i()}))))),addPath:()=>(s(),n.shapeProps.paths.push({closed:!1,points:[]}),n.shapeProps.paths.length-1),addPoint:(e,t,o)=>r(e,(e=>{const r=(0,d.N5)(t,o,n),s=(0,l.Vk)(r,n.area.w,n.area.h);e.points.push({t:"L",x:s.x,y:s.y}),i()})),addBeizerPoint:(e,t,o,s,a,c,h)=>r(e,(e=>{const r=(0,d.N5)(t,o,n),u=(0,d.N5)(t+s,o+a,n),p=(0,d.N5)(t+c,o+h,n),f=(0,l.Vk)({t:"B",x:r.x,y:r.y,x1:u.x-r.x,y1:u.y-r.y,x2:p.x-r.x,y2:p.y-r.y},n.area.w,n.area.h);return e.points.push(f),i(),e.points.length-1}))}}},mounted(){c.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChange)},beforeDestroy(){c.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChange)},data(){return{shapePath:Dc(this.item)}},methods:{onItemChange(){Oc.info("onItemChange",this.item.id,this.item.name,this.item),this.shapePath=Dc(this.item),this.$forceUpdate()}},computed:{strokeDashArray(){return o.Z.createDashArray(this.item.shapeProps.strokePattern,this.item.shapeProps.strokeSize)},fill(){return(0,r.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)}}},Nc=(0,y.Z)(Lc,i,[],!1,null,null,null).exports},9354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("defs",[n("linearGradient",{attrs:{id:"sticky-note-gradient-"+e.item.id,x1:"50%",y1:"100%",x2:"50%",y2:"0%"}},[n("stop",{staticStyle:{"stop-color":"rgba(196, 196, 196, 0.14)"},attrs:{offset:"0%"}}),e._v(" "),n("stop",{staticStyle:{"stop-color":"rgba(128, 128, 128, 0.4)"},attrs:{offset:"80.56%"}}),e._v(" "),n("stop",{staticStyle:{"stop-color":"rgba(0, 0, 0, 0.23)"},attrs:{offset:"87.22%"}}),e._v(" "),n("stop",{staticStyle:{"stop-color":"rgba(0, 0, 0, 0.3)"},attrs:{offset:"100%"}})],1)],1),e._v(" "),n("defs",[n("filter",{attrs:{id:"sticky-note-shadow-filter-"+e.item.id}},[n("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:"4"}})],1)]),e._v(" "),n("g",{style:{opacity:.2},attrs:{filter:"url(#sticky-note-shadow-filter-"+e.item.id+")"}},[n("path",{attrs:{d:e.shadowPath,stroke:"none",fill:"rgba(0, 0, 0, 1)"}})]),e._v(" "),n("path",{attrs:{d:e.shapePath,stroke:"none",fill:e.svgFill}}),e._v(" "),n("path",{style:{opacity:.5,"mix-blend-mode":"multiply"},attrs:{d:e.shapePath,stroke:"none",fill:"url(#sticky-note-gradient-"+e.item.id+")"}})],1)};i._withStripped=!0;var r=n(9498),o=n(9421),s=n(6234);function a(e){const t=e.area.w,n=e.area.h;return`M ${t} ${n}  L 0 ${n} L 0 0   L ${t} 0 L ${t} ${n} Z`}const l={props:["item"],components:{AdvancedFill:o.ZP},shapeConfig:{shapeType:"vue",id:"sticky_note",menuItems:(0,s.UI)([{name:"yellow",color:"rgba(240,234,55,1)"},{name:"red",color:"rgba(255,98,55,1)"},{name:"lime",color:"rgba(175,255,105,1)"},{name:"green",color:"rgba(148,255,112,1)"},{name:"blue",color:"rgba(116,255,255,1)"},{name:"purple",color:"rgba(212,184,255,1)"},{name:"pink",color:"rgba(255,184,235,1)"},{name:"white",color:"rgba(250,250,250,1)"},{name:"grey",color:"rgba(200,200,200,1)"}],(e=>({group:"Sticky Notes",name:`Sticky Note (${e.name})`,iconSVG:`<path fill="${e.color}" d="M 1 1  L 41 1  L 41 31  L 1 31 Z"/>`,item:{shapeProps:{fill:{type:"solid",color:e.color}}},size:{w:180,h:180}}))),getPins:e=>(0,r.Fb)(e),getTextSlots:e=>[{name:"body",area:{x:0,y:0,w:e.area.w,h:e.area.h}}],computePath:a,args:{fill:{type:"advanced-color",value:{type:"solid",color:"rgba(240, 234, 55, 1.0)"},name:"Fill"}}},data:()=>({}),computed:{shapePath(){return a(this.item)},shadowPath(){const e=.1*this.item.area.w,t=.99*this.item.area.w,n=.1*this.item.area.h,i=.99*this.item.area.h;return`M ${e} ${n}  L ${t} ${n} L ${1.03*this.item.area.w} ${1.03*this.item.area.h}  L ${e} ${i} Z`},svgFill(){return(0,o.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)}}},c=(0,n(1900).Z)(l,i,[],!1,null,null,null).exports},4643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id+"-header",fill:e.item.shapeProps.headerFill,area:e.item.area}}),e._v(" "),n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id+"-secondary-fill",fill:e.item.shapeProps.rowSecondaryFill,area:e.item.area}}),e._v(" "),n("g",e._l(e.cells,(function(e){return n("rect",{attrs:{x:e.area.x,y:e.area.y,width:e.area.w,height:e.area.h,stroke:"none",fill:e.fill}})})),0),e._v(" "),"simple"===e.item.shapeProps.tableStyle?n("g",[n("path",{attrs:{d:e.outlinePath,stroke:e.item.shapeProps.stroke,"stroke-width":e.item.shapeProps.strokeSize+"px",fill:"none"}}),e._v(" "),e._l(e.gridLines,(function(t){return n("line",{attrs:{stroke:e.item.shapeProps.stroke,"stroke-width":e.item.shapeProps.strokeSize+"px",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}})}))],2):e._e()],1)};i._withStripped=!0;var r=n(9421),o=n(3590),s=n(8595),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-1 padded"},[n("NumberTextfield",{attrs:{value:e.item.shapeProps.columns,min:1,max:100,name:"Columns"},on:{changed:function(t){return e.$emit("shape-prop-changed","columns","number",arguments[0])}}})],1),e._v(" "),n("div",{staticClass:"col-1 padded"},[n("NumberTextfield",{attrs:{value:e.item.shapeProps.rows,min:1,max:100,name:"Rows"},on:{changed:function(t){return e.$emit("shape-prop-changed","rows","number",arguments[0])}}})],1)]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-1 padded",attrs:{title:"Fill"}},[n("AdvancedColorEditor",{attrs:{editorId:e.editorId,value:e.item.shapeProps.fill,disabled:!1},on:{changed:function(t){return e.$emit("shape-prop-changed","fill","advanced-color",arguments[0])}}})],1),e._v(" "),n("div",{staticClass:"col-1 padded",attrs:{title:"Secondary fill"}},[n("AdvancedColorEditor",{attrs:{editorId:e.editorId,value:e.item.shapeProps.rowSecondaryFill,disabled:!e.item.shapeProps.oddEvenFill},on:{changed:function(t){return e.$emit("shape-prop-changed","rowSecondaryFill","advanced-color",arguments[0])}}})],1),e._v(" "),n("div",{staticClass:"col-1 padded",attrs:{title:"Header fill"}},[n("AdvancedColorEditor",{attrs:{editorId:e.editorId,value:e.item.shapeProps.headerFill,disabled:"none"===e.item.shapeProps.header},on:{changed:function(t){return e.$emit("shape-prop-changed","headerFill","advanced-color",arguments[0])}}})],1),e._v(" "),n("div",{staticClass:"col-1 padded",attrs:{title:"Stroke color"}},[n("ColorPicker",{attrs:{editorId:e.editorId,color:e.item.shapeProps.stroke,disabled:"flat"===e.item.shapeProps.style},on:{input:function(t){return e.$emit("shape-prop-changed","stroke","color",arguments[0])}}})],1)]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-1 padded"},[n("NumberTextfield",{attrs:{value:e.item.shapeProps.strokeSize,min:1,max:100,name:"Stroke size",disabled:"flat"===e.item.shapeProps.style},on:{changed:function(t){return e.$emit("shape-prop-changed","strokeSize","number",arguments[0])}}})],1)]),e._v(" "),n("div",{staticClass:"hint hint-small text-centered"},[e._v("\n            Choose table style\n    ")]),e._v(" "),e._l(e.tableStyles,(function(t){return n("div",{staticClass:"toggle-button",on:{click:function(n){return e.applyTableStyle(t)}}},[n("svg",{attrs:{width:t.iconWidth+"px",height:t.iconHeight+"px"}},[n("g",{attrs:{transform:"translate(3,3)"}},[e._l(t.cells,(function(e){return n("rect",{attrs:{x:e.x,y:e.y,width:e.w,height:e.h,fill:e.color,stroke:"none"}})})),e._v(" "),e._l(t.gridLines,(function(e){return n("line",{attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"#aaaaaa"}})}))],2)])])})),e._v(" "),n("div",{staticStyle:{clear:"both"}})],2)};a._withStripped=!0;var l=n(9240),c=n(7455),h=n(18),d=n(6234);const u=[{name:"Standard",shapeProps:{style:"simple",oddEvenFill:!1,header:"none",cutCorner:!1}},{name:"Flat",shapeProps:{style:"flat",oddEvenFill:!1,header:"none",cutCorner:!1}},{name:"Standard with header",shapeProps:{style:"simple",oddEvenFill:!1,header:"columns",cutCorner:!1}},{name:"Flat with header",shapeProps:{style:"flat",oddEvenFill:!1,header:"columns",cutCorner:!1}},{name:"Standard with vertical header",shapeProps:{style:"simple",oddEvenFill:!1,header:"rows",cutCorner:!1}},{name:"Flat with vertical header",shapeProps:{style:"flat",oddEvenFill:!1,header:"rows",cutCorner:!1}},{name:"Standard with header, odd/even",shapeProps:{style:"simple",oddEvenFill:!0,header:"columns",cutCorner:!1}},{name:"Flat with header, odd/even rows",shapeProps:{style:"flat",oddEvenFill:!0,header:"columns",cutCorner:!1}},{name:"Standard with both headers",shapeProps:{style:"simple",oddEvenFill:!1,header:"both",cutCorner:!1}},{name:"Flat with both headers",shapeProps:{style:"flat",oddEvenFill:!1,header:"both",cutCorner:!1}},{name:"Standard with both headers, no corner",shapeProps:{style:"simple",oddEvenFill:!1,header:"both",cutCorner:!0}},{name:"Flat with both headers, no corner",shapeProps:{style:"flat",oddEvenFill:!1,header:"both",cutCorner:!0}}];u.forEach((e=>{e.cells=[];const t="simple"===e.shapeProps.style?0:1;for(let n=0;n<4;n++)for(let i=0;i<3;i++){const r={color:"#ffffff",margin:"simple"===e.shapeProps.style?0:2,hasBorder:"simple"===e.shapeProps.style,x:20*i+t,w:20-2*t,y:12*n+t,h:12-2*t};e.shapeProps.oddEvenFill&&n>0&&n%2==0&&(r.color="#e3e3f3"),("columns"===e.shapeProps.header&&0===n||"rows"===e.shapeProps.header&&0===i||"both"===e.shapeProps.header&&(0===n||0===i))&&(r.color="#bbbbbb"),e.shapeProps.cutCorner&&0===n&&0===i||e.cells.push(r)}if(e.gridLines=[],"simple"===e.shapeProps.style){for(let t=0;t<=4;t++)e.gridLines.push({x1:e.shapeProps.cutCorner&&0===t?20:0,x2:60,y1:12*t,y2:12*t});for(let t=0;t<=3;t++)e.gridLines.push({x1:20*t,x2:20*t,y1:e.shapeProps.cutCorner&&0===t?12:0,y2:48})}e.iconWidth=66,e.iconHeight=54}));const p={props:{editorId:{type:String,required:!0},item:{type:Object},refreshKey:{type:String}},components:{NumberTextfield:l.Z,ColorPicker:c.Z,AdvancedColorEditor:h.Z},data:()=>({tableStyles:u}),methods:{applyTableStyle(e){(0,d.Ed)(e.shapeProps,((e,t)=>{this.item.shapeProps[t]=e})),this.$emit("item-mutated")}},watch:{refreshKey(){this.$forceUpdate()}}};var f=n(1900);const m=(0,f.Z)(p,a,[],!1,null,null,null).exports;var g=n(520),v=n(7196);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=100;function A(e,t,n){const i=t.shapeProps.columns;t.shapeProps.columns=n,k(0,t,n,i),s.Z.item.changed.specific.$emit(e,t.id,"shapeProps.column"),s.Z.schemeChangeCommitted.$emit(e,`item.${t.id}.shapeProps.columns`)}function C(e,t,n){const i=t.shapeProps.rows;t.shapeProps.rows=n,S(0,t,n,i),s.Z.item.changed.specific.$emit(e,t.id,"shapeProps.rows"),s.Z.schemeChangeCommitted.$emit(e,`item.${t.id}.shapeProps.rows`)}function k(e,t,n,i){const r=[];let s=100,a=0;for(let e=0;e<i-1;e++){const n=t.area.w*t.shapeProps.colWidths[e]/100;a+=n,r[e]=n}if(s=Math.max(t.area.w/(2*Math.max(1,i)),t.area.w-a),n>i&&n>0&&!o.Z.tooSmall(t.area.w)){for(let e=i-1;e<n-1;e++)r.push(s),t.area.w+=s;for(let e=i-1;e<n;e++)for(let n=0;n<t.shapeProps.rows;n++){const i=`c_${n}_${e}`;t.textSlots.hasOwnProperty(i)||(t.textSlots[i]=e>0?b(b({},g.Z.clone(t.textSlots[`c_${n}_${e-1}`])),{},{text:""}):g.Z.clone(v.td))}}if(n<i&&n>0&&!o.Z.tooSmall(t.area.w)){let e=0;for(let i=0;i<n;i++)e+=t.shapeProps.colWidths[i]*t.area.w/100;t.area.w=e}t.shapeProps.colWidths.length>n&&(t.shapeProps.colWidths=t.shapeProps.colWidths.slice(0,n));let l=t.area.w;o.Z.tooSmall(l)&&(l=1);for(let e=0;e<n&&e<r.length;e++)t.shapeProps.colWidths[e]=100*r[e]/l}function S(e,t,n,i){const r=[];let s=0,a=100;for(let e=0;e<i-1;e++){const n=t.area.h*t.shapeProps.rowWidths[e]/100;s+=n,r[e]=n}if(a=Math.max(t.area.h/(2*Math.max(1,i)),t.area.h-s),n>i&&n>0&&!o.Z.tooSmall(t.area.h)){for(let e=i-1;e<n-1;e++)r.push(a),t.area.h+=a;for(let e=i-1;e<n;e++)for(let n=0;n<t.shapeProps.columns;n++){const i=`c_${e}_${n}`;t.textSlots.hasOwnProperty(i)||(t.textSlots[i]=e>0?b(b({},g.Z.clone(t.textSlots[`c_${e-1}_${n}`])),{},{text:""}):g.Z.clone(v.td))}}if(n<i&&n>0&&!o.Z.tooSmall(t.area.h)){let e=0;for(let i=0;i<n;i++)e+=t.shapeProps.rowWidths[i]*t.area.h/100;t.area.h=e}t.shapeProps.rowWidths.length>n&&(t.shapeProps.rowWidths=t.shapeProps.rowWidths.slice(0,n));let l=t.area.h;o.Z.tooSmall(l)&&(l=1);for(let e=0;e<n&&e<r.length;e++)t.shapeProps.rowWidths[e]=100*r[e]/l}function P(e){if("both"===e.shapeProps.header&&e.shapeProps.cutCorner){const t=e.area.w*e.shapeProps.colWidths[0]/100,n=e.area.h*e.shapeProps.rowWidths[0]/100;return`M ${t} 0 L ${e.area.w} 0 L ${e.area.w} ${e.area.h} L 0 ${e.area.h}  L 0 ${n} L ${t} ${n} Z`}return`M 0 0 L ${e.area.w} 0 L ${e.area.w} ${e.area.h} L 0 ${e.area.h} Z`}function I(e){const t=[];let n=0,i=e.area.h,r=0,o=0;"columns-single"===e.shapeProps.header&&(o=1),"rows-single"===e.shapeProps.header&&(r=1);for(let s=r;s<e.shapeProps.rows;s++){const r=Math.min(i,s<e.shapeProps.rows-1?e.shapeProps.rowWidths[s]*e.area.h/100:i);let a=0,l=e.area.w;for(let i=o;i<e.shapeProps.columns;i++){const o=Math.min(l,i<e.shapeProps.columns-1?e.shapeProps.colWidths[i]*e.area.w/100:l);let c=a,h=a+o,d=n,u=n+r,p=0;"flat"===e.shapeProps.tableStyle&&(p=e.shapeProps.cellPadding),c=Math.min(c+p,h),d=Math.min(d+p,u),"both"===e.shapeProps.header&&e.shapeProps.cutCorner&&0===s&&0===i||t.push({row:s,col:i,area:{x:c,y:d,w:Math.max(0,h-p-c),h:Math.max(0,u-p-d)}}),a+=o,l-=o}n+=r,i-=r}return t}function E(e){const t=[];let n=0;for(let i=0;i<e.shapeProps.columns-1&&i<e.shapeProps.colWidths.length;i++)t[i]=e.shapeProps.colWidths[i]*e.area.w/100,n+=t[i];const i=Math.max(0,e.area.w-n);return t.push(i),t}function _(e,t){e.shapeProps.colWidths=[];for(let n=0;n<e.shapeProps.columns-1;n++){const i=o.Z.tooSmall(e.area.w)?1:e.area.w;e.shapeProps.colWidths[n]=100*t[n]/i}}function T(e){const t=[];let n=0;for(let i=0;i<e.shapeProps.rows-1&&i<e.shapeProps.rowWidths.length;i++)t[i]=e.shapeProps.rowWidths[i]*e.area.h/100,n+=t[i];const i=Math.max(0,e.area.h-n);return t.push(i),t}function $(e,t){e.shapeProps.rowWidths=[];for(let n=0;n<e.shapeProps.rows-1;n++){const i=o.Z.tooSmall(e.area.h)?1:e.area.h;e.shapeProps.rowWidths[n]=100*t[n]/i}}function M(e,t){const n=E(e),i=t<n.length?n[t]:n[n.length-1];n.splice(t,0,i),e.area.w+=i,e.shapeProps.columns+=1,_(e,n);for(let n=e.shapeProps.columns-1;n>=t;n--)for(let t=0;t<e.shapeProps.rows;t++)e.textSlots[`c_${t}_${n}`]=e.textSlots[`c_${t}_${n-1}`];for(let n=0;n<e.shapeProps.rows;n++)t<e.shapeProps.columns-1?e.textSlots[`c_${n}_${t}`]=b(b({},g.Z.clone(e.textSlots[`c_${n}_${t+1}`])),{},{text:""}):e.textSlots[`c_${n}_${t}`]=t>0?b(b({},g.Z.clone(e.textSlots[`c_${n}_${t-1}`])),{},{text:""}):g.Z.clone(v.td);return!0}function O(e,t){const n=T(e),i=t<n.length?n[t]:n[n.length-1];n.splice(t,0,i),e.area.h+=i,e.shapeProps.rows+=1,$(e,n);for(let n=e.shapeProps.rows-1;n>=t;n--)for(let t=0;t<e.shapeProps.columns;t++)e.textSlots[`c_${n}_${t}`]=e.textSlots[`c_${n-1}_${t}`];for(let n=0;n<e.shapeProps.columns;n++)t<e.shapeProps.rows-1?e.textSlots[`c_${t}_${n}`]=b(b({},g.Z.clone(e.textSlots[`c_${t+1}_${n}`])),{},{text:""}):e.textSlots[`c_${t}_${n}`]=t>0?b(b({},g.Z.clone(e.textSlots[`c_${t-1}_${n}`])),{},{text:""}):g.Z.clone(v.td);return!0}function D(e,t,n){return{group:"Tables",name:e,iconUrl:`/assets/images/items/${t}`,item:{shapeProps:n},previewArea:{x:5,y:5,w:200,h:100},size:{w:200,h:100}}}const L={props:["item"],components:{AdvancedFill:r.ZP},shapeConfig:{shapeType:"vue",id:"uml_table",menuItems:[D("Table","table-simple.svg",{columns:3,rows:3,header:"none"}),D("Table with header","table-h-header.svg",{columns:3,rows:3,header:"columns"}),D("Table with vertical header","table-v-header.svg",{columns:3,rows:3,header:"rows"}),D("Table with double header","table-dbl-header.svg",{columns:3,rows:3,header:"both",cutCorner:!1}),D("Table with double header","table-dbl-header-2.svg",{columns:3,rows:3,header:"both",cutCorner:!0})],getPins:function(e){return{}},computeOutline:P,getTextSlots:function(e){return I(e).map((e=>({name:`c_${e.row}_${e.col}`,area:e.area})))},fixItem:function(e){if(e.shapeProps.columns<1&&(e.shapeProps.columns=1),e.shapeProps.rows<1&&(e.shapeProps.rows=1),e.shapeProps.colWidths.length>e.shapeProps.columns-1)e.shapeProps.colWidths=e.shapeProps.colWidths.slice(0,e.shapeProps.columns-1);else if(e.shapeProps.colWidths.length<e.shapeProps.columns-1){const t=e.shapeProps.columns-1-e.shapeProps.colWidths.length;let n=0;for(let t=0;t<e.shapeProps.colWidths.length;t++)n+=e.shapeProps.colWidths[t]*e.area.w/100;const i=e.area.w;if(o.Z.tooSmall(i)&&(i=1),t>0){const r=100*Math.max(0,e.area.w-n)/(i*(t+1));for(let n=0;n<t;n++)e.shapeProps.colWidths.push(r)}}if(e.shapeProps.rowWidths.length>e.shapeProps.rows-1)e.shapeProps.rowWidths=e.shapeProps.rowWidths.slice(0,e.shapeProps.rows-1);else if(e.shapeProps.rowWidths.length<e.shapeProps.rows-1){const t=e.shapeProps.rows-1-e.shapeProps.rowWidths.length;let n=0;for(let t=0;t<e.shapeProps.rowWidths.length;t++)n+=e.shapeProps.rowWidths[t]*e.area.h/100;const i=e.area.h;if(o.Z.tooSmall(i)&&(i=1),t>0){const r=100*Math.max(0,e.area.h-n)/(i*(t+1));for(let n=0;n<t;n++)e.shapeProps.rowWidths.push(r)}}},controlPoints:{make(e){const t={};let n=0;for(let i=0;i<e.shapeProps.columns-1;i++)n+=e.shapeProps.colWidths[i]*e.area.w/100,t[`c_${i}`]={x:o.Z.clamp(n,0,e.area.w),y:0};n=0;for(let i=0;i<e.shapeProps.rows-1;i++)n+=e.shapeProps.rowWidths[i]*e.area.h/100,t[`r_${i}`]={x:0,y:o.Z.clamp(n,0,e.area.h)};return t},handleDrag(e,t,n,i,r,s){if(t.startsWith("c_")){let i=n+r;const s=e.area.w,a=Math.max(1,e.shapeProps.columns);if(o.Z.tooSmall(s))return;const l=parseInt(t.substr(2));let c=0;for(let t=0;t<l;t++)c+=e.shapeProps.colWidths[t]*s/100;const h=Math.max(0,i-c),d=5/a,u=100-5/a;e.shapeProps.colWidths[l]=o.Z.clamp(100*h/s,d,u)}else if(t.startsWith("r_")){let n=i+s;const r=e.area.h,a=Math.max(1,e.shapeProps.rows);if(o.Z.tooSmall(r))return;const l=parseInt(t.substr(2));let c=0;for(let t=0;t<l;t++)c+=e.shapeProps.rowWidths[t]*r/100;const h=Math.max(0,n-c),d=5/a,u=100-5/a;e.shapeProps.rowWidths[l]=o.Z.clamp(100*h/r,d,u)}}},args:{tableStyle:{type:"choice",value:"simple",options:["simple","flat"],name:"Style"},columns:{type:"number",value:3,name:"Columns",min:1,max:w,onUpdate:k},rows:{type:"number",value:3,name:"Rows",min:1,max:w,onUpdate:S},fill:{type:"advanced-color",value:{type:"solid",color:"rgba(245, 245, 245, 1.0)"},name:"Fill"},stroke:{type:"color",value:"rgba(145, 178, 196, 1.0)",name:"Stroke",depends:{tableStyle:"simple"}},strokeSize:{type:"number",value:1,name:"Stroke size",depends:{tableStyle:"simple"}},cellPadding:{type:"number",value:2,name:"Cell padding",depends:{tableStyle:"flat"}},header:{type:"choice",value:"columns",options:["none","columns","columns-single","rows","rows-single","both"],name:"Header fill override"},headerFill:{type:"advanced-color",value:{type:"solid",color:"rgba(168, 193, 219, 1.0)"},name:"Header fill"},cutCorner:{type:"boolean",value:!1,name:"Cut corner",depends:{header:"both"}},oddEvenFill:{type:"boolean",value:!1,name:"Odd/even fill"},rowSecondaryFill:{type:"advanced-color",value:{type:"solid",color:"rgba(234, 241, 246, 1.0)"},name:"Row secondary fill",depends:{oddEvenFill:!0}},colWidths:{type:"custom",value:[33.3,33.3],hidden:!0},rowWidths:{type:"custom",value:[33.3,33.3],hidden:!0}},editorProps:{textSlotTabsDisabled:!0,contextMenu(e,t,n){const{row:i,col:r}=function(e,t,n){let i=0,r=0,o=0;for(let n=0;n<e.shapeProps.columns-1&&(r=n,o+=e.shapeProps.colWidths[n]*e.area.w/100,!(t<o));n++);t>o&&(r+=1),o=0;for(let t=0;t<e.shapeProps.rows-1&&(i=t,o+=e.shapeProps.rowWidths[t]*e.area.h/100,!(n<o));t++);return n>o&&(i+=1),{row:i,col:r}}(n,e,t),o=i+1,s=r+1;let a=[{name:`Insert column before #${s}`,clicked:()=>M(n,r)},{name:`Insert column after #${s}`,clicked:()=>M(n,r+1)},{name:`Insert row before #${o}`,clicked:()=>O(n,i)},{name:`Insert row after #${o}`,clicked:()=>O(n,i+1)}];return n.shapeProps.columns>1&&a.push({name:`Delete column #${s}`,iconClass:"fas fa-trash",clicked:()=>function(e,t){if(e.shapeProps.columns<2)return!1;const n=E(e);if(e.shapeProps.columns-=1,t<e.shapeProps.colWidths.length){const i=n[t];e.area.w=Math.max(0,e.area.w-i),e.shapeProps.colWidths.splice(t,1),n.splice(t,1)}else t===e.shapeProps.colWidths.length&&(e.shapeProps.colWidths.length-=1,e.area.w=Math.max(0,e.area.w-n[n.length-1]));_(e,n);for(let n=t;n<e.shapeProps.columns;n++)for(let t=0;t<e.shapeProps.rows;t++)e.textSlots[`c_${t}_${n}`]=e.textSlots[`c_${t}_${n+1}`];for(let t=0;t<e.shapeProps.rows;t++)delete e.textSlots[`c_${t}_${e.shapeProps.columns}`];return!0}(n,r)}),n.shapeProps.rows>1&&a.push({name:`Delete row #${o}`,iconClass:"fas fa-trash",clicked:()=>function(e,t){if(e.shapeProps.rows<2)return!1;const n=T(e);e.shapeProps.rows-=1,t<e.shapeProps.rowWidths.length?(e.area.h=Math.max(0,e.area.h-n[t]),e.shapeProps.rowWidths.splice(t,1),n.splice(t,1)):t===e.shapeProps.rowWidths.length&&(e.shapeProps.rowWidths.length-=1,e.area.h=Math.max(0,e.area.h-n[n.length-1])),$(e,n);for(let n=t;n<e.shapeProps.rows;n++)for(let t=0;t<e.shapeProps.columns;t++)e.textSlots[`c_${n}_${t}`]=e.textSlots[`c_${n+1}_${t}`];for(let t=0;t<e.shapeProps.columns;t++)delete e.textSlots[`c_${e.shapeProps.rows}_${t}`];return!0}(n,i)}),a=a.concat([{name:"Copy text style to column",clicked:()=>function(e,t,n){const i=g.Z.clone(e.textSlots[`c_${t}_${n}`]);for(let r=0;r<e.shapeProps.rows;r++)if(r!=t){const t=`c_${r}_${n}`,o=e.textSlots[t].text;e.textSlots[t]=b(b({},i),{},{text:o})}return!0}(n,i,r)},{name:"Copy text style to row",clicked:()=>function(e,t,n){const i=g.Z.clone(e.textSlots[`c_${t}_${n}`]);for(let r=0;r<e.shapeProps.columns;r++)if(r!=n){const n=`c_${t}_${r}`,o=e.textSlots[n].text;e.textSlots[n]=b(b({},i),{},{text:o})}return!0}(n,i,r)},{name:"Copy text style to all cells",clicked:()=>function(e,t,n){const i=g.Z.clone(e.textSlots[`c_${t}_${n}`]);for(let r=0;r<e.shapeProps.rows;r++)for(let o=0;o<e.shapeProps.columns;o++)if(o!==n||r!==t){const t=`c_${r}_${o}`,n=e.textSlots[t].text;e.textSlots[t]=b(b({},i),{},{text:n})}return!0}(n,i,r)}]),"none"!==n.shapeProps.header&&(a=a.concat([{name:"Copy text style to header cells",clicked:()=>function(e,t,n){const i=e.shapeProps.header,r=g.Z.clone(e.textSlots[`c_${t}_${n}`]);for(let o=0;o<e.shapeProps.rows;o++)for(let s=0;s<e.shapeProps.columns;s++)if(!(("columns"!==i&&"both"!==i||0!==o)&&("rows"!==i&&"both"!==i||0!==s)||s===n&&o===t)){const t=`c_${o}_${s}`,n=e.textSlots[t].text;e.textSlots[t]=b(b({},r),{},{text:n})}return!0}(n,i,r)},{name:"Copy text style to regular cells",clicked:()=>function(e,t,n){const i=e.shapeProps.header,r=g.Z.clone(e.textSlots[`c_${t}_${n}`]);for(let o=0;o<e.shapeProps.rows;o++)for(let s=0;s<e.shapeProps.columns;s++)if(("columns"!==i&&"both"!==i||0!==o)&&("rows"!==i&&"both"!==i||0!==s)&&(s!==n||o!==t)){const t=`c_${o}_${s}`,n=e.textSlots[t].text;e.textSlots[t]=b(b({},r),{},{text:n})}return!0}(n,i,r)}])),[{name:"Table",subOptions:a}]},shapePropsEditor:{component:m},editBoxControls:(e,t)=>{const n=[];return t.shapeProps.columns<w&&n.push({name:"Add Column",type:"button",hPlace:"right",vPlace:"center",iconClass:"fa-solid fa-plus",position:{x:30,y:0},click:()=>{!function(e,t){t.shapeProps.columns>=w||A(e,t,t.shapeProps.columns+1)}(e,t)}}),t.shapeProps.columns>1&&n.push({name:"Remove Column",type:"button",hPlace:"right",vPlace:"top",iconClass:"fa-solid fa-minus",position:{x:0,y:30},click:()=>{!function(e,t){t.shapeProps.columns<=1||A(e,t,t.shapeProps.columns-1)}(e,t)}}),t.shapeProps.rows<w&&n.push({name:"Add Row",type:"button",hPlace:"center",vPlace:"bottom",iconClass:"fa-solid fa-plus",position:{x:0,y:30},click:()=>{!function(e,t){t.shapeProps.rows>=w||C(e,t,t.shapeProps.rows+1)}(e,t)}}),t.shapeProps.rows>1&&n.push({name:"Remove Row",type:"button",hPlace:"left",vPlace:"bottom",iconClass:"fa-solid fa-minus",position:{x:30,y:0},click:()=>{!function(e,t){t.shapeProps.rows<=1||C(e,t,t.shapeProps.rows-1)}(e,t)}}),n}}},data:()=>({}),computed:{svgFill(){return(0,r.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)},outlinePath(){return P(this.item)},gridLines(){const e=[];let t=0;const n="both"===this.item.shapeProps.header&&this.item.shapeProps.cutCorner,i=this.item.area.w*this.item.shapeProps.colWidths[0]/100,r=this.item.area.h*this.item.shapeProps.rowWidths[0]/100;for(let r=1;r<this.item.shapeProps.rows;r++)t+=this.item.shapeProps.rowWidths[r-1]*this.item.area.h/100,e.push({x1:1===r&&n?i:0,x2:this.item.area.w,y1:t,y2:t});t=0;for(let i=1;i<this.item.shapeProps.columns;i++)t+=this.item.shapeProps.colWidths[i-1]*this.item.area.w/100,e.push({x1:t,x2:t,y1:1===i&&n?r:0,y2:this.item.area.h});return e},cells(){const e=(0,r.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`),t=(0,r.pz)(this.item.shapeProps.headerFill,`fill-pattern-${this.item.id}-header`),n=(0,r.pz)(this.item.shapeProps.rowSecondaryFill,`fill-pattern-${this.item.id}-secondary-fill`),i=this.item.shapeProps.header;return I(this.item).map((r=>((0!==r.row||"columns"!==i&&"columns-single"!==i&&"both"!==i)&&(0!==r.col||"rows"!==i&&"rows-single"!==i&&"both"!==i)?this.item.shapeProps.oddEvenFill&&r.row%2==1?r.fill=n:r.fill=e:r.fill=t,r)))}}},N=(0,f.Z)(L,i,[],!1,null,null,null).exports},6453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("path",{attrs:{d:e.shapePath,"stroke-width":e.item.shapeProps.strokeSize+"px",stroke:e.item.shapeProps.strokeColor,fill:e.svgFill}}),e._v(" "),"view"===e.mode?n("foreignObject",{attrs:{x:e.item.shapeProps.cornerRadius,y:0,width:Math.max(0,e.item.area.w-2*e.item.shapeProps.cornerRadius),height:e.item.area.h}},[e.item.shapeProps.multiline?n("textarea",{style:e.inputStyle,attrs:{id:"textfield-item-"+e.item.id},domProps:{value:e.itemInputValue},on:{blur:e.onBlur,input:e.onTextfieldInput}}):n("input",{style:e.inputStyle,attrs:{id:"textfield-item-"+e.item.id,type:e.item.shapeProps.type},domProps:{value:e.itemInputValue},on:{blur:e.onBlur,input:e.onTextfieldInput}})]):e._e(),e._v(" "),"placeholder"===e.hideTextSlot||e.item.args&&e.item.args.value?e._e():n("foreignObject",{attrs:{x:e.item.shapeProps.cornerRadius,y:0,width:Math.max(0,e.item.area.w-2*e.item.shapeProps.cornerRadius),height:e.item.area.h},on:{click:e.onPlaceholderClick}},[n("div",{staticClass:"item-text-container",style:e.placeholderTextStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"},domProps:{innerHTML:e._s(e.sanitizedBodyText)}})])],1)};i._withStripped=!0;var r=n(9498),o=n(9421),s=n(5635),a=n(8595),l=n(3762),c=n(6085);function h(e){const t=e.area.w,n=e.area.h,i=Math.min(e.shapeProps.cornerRadius,e.area.w/2,e.area.h/2);return`M ${t-i} ${n}  L ${i} ${n} a ${i} ${i} 0 0 1 ${-i} ${-i}  L 0 ${i}  a ${i} ${i} 0 0 1 ${i} ${-i}   L ${t-i} 0   a ${i} ${i} 0 0 1 ${i} ${i}  L ${t} ${n-i}   a ${i} ${i} 0 0 1 ${-i} ${i} Z`}const d={props:["item","editorId","mode"],components:{AdvancedFill:o.ZP},shapeConfig:{shapeType:"vue",id:"textfield",menuItems:[{group:"General",name:"Textfield",iconUrl:"/assets/images/items/textfield.svg",item:{cursor:"text",textSlots:{placeholder:{text:"",color:"rgba(160,160,160,1.0)",halign:"left"}}},previewArea:{x:5,y:5,w:200,h:40},size:{w:200,h:40}}],getPins:e=>(0,r.Fb)(e),getTextSlots(e){const t=Math.max(0,e.shapeProps.cornerRadius);return[{name:"placeholder",area:{x:t,y:0,w:Math.max(0,e.area.w-2*t),h:e.area.h}}]},computePath:h,editorProps:{customTextRendering:!0,disableEventLayer:!0},controlPoints:{make:e=>({cornerRadius:{x:Math.min(e.area.w,Math.max(e.area.w-e.shapeProps.cornerRadius,e.area.w/2)),y:0}}),handleDrag(e,t,n,i,r,o){"cornerRadius"===t&&(e.shapeProps.cornerRadius=Math.max(0,myMath.roundPrecise(e.area.w-Math.max(e.area.w/2,n+r),1)))}},args:{fill:{type:"advanced-color",value:{type:"solid",color:"rgba(255,255,255,1.0)"},name:"Fill"},textColor:{type:"color",value:"rgba(80, 80, 80, 1.0)",name:"Text color"},strokeColor:{type:"color",value:"rgba(80, 80, 80, 1.0)",name:"Stroke color"},strokeSize:{type:"number",value:1,name:"Stroke size"},cornerRadius:{type:"number",value:5,name:"Corner radius",min:0},multiline:{type:"boolean",value:!1,name:"Multiline"},type:{type:"choice",value:"text",name:"Type",options:["text","number"],depends:{multiline:!1}}}},beforeMount(){a.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChanged),a.Z.textSlot.triggered.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),a.Z.textSlot.canceled.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditCanceled)},beforeDestroy(){a.Z.textSlot.triggered.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),a.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChanged),a.Z.textSlot.canceled.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditCanceled)},data(){return{hideTextSlot:null,placeholderTextStyle:this.createPlaceholderTextStyle(),inputStyle:this.createInputStyle()}},methods:{createInputStyle(){let e={};return Math.max(0,this.item.shapeProps.cornerRadius),this.item.textSlots&&this.item.textSlots.placeholder&&(e=(0,s.A)(this.item.textSlots.placeholder)),e.display="block",e.width="100%",e.height="100%",e.color=this.item.shapeProps.color,e.border="none",e.background="none",e.outline="none",e},onPlaceholderClick(){"view"===this.mode&&(this.hideTextSlot="placeholder",document.getElementById(`textfield-item-${this.item.id}`).focus())},onBlur(e){"view"===this.mode&&(e.target.value||(this.hideTextSlot=null))},onItemTextSlotEditTriggered(e,t,n,i){this.hideTextSlot=t},onItemTextSlotEditCanceled(e,t){this.hideTextSlot=null},onItemChanged(){this.placeholderTextStyle=this.createPlaceholderTextStyle(),this.$forceUpdate()},createPlaceholderTextStyle(){let e={};const t=Math.max(0,this.item.shapeProps.cornerRadius);return this.item.textSlots&&this.item.textSlots.placeholder&&(e=(0,s.A)(this.item.textSlots.placeholder),e.width=`${Math.max(0,this.item.area.w-2*t)}px`,e.height=`${this.item.area.h}px`,e.cursor=this.item.cursor),e},onTextfieldInput(e){this.item.args||(this.item.args={}),this.item.args.value=e.target.value,a.Z.item.userEvent.$emit(this.editorId,this.item.id,c.Z.standardEvents.valueChange.id,this.item.args.value)}},computed:{shapePath(){return h(this.item)},svgFill(){return(0,o.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)},sanitizedBodyText(){return this.item.textSlots&&this.item.textSlots.placeholder?(0,l.Z)(this.item.textSlots.placeholder.text):""},itemInputValue(){return this.item.args&&this.item.args.hasOwnProperty("value")?this.item.args.value:""}}},u=(0,n(1900).Z)(d,i,[],!1,null,null,null).exports},8723:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,Z:()=>a});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("advanced-fill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.item.area}}),e._v(" "),n("path",{attrs:{d:e.shapePath,fill:e.fill,stroke:e.item.shapeProps.strokeColor,"stroke-width":e.item.shapeProps.strokeSize+"px"}})],1)};i._withStripped=!0;var r=n(9421);function o(e,t){const n=t/4,i=2*t/3,r=Math.min(e/4,t/8);return`M ${e/2} ${2*r}  L ${e/2} ${i}  M 0 ${n} L ${e} ${n}  M 0 ${t} L ${e/2} ${i} M ${e/2} ${i} L ${e} ${t}  M ${e/2} ${r} m ${r} 0 a ${r},${r} 0 1,0 -${2*r},0 a ${r},${r} 0 1,0  ${2*r},0`}const s={props:["item"],shapeConfig:{shapeType:"vue",components:{AdvancedFill:r.ZP},id:"uml_actor",menuItems:[{group:"UML",name:"Actor",iconUrl:"/assets/images/items/uml-actor.svg",previewArea:{x:0,y:0,w:30,h:90,r:0}}],computeOutline:e=>`M 0 0  l ${e.area.w} 0  l 0 ${e.area.h}  l ${-e.area.w} 0 z`,getTextSlots:e=>[],args:{fill:{name:"Fill",type:"advanced-color",value:{type:"solid",color:"rgba(240, 240, 240, 1.0)"}},strokeColor:{name:"Stroke",type:"color",value:"rgba(0, 0, 0, 1)"},strokeSize:{name:"Stroke Size",type:"number",value:1}}},computed:{shapePath(){return o(this.item.area.w,this.item.area.h)},fill(){return(0,r.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)}}},a=(0,n(1900).Z)(s,i,[],!1,null,null,null).exports},2401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",[n("AdvancedFill",{attrs:{fillId:"fill-pattern-"+e.item.id,fill:e.item.shapeProps.fill,area:e.rectArea}}),e._v(" "),n("path",{attrs:{d:e.shapePath,stroke:e.shapeStroke,"stroke-width":e.item.shapeProps.strokeSize+"px",fill:e.svgFill}}),e._v(" "),n("line",{attrs:{x1:e.item.area.w/2,y1:Math.max(0,Math.min(e.item.shapeProps.size,e.item.area.h)),x2:e.item.area.w/2,y2:e.item.area.h,stroke:e.item.shapeProps.strokeColor,"stroke-dasharray":e.strokeDashArray,"stroke-dashoffset":e.item.meta.strokeOffset,"stroke-width":e.item.shapeProps.strokeSize+"px"}})],1)};i._withStripped=!0;var r=n(3590),o=n(8595),s=n(9421),a=n(4502),l=n(9498),c=n(8723);const h={props:["item","editorId"],components:{AdvancedFill:s.ZP},shapeConfig:{shapeType:"vue",id:"uml_lifeline",menuItems:[{group:"UML",name:"Lifeline",iconUrl:"/assets/images/items/lifeline-rect.svg",item:{shapeProps:{lifelineType:"rect"}},size:{w:120,h:300}},{group:"UML",name:"Lifeline Entity",iconUrl:"/assets/images/items/lifeline-entity.svg",item:{area:{x:0,y:0,w:60,h:200},shapeProps:{lifelineType:"entity"}},size:{w:80,h:300}},{group:"UML",name:"Lifeline Border",iconUrl:"/assets/images/items/lifeline-border.svg",item:{area:{x:0,y:0,w:60,h:200},shapeProps:{lifelineType:"border"}},size:{w:80,h:300}},{group:"UML",name:"Lifeline Control",iconUrl:"/assets/images/items/lifeline-control.svg",item:{area:{x:0,y:0,w:60,h:200},shapeProps:{lifelineType:"control"}},size:{w:80,h:300}},{group:"UML",name:"Lifeline Actor",iconUrl:"/assets/images/items/lifeline-actor.svg",item:{area:{x:0,y:0,w:60,h:200},shapeProps:{lifelineType:"actor"}},size:{w:20,h:300},previewArea:{x:0,y:0,w:20,h:90,r:0}}],computeOutline(e){const t=r.Z.clamp(e.shapeProps.size,0,e.area.h);return`M ${e.area.w/2} ${t} L ${e.area.w/2} ${e.area.h} `+(0,l.Qb)(e.area.w,t,e.shapeProps.cornerRadius)},getPins:e=>[],getTextSlots(e){const t=r.Z.clamp(e.shapeProps.size,0,e.area.h);let n=null;if("entity"===e.shapeProps.lifelineType||"control"===e.shapeProps.lifelineType){const i=Math.min(e.area.w/2,t/2);n={x:e.area.w/2-i,y:0,w:2*i,h:2*i}}else if("border"===e.shapeProps.lifelineType){const i=Math.min(3*e.area.w/4/2,t/2);n={x:e.area.w/2-i,y:0,w:2*i,h:2*i}}else n={x:0,y:0,w:e.area.w,h:t};return[{name:"body",area:n}]},controlPoints:{make(e){const t={size:{x:e.area.w/2,y:r.Z.clamp(e.shapeProps.size,0,e.area.h)}};return"rect"===e.shapeProps.lifelineType&&(t.cornerRadius={x:Math.min(e.area.w,Math.max(e.area.w-e.shapeProps.cornerRadius,e.area.w/2)),y:0}),t},handleDrag(e,t,n,i,o,s){if("cornerRadius"===t)e.shapeProps.cornerRadius=Math.max(0,r.Z.roundPrecise(e.area.w-Math.max(e.area.w/2,n+o),1));else if("size"===t){if("entity"===e.shapeProps.lifelineType||"control"===e.shapeProps.lifelineType)return void(e.shapeProps.size=r.Z.clamp(i+s,0,Math.min(e.area.h,e.area.w)));if("border"===e.shapeProps.lifelineType)return void(e.shapeProps.size=r.Z.clamp(i+s,0,Math.min(e.area.h,3*e.area.w/4)));e.shapeProps.size=r.Z.clamp(i+s,0,e.area.h)}}},args:{size:{name:"Size",type:"number",value:40,min:0},fill:{name:"Fill",type:"advanced-color",value:{type:"solid",color:"rgba(240, 240, 240, 1.0)"}},lifelineType:{name:"Type",type:"choice",value:"rect",options:["rect","entity","border","control","actor"]},strokeColor:{name:"Stroke",type:"color",value:"rgba(0, 0, 0, 1)"},rectStroke:{name:"Rect stroke",type:"boolean",value:!0,depends:{lifelineType:"rect"}},strokePattern:{type:"stroke-pattern",value:"dashed",name:"Stroke pattern"},strokeSize:{name:"Stroke Size",type:"number",value:2},cornerRadius:{name:"Stroke Size",type:"number",value:1,depends:{type:"rect"},min:0}}},beforeMount(){o.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChanged)},beforeDestroy(){o.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChanged)},methods:{onItemChanged(){this.$forceUpdate()}},computed:{shapePath(){return function(e){const t=r.Z.clamp(e.shapeProps.size,0,e.area.h);if("entity"===e.shapeProps.lifelineType){const n=Math.min(e.area.w/2,t/2);return`M ${e.area.w/2} ${n}  m ${n}, 0 a ${n},${n} 0 1,0 -${2*n},0 a ${n},${n} 0 1,0  ${2*n},0  M ${e.area.w/2-n} ${2*n} l ${2*n} 0`}if("border"===e.shapeProps.lifelineType){let n=Math.min(e.area.w/2,t/2),i=n/3;const r=e.area.w/2;return n+i>r&&(n=3*r/4,i=r/4),`M ${e.area.w/2} ${n}  m ${n}, 0 a ${n},${n} 0 1,0 -${2*n},0 a ${n},${n} 0 1,0  ${2*n},0 M ${e.area.w/2-n-i} 0 l 0 ${2*n}M ${e.area.w/2-n-i} ${n} l ${i} 0`}if("control"===e.shapeProps.lifelineType){const n=Math.min(e.area.w/2,t/2),i=n/4;return`M ${e.area.w/2} ${n}  m ${n}, 0 a ${n},${n} 0 1,0 -${2*n},0 a ${n},${n} 0 1,0  ${2*n},0 M ${e.area.w/2} 0 l ${i} ${-i} M ${e.area.w/2} 0 l ${i} ${i}`}return"actor"===e.shapeProps.lifelineType?(0,c.V)(e.area.w,t):(0,l.Qb)(e.area.w,t,e.shapeProps.cornerRadius)}(this.item)},strokeDashArray(){return a.Z.createDashArray(this.item.shapeProps.strokePattern,this.item.shapeProps.strokeSize)},svgFill(){return(0,s.pz)(this.item.shapeProps.fill,`fill-pattern-${this.item.id}`)},rectArea(){const e=r.Z.clamp(this.item.shapeProps.size,0,this.item.area.h);return{x:0,y:0,w:this.item.area.w,h:e}},shapeStroke(){return"rect"!==this.item.shapeProps.lifelineType||this.item.shapeProps.rectStroke?this.item.shapeProps.strokeColor:"none"}}},d=(0,n(1900).Z)(h,i,[],!1,null,null,null).exports},1900:(e,t,n)=>{"use strict";function i(e,t,n,i,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,{Z:()=>i})},2934:function(e,t,n){e.exports=function(){"use strict";var e=Object.freeze({});function t(e){return null==e}function i(e){return null!=e}function r(e){return!0===e}function o(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}var a=Object.prototype.toString;function l(e){return"[object Object]"===a.call(e)}function c(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function d(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===a?JSON.stringify(e,null,2):String(e)}function u(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var f=p("slot,component",!0),m=p("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var v=Object.prototype.hasOwnProperty;function y(e,t){return v.call(e,t)}function b(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var x=/-(\w)/g,w=b((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),A=b((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),C=/\B([A-Z])/g,k=b((function(e){return e.replace(C,"-$1").toLowerCase()})),S=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function P(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function I(e,t){for(var n in t)e[n]=t[n];return e}function E(e){for(var t={},n=0;n<e.length;n++)e[n]&&I(t,e[n]);return t}function _(e,t,n){}var T=function(e,t,n){return!1},$=function(e){return e};function M(e,t){if(e===t)return!0;var n=s(e),i=s(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every((function(e,n){return M(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every((function(n){return M(e[n],t[n])}))}catch(e){return!1}}function O(e,t){for(var n=0;n<e.length;n++)if(M(e[n],t))return n;return-1}function D(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var L="data-server-rendered",N=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],R={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:T,isReservedAttr:T,isUnknownElement:T,getTagNamespace:_,parsePlatformTagName:$,mustUseProp:T,async:!0,_lifecycleHooks:B},Z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function F(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var j,z=new RegExp("[^"+Z.source+".$_\\d]"),U="__proto__"in{},H="undefined"!=typeof window,V="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,q=V&&WXEnvironment.platform.toLowerCase(),W=H&&window.navigator.userAgent.toLowerCase(),G=W&&/msie|trident/.test(W),J=W&&W.indexOf("msie 9.0")>0,K=W&&W.indexOf("edge/")>0,Q=(W&&W.indexOf("android"),W&&/iphone|ipad|ipod|ios/.test(W)||"ios"===q),Y=(W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W),W&&W.match(/firefox\/(\d+)/)),X={}.watch,ee=!1;if(H)try{var te={};Object.defineProperty(te,"passive",{get:function(){ee=!0}}),window.addEventListener("test-passive",null,te)}catch(e){}var ne=function(){return void 0===j&&(j=!H&&!V&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),j},ie=H&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function re(e){return"function"==typeof e&&/native code/.test(e.toString())}var oe,se="undefined"!=typeof Symbol&&re(Symbol)&&"undefined"!=typeof Reflect&&re(Reflect.ownKeys);oe="undefined"!=typeof Set&&re(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ae=_,le=0,ce=function(){this.id=le++,this.subs=[]};ce.prototype.addSub=function(e){this.subs.push(e)},ce.prototype.removeSub=function(e){g(this.subs,e)},ce.prototype.depend=function(){ce.target&&ce.target.addDep(this)},ce.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},ce.target=null;var he=[];function de(e){he.push(e),ce.target=e}function ue(){he.pop(),ce.target=he[he.length-1]}var pe=function(e,t,n,i,r,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fe={child:{configurable:!0}};fe.child.get=function(){return this.componentInstance},Object.defineProperties(pe.prototype,fe);var me=function(e){void 0===e&&(e="");var t=new pe;return t.text=e,t.isComment=!0,t};function ge(e){return new pe(void 0,void 0,void 0,String(e))}function ve(e){var t=new pe(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ye=Array.prototype,be=Object.create(ye);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=ye[e];F(be,e,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o}))}));var xe=Object.getOwnPropertyNames(be),we=!0;function Ae(e){we=e}var Ce=function(e){var t;this.value=e,this.dep=new ce,this.vmCount=0,F(e,"__ob__",this),Array.isArray(e)?(U?(t=be,e.__proto__=t):function(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];F(e,o,t[o])}}(e,be,xe),this.observeArray(e)):this.walk(e)};function ke(e,t){var n;if(s(e)&&!(e instanceof pe))return y(e,"__ob__")&&e.__ob__ instanceof Ce?n=e.__ob__:we&&!ne()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Ce(e)),t&&n&&n.vmCount++,n}function Se(e,t,n,i,r){var o=new ce,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,l=s&&s.set;a&&!l||2!==arguments.length||(n=e[t]);var c=!r&&ke(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return ce.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,i=0,r=t.length;i<r;i++)(n=t[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var i=a?a.call(e):n;t===i||t!=t&&i!=i||a&&!l||(l?l.call(e,t):n=t,c=!r&&ke(t),o.notify())}})}}function Pe(e,t,n){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Se(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function Ie(e,t){if(Array.isArray(e)&&c(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||y(e,t)&&(delete e[t],n&&n.dep.notify())}}Ce.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Se(e,t[n])},Ce.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)ke(e[t])};var Ee=R.optionMergeStrategies;function _e(e,t){if(!t)return e;for(var n,i,r,o=se?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(n=o[s])&&(i=e[n],r=t[n],y(e,n)?i!==r&&l(i)&&l(r)&&_e(i,r):Pe(e,n,r));return e}function Te(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?_e(i,r):r}:t?e?function(){return _e("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function $e(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Me(e,t,n,i){var r=Object.create(e||null);return t?I(r,t):r}Ee.data=function(e,t,n){return n?Te(e,t,n):t&&"function"!=typeof t?e:Te(e,t)},B.forEach((function(e){Ee[e]=$e})),N.forEach((function(e){Ee[e+"s"]=Me})),Ee.watch=function(e,t,n,i){if(e===X&&(e=void 0),t===X&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in I(r,e),t){var s=r[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},Ee.props=Ee.methods=Ee.inject=Ee.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return I(r,e),t&&I(r,t),r},Ee.provide=Te;var Oe=function(e,t){return void 0===t?e:t};function De(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[w(r)]={type:null});else if(l(n))for(var s in n)r=n[s],o[w(s)]=l(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var o in n){var s=n[o];i[o]=l(s)?I({from:o},s):{from:s}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=De(e,t.extends,n)),t.mixins))for(var i=0,r=t.mixins.length;i<r;i++)e=De(e,t.mixins[i],n);var o,s={};for(o in e)a(o);for(o in t)y(e,o)||a(o);function a(i){var r=Ee[i]||Oe;s[i]=r(e[i],t[i],n,i)}return s}function Le(e,t,n,i){if("string"==typeof n){var r=e[t];if(y(r,n))return r[n];var o=w(n);if(y(r,o))return r[o];var s=A(o);return y(r,s)?r[s]:r[n]||r[o]||r[s]}}function Ne(e,t,n,i){var r=t[e],o=!y(n,e),s=n[e],a=Fe(Boolean,r.type);if(a>-1)if(o&&!y(r,"default"))s=!1;else if(""===s||s===k(e)){var l=Fe(String,r.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=function(e,t,n){if(y(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof i&&"Function"!==Re(t.type)?i.call(e):i}}(i,r,e);var c=we;Ae(!0),ke(s),Ae(c)}return s}var Be=/^\s*function (\w+)/;function Re(e){var t=e&&e.toString().match(Be);return t?t[1]:""}function Ze(e,t){return Re(e)===Re(t)}function Fe(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Ze(t[n],e))return n;return-1}function je(e,t,n){de();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(e){Ue(e,i,"errorCaptured hook")}}Ue(e,t,n)}finally{ue()}}function ze(e,t,n,i,r){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&h(o)&&!o._handled&&(o.catch((function(e){return je(e,i,r+" (Promise/async)")})),o._handled=!0)}catch(e){je(e,i,r)}return o}function Ue(e,t,n){if(R.errorHandler)try{return R.errorHandler.call(null,e,t,n)}catch(t){t!==e&&He(t)}He(e)}function He(e,t,n){if(!H&&!V||"undefined"==typeof console)throw e;console.error(e)}var Ve,qe=!1,We=[],Ge=!1;function Je(){Ge=!1;var e=We.slice(0);We.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&re(Promise)){var Ke=Promise.resolve();Ve=function(){Ke.then(Je),Q&&setTimeout(_)},qe=!0}else if(G||"undefined"==typeof MutationObserver||!re(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ve="undefined"!=typeof setImmediate&&re(setImmediate)?function(){setImmediate(Je)}:function(){setTimeout(Je,0)};else{var Qe=1,Ye=new MutationObserver(Je),Xe=document.createTextNode(String(Qe));Ye.observe(Xe,{characterData:!0}),Ve=function(){Qe=(Qe+1)%2,Xe.data=String(Qe)},qe=!0}function et(e,t){var n;if(We.push((function(){if(e)try{e.call(t)}catch(e){je(e,t,"nextTick")}else n&&n(t)})),Ge||(Ge=!0,Ve()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var tt=new oe;function nt(e){!function e(t,n){var i,r,o=Array.isArray(t);if(!(!o&&!s(t)||Object.isFrozen(t)||t instanceof pe)){if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(i=t.length;i--;)e(t[i],n);else for(i=(r=Object.keys(t)).length;i--;)e(t[r[i]],n)}}(e,tt),tt.clear()}var it=b((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function rt(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return ze(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)ze(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function ot(e,n,i,o,s,a){var l,c,h,d;for(l in e)c=e[l],h=n[l],d=it(l),t(c)||(t(h)?(t(c.fns)&&(c=e[l]=rt(c,a)),r(d.once)&&(c=e[l]=s(d.name,c,d.capture)),i(d.name,c,d.capture,d.passive,d.params)):c!==h&&(h.fns=c,e[l]=h));for(l in n)t(e[l])&&o((d=it(l)).name,n[l],d.capture)}function st(e,n,o){var s;e instanceof pe&&(e=e.data.hook||(e.data.hook={}));var a=e[n];function l(){o.apply(this,arguments),g(s.fns,l)}t(a)?s=rt([l]):i(a.fns)&&r(a.merged)?(s=a).fns.push(l):s=rt([a,l]),s.merged=!0,e[n]=s}function at(e,t,n,r,o){if(i(t)){if(y(t,n))return e[n]=t[n],o||delete t[n],!0;if(y(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function lt(e){return o(e)?[ge(e)]:Array.isArray(e)?function e(n,s){var a,l,c,h,d=[];for(a=0;a<n.length;a++)t(l=n[a])||"boolean"==typeof l||(h=d[c=d.length-1],Array.isArray(l)?l.length>0&&(ct((l=e(l,(s||"")+"_"+a))[0])&&ct(h)&&(d[c]=ge(h.text+l[0].text),l.shift()),d.push.apply(d,l)):o(l)?ct(h)?d[c]=ge(h.text+l):""!==l&&d.push(ge(l)):ct(l)&&ct(h)?d[c]=ge(h.text+l.text):(r(n._isVList)&&i(l.tag)&&t(l.key)&&i(s)&&(l.key="__vlist"+s+"_"+a+"__"),d.push(l)));return d}(e):void 0}function ct(e){return i(e)&&i(e.text)&&!1===e.isComment}function ht(e,t){if(e){for(var n=Object.create(null),i=se?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var s=e[o].from,a=t;a;){if(a._provided&&y(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in e[o]){var l=e[o].default;n[o]="function"==typeof l?l.call(t):l}}}return n}}function dt(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,l=n[a]||(n[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(ut)&&delete n[c];return n}function ut(e){return e.isComment&&!e.asyncFactory||" "===e.text}function pt(e){return e.isComment&&e.asyncFactory}function ft(t,n,i){var r,o=Object.keys(n).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==e&&a===i.$key&&!o&&!i.$hasNormal)return i;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=mt(n,l,t[l]))}else r={};for(var c in n)c in r||(r[c]=gt(n,c));return t&&Object.isExtensible(t)&&(t._normalized=r),F(r,"$stable",s),F(r,"$key",a),F(r,"$hasNormal",o),r}function mt(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({}),t=(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:lt(e))&&e[0];return e&&(!t||1===e.length&&t.isComment&&!pt(t))?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function gt(e,t){return function(){return e[t]}}function vt(e,t){var n,r,o,a,l;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(s(e))if(se&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),h=c.next();!h.done;)n.push(t(h.value,n.length)),h=c.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,o=a.length;r<o;r++)l=a[r],n[r]=t(e[l],l,r);return i(n)||(n=[]),n._isVList=!0,n}function yt(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=I(I({},i),n)),r=o(n)||("function"==typeof t?t():t)):r=this.$slots[e]||("function"==typeof t?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function bt(e){return Le(this.$options,"filters",e)||$}function xt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function wt(e,t,n,i,r){var o=R.keyCodes[t]||n;return r&&i&&!R.keyCodes[t]?xt(r,i):o?xt(o,e):i?k(i)!==t:void 0===e}function At(e,t,n,i,r){if(n&&s(n)){var o;Array.isArray(n)&&(n=E(n));var a=function(s){if("class"===s||"style"===s||m(s))o=e;else{var a=e.attrs&&e.attrs.type;o=i||R.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=w(s),c=k(s);l in o||c in o||(o[s]=n[s],r&&((e.on||(e.on={}))["update:"+s]=function(e){n[s]=e}))};for(var l in n)a(l)}return e}function Ct(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||St(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i}function kt(e,t,n){return St(e,"__once__"+t+(n?"_"+n:""),!0),e}function St(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Pt(e[i],t+"_"+i,n);else Pt(e,t,n)}function Pt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function It(e,t){if(t&&l(t)){var n=e.on=e.on?I({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}return e}function Et(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?Et(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function _t(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function Tt(e,t){return"string"==typeof e?t+e:e}function $t(e){e._o=kt,e._n=u,e._s=d,e._l=vt,e._t=yt,e._q=M,e._i=O,e._m=Ct,e._f=bt,e._k=wt,e._b=At,e._v=ge,e._e=me,e._u=Et,e._g=It,e._d=_t,e._p=Tt}function Mt(t,n,i,o,s){var a,l=this,c=s.options;y(o,"_uid")?(a=Object.create(o))._original=o:(a=o,o=o._original);var h=r(c._compiled),d=!h;this.data=t,this.props=n,this.children=i,this.parent=o,this.listeners=t.on||e,this.injections=ht(c.inject,o),this.slots=function(){return l.$slots||ft(t.scopedSlots,l.$slots=dt(i,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ft(t.scopedSlots,this.slots())}}),h&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=ft(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var r=jt(a,e,t,n,i,d);return r&&!Array.isArray(r)&&(r.fnScopeId=c._scopeId,r.fnContext=o),r}:this._c=function(e,t,n,i){return jt(a,e,t,n,i,d)}}function Ot(e,t,n,i,r){var o=ve(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Dt(e,t){for(var n in t)e[w(n)]=t[n]}$t(Mt.prototype);var Lt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Lt.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}(e,Kt)).$mount(t?e.elm:void 0,t)},prepatch:function(t,n){var i=n.componentOptions;!function(t,n,i,r,o){var s=r.data.scopedSlots,a=t.$scopedSlots,l=!!(s&&!s.$stable||a!==e&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||e,t.$listeners=i||e,n&&t.$options.props){Ae(!1);for(var h=t._props,d=t.$options._propKeys||[],u=0;u<d.length;u++){var p=d[u],f=t.$options.props;h[p]=Ne(p,f,n,t)}Ae(!0),t.$options.propsData=n}i=i||e;var m=t.$options._parentListeners;t.$options._parentListeners=i,Jt(t,i,m),c&&(t.$slots=dt(o,r.context),t.$forceUpdate())}(n.componentInstance=t.componentInstance,i.propsData,i.listeners,n,i.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,en(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,nn.push(t)):Xt(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,Yt(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)e(t.$children[i]);en(t,"deactivated")}}(t,!0):t.$destroy())}},Nt=Object.keys(Lt);function Bt(n,o,a,l,c){if(!t(n)){var d=a.$options._base;if(s(n)&&(n=d.extend(n)),"function"==typeof n){var u;if(t(n.cid)&&void 0===(n=function(e,n){if(r(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var o=Ut;if(o&&i(e.owners)&&-1===e.owners.indexOf(o)&&e.owners.push(o),r(e.loading)&&i(e.loadingComp))return e.loadingComp;if(o&&!i(e.owners)){var a=e.owners=[o],l=!0,c=null,d=null;o.$on("hook:destroyed",(function(){return g(a,o)}));var u=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==d&&(clearTimeout(d),d=null))},p=D((function(t){e.resolved=Ht(t,n),l?a.length=0:u(!0)})),f=D((function(t){i(e.errorComp)&&(e.error=!0,u(!0))})),m=e(p,f);return s(m)&&(h(m)?t(e.resolved)&&m.then(p,f):h(m.component)&&(m.component.then(p,f),i(m.error)&&(e.errorComp=Ht(m.error,n)),i(m.loading)&&(e.loadingComp=Ht(m.loading,n),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,t(e.resolved)&&t(e.error)&&(e.loading=!0,u(!1))}),m.delay||200)),i(m.timeout)&&(d=setTimeout((function(){d=null,t(e.resolved)&&f(null)}),m.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(u=n,d)))return function(e,t,n,i,r){var o=me();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(u,o,a,l,c);o=o||{},An(n),i(o.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],a=t.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}(n.options,o);var p=function(e,n,r){var o=n.options.props;if(!t(o)){var s={},a=e.attrs,l=e.props;if(i(a)||i(l))for(var c in o){var h=k(c);at(s,l,c,h,!0)||at(s,a,c,h,!1)}return s}}(o,n);if(r(n.options.functional))return function(t,n,r,o,s){var a=t.options,l={},c=a.props;if(i(c))for(var h in c)l[h]=Ne(h,c,n||e);else i(r.attrs)&&Dt(l,r.attrs),i(r.props)&&Dt(l,r.props);var d=new Mt(r,l,s,o,t),u=a.render.call(null,d._c,d);if(u instanceof pe)return Ot(u,r,d.parent,a);if(Array.isArray(u)){for(var p=lt(u)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Ot(p[m],r,d.parent,a);return f}}(n,p,o,a,l);var f=o.on;if(o.on=o.nativeOn,r(n.options.abstract)){var m=o.slot;o={},m&&(o.slot=m)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Nt.length;n++){var i=Nt[n],r=t[i],o=Lt[i];r===o||r&&r._merged||(t[i]=r?Rt(o,r):o)}}(o);var v=n.options.name||c;return new pe("vue-component-"+n.cid+(v?"-"+v:""),o,void 0,void 0,void 0,a,{Ctor:n,propsData:p,listeners:f,tag:c,children:l},u)}}}function Rt(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}var Zt=1,Ft=2;function jt(e,n,a,l,c,h){return(Array.isArray(a)||o(a))&&(c=l,l=a,a=void 0),r(h)&&(c=Ft),function(e,n,o,a,l){return i(o)&&i(o.__ob__)?me():(i(o)&&i(o.is)&&(n=o.is),n?(Array.isArray(a)&&"function"==typeof a[0]&&((o=o||{}).scopedSlots={default:a[0]},a.length=0),l===Ft?a=lt(a):l===Zt&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a)),"string"==typeof n?(h=e.$vnode&&e.$vnode.ns||R.getTagNamespace(n),c=R.isReservedTag(n)?new pe(R.parsePlatformTagName(n),o,a,void 0,void 0,e):o&&o.pre||!i(d=Le(e.$options,"components",n))?new pe(n,o,a,void 0,void 0,e):Bt(d,o,e,a,n)):c=Bt(n,o,e,a),Array.isArray(c)?c:i(c)?(i(h)&&function e(n,o,s){if(n.ns=o,"foreignObject"===n.tag&&(o=void 0,s=!0),i(n.children))for(var a=0,l=n.children.length;a<l;a++){var c=n.children[a];i(c.tag)&&(t(c.ns)||r(s)&&"svg"!==c.tag)&&e(c,o,s)}}(c,h),i(o)&&function(e){s(e.style)&&nt(e.style),s(e.class)&&nt(e.class)}(o),c):me()):me());var c,h,d}(e,n,a,l,c)}var zt,Ut=null;function Ht(e,t){return(e.__esModule||se&&"Module"===e[Symbol.toStringTag])&&(e=e.default),s(e)?t.extend(e):e}function Vt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||pt(n)))return n}}function qt(e,t){zt.$on(e,t)}function Wt(e,t){zt.$off(e,t)}function Gt(e,t){var n=zt;return function i(){null!==t.apply(null,arguments)&&n.$off(e,i)}}function Jt(e,t,n){zt=e,ot(t,n||{},qt,Wt,Gt,e),zt=void 0}var Kt=null;function Qt(e){var t=Kt;return Kt=e,function(){Kt=t}}function Yt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Xt(e,t){if(t){if(e._directInactive=!1,Yt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Xt(e.$children[n]);en(e,"activated")}}function en(e,t){de();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)ze(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),ue()}var tn=[],nn=[],rn={},on=!1,sn=!1,an=0,ln=0,cn=Date.now;if(H&&!G){var hn=window.performance;hn&&"function"==typeof hn.now&&cn()>document.createEvent("Event").timeStamp&&(cn=function(){return hn.now()})}function dn(){var e,t;for(ln=cn(),sn=!0,tn.sort((function(e,t){return e.id-t.id})),an=0;an<tn.length;an++)(e=tn[an]).before&&e.before(),t=e.id,rn[t]=null,e.run();var n=nn.slice(),i=tn.slice();an=tn.length=nn.length=0,rn={},on=sn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Xt(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&en(i,"updated")}}(i),ie&&R.devtools&&ie.emit("flush")}var un=0,pn=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++un,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new oe,this.newDepIds=new oe,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!z.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=_)),this.value=this.lazy?void 0:this.get()};pn.prototype.get=function(){var e;de(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;je(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&nt(e),ue(),this.cleanupDeps()}return e},pn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},pn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},pn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==rn[t]){if(rn[t]=!0,sn){for(var n=tn.length-1;n>an&&tn[n].id>e.id;)n--;tn.splice(n+1,0,e)}else tn.push(e);on||(on=!0,et(dn))}}(this)},pn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'+this.expression+'"';ze(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},pn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},pn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},pn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var fn={enumerable:!0,configurable:!0,get:_,set:_};function mn(e,t,n){fn.get=function(){return this[t][n]},fn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,fn)}var gn={lazy:!0};function vn(e,t,n){var i=!ne();"function"==typeof n?(fn.get=i?yn(t):bn(n),fn.set=_):(fn.get=n.get?i&&!1!==n.cache?yn(t):bn(n.get):_,fn.set=n.set||_),Object.defineProperty(e,t,fn)}function yn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ce.target&&t.depend(),t.value}}function bn(e){return function(){return e.call(this,this)}}function xn(e,t,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}var wn=0;function An(e){var t=e.options;if(e.super){var n=An(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&I(e.extendOptions,i),(t=e.options=De(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Cn(e){this._init(e)}function kn(e){return e&&(e.Ctor.options.name||e.tag)}function Sn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===a.call(n)&&e.test(t));var n}function Pn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!t(a)&&In(n,o,i,r)}}}function In(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,g(n,t)}!function(t){t.prototype._init=function(t){var n=this;n._uid=wn++,n._isVue=!0,t&&t._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(n,t):n.$options=De(An(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Jt(e,t)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,i=t.$vnode=n._parentVnode,r=i&&i.context;t.$slots=dt(n._renderChildren,r),t.$scopedSlots=e,t._c=function(e,n,i,r){return jt(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return jt(t,e,n,i,r,!0)};var o=i&&i.data;Se(t,"$attrs",o&&o.attrs||e,null,!0),Se(t,"$listeners",n._parentListeners||e,null,!0)}(n),en(n,"beforeCreate"),function(e){var t=ht(e.$options.inject,e);t&&(Ae(!1),Object.keys(t).forEach((function(n){Se(e,n,t[n])})),Ae(!0))}(n),function(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&Ae(!1);var o=function(o){r.push(o);var s=Ne(o,t,n,e);Se(i,o,s),o in e||mn(e,"_props",o)};for(var s in t)o(s);Ae(!0)}(e,t.props),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?_:S(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){de();try{return e.call(t,t)}catch(e){return je(e,t,"data()"),{}}finally{ue()}}(t,e):t||{})||(t={});for(var n,i=Object.keys(t),r=e.$options.props,o=(e.$options.methods,i.length);o--;){var s=i[o];r&&y(r,s)||36!==(n=(s+"").charCodeAt(0))&&95!==n&&mn(e,"_data",s)}ke(t,!0)}(e):ke(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=ne();for(var r in t){var o=t[r],s="function"==typeof o?o:o.get;i||(n[r]=new pn(e,s||_,_,gn)),r in e||vn(e,r,o)}}(e,t.computed),t.watch&&t.watch!==X&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)xn(e,n,i[r]);else xn(e,n,i)}}(e,t.watch)}(n),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(n),en(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Cn),function(e){Object.defineProperty(e.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(e.prototype,"$props",{get:function(){return this._props}}),e.prototype.$set=Pe,e.prototype.$delete=Ie,e.prototype.$watch=function(e,t,n){if(l(t))return xn(this,e,t,n);(n=n||{}).user=!0;var i=new pn(this,e,t,n);if(n.immediate){var r='callback for immediate watcher "'+i.expression+'"';de(),ze(t,this,[i.value],this,r),ue()}return function(){i.teardown()}}}(Cn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;for(var a=s.length;a--;)if((o=s[a])===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?P(t):t;for(var n=P(arguments,1),i='event handler for "'+e+'"',r=0,o=t.length;r<o;r++)ze(t[r],this,n,this,i)}return this}}(Cn),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=Qt(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){en(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),en(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Cn),function(e){$t(e.prototype),e.prototype.$nextTick=function(e){return et(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=ft(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{Ut=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){je(n,t,"render"),e=t._vnode}finally{Ut=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof pe||(e=me()),e.parent=r,e}}(Cn);var En=[String,RegExp,Array],_n={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:En,exclude:En,max:[String,Number]},methods:{cacheVNode:function(){var e=this.cache,t=this.keys,n=this.vnodeToCache,i=this.keyToCache;if(n){var r=n.tag,o=n.componentInstance,s=n.componentOptions;e[i]={name:kn(s),tag:r,componentInstance:o},t.push(i),this.max&&t.length>parseInt(this.max)&&In(e,t[0],t,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)In(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Pn(e,(function(e){return Sn(t,e)}))})),this.$watch("exclude",(function(t){Pn(e,(function(e){return!Sn(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Vt(e),n=t&&t.componentOptions;if(n){var i=kn(n),r=this.include,o=this.exclude;if(r&&(!i||!Sn(r,i))||o&&i&&Sn(o,i))return t;var s=this.cache,a=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;s[l]?(t.componentInstance=s[l].componentInstance,g(a,l),a.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return R}};Object.defineProperty(e,"config",t),e.util={warn:ae,extend:I,mergeOptions:De,defineReactive:Se},e.set=Pe,e.delete=Ie,e.nextTick=et,e.observable=function(e){return ke(e),e},e.options=Object.create(null),N.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,I(e.options.components,_n),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=P(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=De(this.options,e),this}}(e),function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name,s=function(e){this._init(e)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=t++,s.options=De(n.options,e),s.super=n,s.options.props&&function(e){var t=e.options.props;for(var n in t)mn(e.prototype,"_props",n)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var n in t)vn(e.prototype,n,t[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,N.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=I({},s.options),r[i]=s,s}}(e),function(e){N.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Cn),Object.defineProperty(Cn.prototype,"$isServer",{get:ne}),Object.defineProperty(Cn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Cn,"FunctionalRenderContext",{value:Mt}),Cn.version="2.6.14";var Tn=p("style,class"),$n=p("input,textarea,option,select,progress"),Mn=function(e,t,n){return"value"===n&&$n(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},On=p("contenteditable,draggable,spellcheck"),Dn=p("events,caret,typing,plaintext-only"),Ln=function(e,t){return Fn(t)||"false"===t?"false":"contenteditable"===e&&Dn(t)?t:"true"},Nn=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Bn="http://www.w3.org/1999/xlink",Rn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Zn=function(e){return Rn(e)?e.slice(6,e.length):""},Fn=function(e){return null==e||!1===e};function jn(e,t){return{staticClass:zn(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function zn(e,t){return e?t?e+" "+t:e:t||""}function Un(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Un(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):s(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Hn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Vn=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),qn=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wn=function(e){return Vn(e)||qn(e)};function Gn(e){return qn(e)?"svg":"math"===e?"math":void 0}var Jn=Object.create(null),Kn=p("text,number,password,search,email,tel,url");function Qn(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}var Yn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Hn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Xn={create:function(e,t){ei(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ei(e,!0),ei(t))},destroy:function(e){ei(e,!0)}};function ei(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?g(s[n],o):s[n]===o&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var ti=new pe("",{},[]),ni=["create","activate","update","remove","destroy"];function ii(e,n){return e.key===n.key&&e.asyncFactory===n.asyncFactory&&(e.tag===n.tag&&e.isComment===n.isComment&&i(e.data)===i(n.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||Kn(r)&&Kn(o)}(e,n)||r(e.isAsyncPlaceholder)&&t(n.asyncFactory.error))}function ri(e,t,n){var r,o,s={};for(r=t;r<=n;++r)i(o=e[r].key)&&(s[o]=r);return s}var oi={create:si,update:si,destroy:function(e){si(e,ti)}};function si(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===ti,s=t===ti,a=li(e.data.directives,e.context),l=li(t.data.directives,t.context),c=[],h=[];for(n in l)i=a[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,hi(r,"update",t,e),r.def&&r.def.componentUpdated&&h.push(r)):(hi(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)hi(c[n],"inserted",t,e)};o?st(t,"insert",d):d()}if(h.length&&st(t,"postpatch",(function(){for(var n=0;n<h.length;n++)hi(h[n],"componentUpdated",t,e)})),!o)for(n in a)l[n]||hi(a[n],"unbind",e,e,s)}(e,t)}var ai=Object.create(null);function li(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=ai),r[ci(i)]=i,i.def=Le(t.$options,"directives",i.name);return r}function ci(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function hi(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){je(i,n.context,"directive "+e.name+" "+t+" hook")}}var di=[Xn,oi];function ui(e,n){var r=n.componentOptions;if(!(i(r)&&!1===r.Ctor.options.inheritAttrs||t(e.data.attrs)&&t(n.data.attrs))){var o,s,a=n.elm,l=e.data.attrs||{},c=n.data.attrs||{};for(o in i(c.__ob__)&&(c=n.data.attrs=I({},c)),c)s=c[o],l[o]!==s&&pi(a,o,s,n.data.pre);for(o in(G||K)&&c.value!==l.value&&pi(a,"value",c.value),l)t(c[o])&&(Rn(o)?a.removeAttributeNS(Bn,Zn(o)):On(o)||a.removeAttribute(o))}}function pi(e,t,n,i){i||e.tagName.indexOf("-")>-1?fi(e,t,n):Nn(t)?Fn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):On(t)?e.setAttribute(t,Ln(t,n)):Rn(t)?Fn(n)?e.removeAttributeNS(Bn,Zn(t)):e.setAttributeNS(Bn,t,n):fi(e,t,n)}function fi(e,t,n){if(Fn(n))e.removeAttribute(t);else{if(G&&!J&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var mi={create:ui,update:ui};function gi(e,n){var r=n.elm,o=n.data,s=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(s)||t(s.staticClass)&&t(s.class)))){var a=function(e){for(var t=e.data,n=e,r=e;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=jn(r.data,t));for(;i(n=n.parent);)n&&n.data&&(t=jn(t,n.data));return function(e,t){return i(e)||i(t)?zn(e,Un(t)):""}(t.staticClass,t.class)}(n),l=r._transitionClasses;i(l)&&(a=zn(a,Un(l))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}var vi,yi,bi,xi,wi,Ai,Ci={create:gi,update:gi},ki=/[\w).+\-_$\]]/;function Si(e){var t,n,i,r,o,s=!1,a=!1,l=!1,c=!1,h=0,d=0,u=0,p=0;for(i=0;i<e.length;i++)if(n=t,t=e.charCodeAt(i),s)39===t&&92!==n&&(s=!1);else if(a)34===t&&92!==n&&(a=!1);else if(l)96===t&&92!==n&&(l=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||h||d||u){switch(t){case 34:a=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:u++;break;case 41:u--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===t){for(var f=i-1,m=void 0;f>=0&&" "===(m=e.charAt(f));f--);m&&ki.test(m)||(c=!0)}}else void 0===r?(p=i+1,r=e.slice(0,i).trim()):g();function g(){(o||(o=[])).push(e.slice(p,i).trim()),p=i+1}if(void 0===r?r=e.slice(0,i).trim():0!==p&&g(),o)for(i=0;i<o.length;i++)r=Pi(r,o[i]);return r}function Pi(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var i=t.slice(0,n),r=t.slice(n+1);return'_f("'+i+'")('+e+(")"!==r?","+r:r)}function Ii(e,t){console.error("[Vue compiler]: "+e)}function Ei(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function _i(e,t,n,i,r){(e.props||(e.props=[])).push(Ri({name:t,value:n,dynamic:r},i)),e.plain=!1}function Ti(e,t,n,i,r){(r?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Ri({name:t,value:n,dynamic:r},i)),e.plain=!1}function $i(e,t,n,i){e.attrsMap[t]=n,e.attrsList.push(Ri({name:t,value:n},i))}function Mi(e,t,n,i,r,o,s,a){(e.directives||(e.directives=[])).push(Ri({name:t,rawName:n,value:i,arg:r,isDynamicArg:o,modifiers:s},a)),e.plain=!1}function Oi(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Di(t,n,i,r,o,s,a,l){var c;(r=r||e).right?l?n="("+n+")==='click'?'contextmenu':("+n+")":"click"===n&&(n="contextmenu",delete r.right):r.middle&&(l?n="("+n+")==='click'?'mouseup':("+n+")":"click"===n&&(n="mouseup")),r.capture&&(delete r.capture,n=Oi("!",n,l)),r.once&&(delete r.once,n=Oi("~",n,l)),r.passive&&(delete r.passive,n=Oi("&",n,l)),r.native?(delete r.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var h=Ri({value:i.trim(),dynamic:l},a);r!==e&&(h.modifiers=r);var d=c[n];Array.isArray(d)?o?d.unshift(h):d.push(h):c[n]=d?o?[h,d]:[d,h]:h,t.plain=!1}function Li(e,t,n){var i=Ni(e,":"+t)||Ni(e,"v-bind:"+t);if(null!=i)return Si(i);if(!1!==n){var r=Ni(e,t);if(null!=r)return JSON.stringify(r)}}function Ni(e,t,n){var i;if(null!=(i=e.attrsMap[t]))for(var r=e.attrsList,o=0,s=r.length;o<s;o++)if(r[o].name===t){r.splice(o,1);break}return n&&delete e.attrsMap[t],i}function Bi(e,t){for(var n=e.attrsList,i=0,r=n.length;i<r;i++){var o=n[i];if(t.test(o.name))return n.splice(i,1),o}}function Ri(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Zi(e,t,n){var i=n||{},r=i.number,o="$$v";i.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var s=Fi(t,o);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+s+"}"}}function Fi(e,t){var n=function(e){if(e=e.trim(),vi=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<vi-1)return(xi=e.lastIndexOf("."))>-1?{exp:e.slice(0,xi),key:'"'+e.slice(xi+1)+'"'}:{exp:e,key:null};for(yi=e,xi=wi=Ai=0;!zi();)Ui(bi=ji())?Vi(bi):91===bi&&Hi(bi);return{exp:e.slice(0,wi),key:e.slice(wi+1,Ai)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function ji(){return yi.charCodeAt(++xi)}function zi(){return xi>=vi}function Ui(e){return 34===e||39===e}function Hi(e){var t=1;for(wi=xi;!zi();)if(Ui(e=ji()))Vi(e);else if(91===e&&t++,93===e&&t--,0===t){Ai=xi;break}}function Vi(e){for(var t=e;!zi()&&(e=ji())!==t;);}var qi,Wi="__r",Gi="__c";function Ji(e,t,n){var i=qi;return function r(){null!==t.apply(null,arguments)&&Yi(e,r,n,i)}}var Ki=qe&&!(Y&&Number(Y[1])<=53);function Qi(e,t,n,i){if(Ki){var r=ln,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}qi.addEventListener(e,t,ee?{capture:n,passive:i}:n)}function Yi(e,t,n,i){(i||qi).removeEventListener(e,t._wrapper||t,n)}function Xi(e,n){if(!t(e.data.on)||!t(n.data.on)){var r=n.data.on||{},o=e.data.on||{};qi=n.elm,function(e){if(i(e[Wi])){var t=G?"change":"input";e[t]=[].concat(e[Wi],e[t]||[]),delete e[Wi]}i(e[Gi])&&(e.change=[].concat(e[Gi],e.change||[]),delete e[Gi])}(r),ot(r,o,Qi,Yi,Ji,n.context),qi=void 0}}var er,tr={create:Xi,update:Xi};function nr(e,n){if(!t(e.data.domProps)||!t(n.data.domProps)){var r,o,s=n.elm,a=e.data.domProps||{},l=n.data.domProps||{};for(r in i(l.__ob__)&&(l=n.data.domProps=I({},l)),a)r in l||(s[r]="");for(r in l){if(o=l[r],"textContent"===r||"innerHTML"===r){if(n.children&&(n.children.length=0),o===a[r])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===r&&"PROGRESS"!==s.tagName){s._value=o;var c=t(o)?"":String(o);ir(s,c)&&(s.value=c)}else if("innerHTML"===r&&qn(s.tagName)&&t(s.innerHTML)){(er=er||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var h=er.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;h.firstChild;)s.appendChild(h.firstChild)}else if(o!==a[r])try{s[r]=o}catch(e){}}}}function ir(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return u(n)!==u(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var rr={create:nr,update:nr},or=b((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function sr(e){var t=ar(e.style);return e.staticStyle?I(e.staticStyle,t):t}function ar(e){return Array.isArray(e)?E(e):"string"==typeof e?or(e):e}var lr,cr=/^--/,hr=/\s*!important$/,dr=function(e,t,n){if(cr.test(t))e.style.setProperty(t,n);else if(hr.test(n))e.style.setProperty(k(t),n.replace(hr,""),"important");else{var i=pr(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},ur=["Webkit","Moz","ms"],pr=b((function(e){if(lr=lr||document.createElement("div").style,"filter"!==(e=w(e))&&e in lr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<ur.length;n++){var i=ur[n]+t;if(i in lr)return i}}));function fr(e,n){var r=n.data,o=e.data;if(!(t(r.staticStyle)&&t(r.style)&&t(o.staticStyle)&&t(o.style))){var s,a,l=n.elm,c=o.staticStyle,h=o.normalizedStyle||o.style||{},d=c||h,u=ar(n.data.style)||{};n.data.normalizedStyle=i(u.__ob__)?I({},u):u;var p=function(e,t){for(var n,i={},r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=sr(r.data))&&I(i,n);(n=sr(e.data))&&I(i,n);for(var o=e;o=o.parent;)o.data&&(n=sr(o.data))&&I(i,n);return i}(n);for(a in d)t(p[a])&&dr(l,a,"");for(a in p)(s=p[a])!==d[a]&&dr(l,a,null==s?"":s)}}var mr={create:fr,update:fr},gr=/\s+/;function vr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(gr).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function yr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(gr).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function br(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&I(t,xr(e.name||"v")),I(t,e),t}return"string"==typeof e?xr(e):void 0}}var xr=b((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),wr=H&&!J,Ar="transition",Cr="animation",kr="transition",Sr="transitionend",Pr="animation",Ir="animationend";wr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(kr="WebkitTransition",Sr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Pr="WebkitAnimation",Ir="webkitAnimationEnd"));var Er=H?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function _r(e){Er((function(){Er(e)}))}function Tr(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),vr(e,t))}function $r(e,t){e._transitionClasses&&g(e._transitionClasses,t),yr(e,t)}function Mr(e,t,n){var i=Dr(e,t),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===Ar?Sr:Ir,l=0,c=function(){e.removeEventListener(a,h),n()},h=function(t){t.target===e&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),o+1),e.addEventListener(a,h)}var Or=/\b(transform|all)(,|$)/;function Dr(e,t){var n,i=window.getComputedStyle(e),r=(i[kr+"Delay"]||"").split(", "),o=(i[kr+"Duration"]||"").split(", "),s=Lr(r,o),a=(i[Pr+"Delay"]||"").split(", "),l=(i[Pr+"Duration"]||"").split(", "),c=Lr(a,l),h=0,d=0;return t===Ar?s>0&&(n=Ar,h=s,d=o.length):t===Cr?c>0&&(n=Cr,h=c,d=l.length):d=(n=(h=Math.max(s,c))>0?s>c?Ar:Cr:null)?n===Ar?o.length:l.length:0,{type:n,timeout:h,propCount:d,hasTransform:n===Ar&&Or.test(i[kr+"Property"])}}function Lr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Nr(t)+Nr(e[n])})))}function Nr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Br(e,n){var r=e.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=br(e.data.transition);if(!t(o)&&!i(r._enterCb)&&1===r.nodeType){for(var a=o.css,l=o.type,c=o.enterClass,h=o.enterToClass,d=o.enterActiveClass,p=o.appearClass,f=o.appearToClass,m=o.appearActiveClass,g=o.beforeEnter,v=o.enter,y=o.afterEnter,b=o.enterCancelled,x=o.beforeAppear,w=o.appear,A=o.afterAppear,C=o.appearCancelled,k=o.duration,S=Kt,P=Kt.$vnode;P&&P.parent;)S=P.context,P=P.parent;var I=!S._isMounted||!e.isRootInsert;if(!I||w||""===w){var E=I&&p?p:c,_=I&&m?m:d,T=I&&f?f:h,$=I&&x||g,M=I&&"function"==typeof w?w:v,O=I&&A||y,L=I&&C||b,N=u(s(k)?k.enter:k),B=!1!==a&&!J,R=Fr(M),Z=r._enterCb=D((function(){B&&($r(r,T),$r(r,_)),Z.cancelled?(B&&$r(r,E),L&&L(r)):O&&O(r),r._enterCb=null}));e.data.show||st(e,"insert",(function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(r,Z)})),$&&$(r),B&&(Tr(r,E),Tr(r,_),_r((function(){$r(r,E),Z.cancelled||(Tr(r,T),R||(Zr(N)?setTimeout(Z,N):Mr(r,l,Z)))}))),e.data.show&&(n&&n(),M&&M(r,Z)),B||R||Z()}}}function Rr(e,n){var r=e.elm;i(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var o=br(e.data.transition);if(t(o)||1!==r.nodeType)return n();if(!i(r._leaveCb)){var a=o.css,l=o.type,c=o.leaveClass,h=o.leaveToClass,d=o.leaveActiveClass,p=o.beforeLeave,f=o.leave,m=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,y=o.duration,b=!1!==a&&!J,x=Fr(f),w=u(s(y)?y.leave:y),A=r._leaveCb=D((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),b&&($r(r,h),$r(r,d)),A.cancelled?(b&&$r(r,c),g&&g(r)):(n(),m&&m(r)),r._leaveCb=null}));v?v(C):C()}function C(){A.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),p&&p(r),b&&(Tr(r,c),Tr(r,d),_r((function(){$r(r,c),A.cancelled||(Tr(r,h),x||(Zr(w)?setTimeout(A,w):Mr(r,l,A)))}))),f&&f(r,A),b||x||A())}}function Zr(e){return"number"==typeof e&&!isNaN(e)}function Fr(e){if(t(e))return!1;var n=e.fns;return i(n)?Fr(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function jr(e,t){!0!==t.data.show&&Br(t)}var zr=function(e){var n,s,a={},l=e.modules,c=e.nodeOps;for(n=0;n<ni.length;++n)for(a[ni[n]]=[],s=0;s<l.length;++s)i(l[s][ni[n]])&&a[ni[n]].push(l[s][ni[n]]);function h(e){var t=c.parentNode(e);i(t)&&c.removeChild(t,e)}function d(e,t,n,o,s,l,h){if(i(e.elm)&&i(l)&&(e=l[h]=ve(e)),e.isRootInsert=!s,!function(e,t,n,o){var s=e.data;if(i(s)){var l=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return u(e,t),f(n,e.elm,o),r(l)&&function(e,t,n,r){for(var o,s=e;s.componentInstance;)if(i(o=(s=s.componentInstance._vnode).data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](ti,s);t.push(s);break}f(n,e.elm,r)}(e,t,n,o),!0}}(e,t,n,o)){var d=e.data,p=e.children,g=e.tag;i(g)?(e.elm=e.ns?c.createElementNS(e.ns,g):c.createElement(g,e),y(e),m(e,p,t),i(d)&&v(e,t),f(n,e.elm,o)):r(e.isComment)?(e.elm=c.createComment(e.text),f(n,e.elm,o)):(e.elm=c.createTextNode(e.text),f(n,e.elm,o))}}function u(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(v(e,t),y(e)):(ei(e),t.push(e))}function f(e,t,n){i(e)&&(i(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function m(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)d(t[i],n,e.elm,null,!0,t,i);else o(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function v(e,t){for(var r=0;r<a.create.length;++r)a.create[r](ti,e);i(n=e.data.hook)&&(i(n.create)&&n.create(ti,e),i(n.insert)&&t.push(e))}function y(e){var t;if(i(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)i(t=n.context)&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;i(t=Kt)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function b(e,t,n,i,r,o){for(;i<=r;++i)d(n[i],o,e,t,!1,n,i)}function x(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)x(e.children[n])}function w(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(A(r),x(r)):h(r.elm))}}function A(e,t){if(i(t)||i(e.data)){var n,r=a.remove.length+1;for(i(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&h(e)}return n.listeners=t,n}(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&A(n,t),n=0;n<a.remove.length;++n)a.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else h(e.elm)}function C(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(i(s)&&ii(e,s))return o}}function k(e,n,o,s,l,h){if(e!==n){i(n.elm)&&i(s)&&(n=s[l]=ve(n));var u=n.elm=e.elm;if(r(e.isAsyncPlaceholder))i(n.asyncFactory.resolved)?I(e.elm,n,o):n.isAsyncPlaceholder=!0;else if(r(n.isStatic)&&r(e.isStatic)&&n.key===e.key&&(r(n.isCloned)||r(n.isOnce)))n.componentInstance=e.componentInstance;else{var p,f=n.data;i(f)&&i(p=f.hook)&&i(p=p.prepatch)&&p(e,n);var m=e.children,v=n.children;if(i(f)&&g(n)){for(p=0;p<a.update.length;++p)a.update[p](e,n);i(p=f.hook)&&i(p=p.update)&&p(e,n)}t(n.text)?i(m)&&i(v)?m!==v&&function(e,n,r,o,s){for(var a,l,h,u=0,p=0,f=n.length-1,m=n[0],g=n[f],v=r.length-1,y=r[0],x=r[v],A=!s;u<=f&&p<=v;)t(m)?m=n[++u]:t(g)?g=n[--f]:ii(m,y)?(k(m,y,o,r,p),m=n[++u],y=r[++p]):ii(g,x)?(k(g,x,o,r,v),g=n[--f],x=r[--v]):ii(m,x)?(k(m,x,o,r,v),A&&c.insertBefore(e,m.elm,c.nextSibling(g.elm)),m=n[++u],x=r[--v]):ii(g,y)?(k(g,y,o,r,p),A&&c.insertBefore(e,g.elm,m.elm),g=n[--f],y=r[++p]):(t(a)&&(a=ri(n,u,f)),t(l=i(y.key)?a[y.key]:C(y,n,u,f))?d(y,o,e,m.elm,!1,r,p):ii(h=n[l],y)?(k(h,y,o,r,p),n[l]=void 0,A&&c.insertBefore(e,h.elm,m.elm)):d(y,o,e,m.elm,!1,r,p),y=r[++p]);u>f?b(e,t(r[v+1])?null:r[v+1].elm,r,p,v,o):p>v&&w(n,u,f)}(u,m,v,o,h):i(v)?(i(e.text)&&c.setTextContent(u,""),b(u,null,v,0,v.length-1,o)):i(m)?w(m,0,m.length-1):i(e.text)&&c.setTextContent(u,""):e.text!==n.text&&c.setTextContent(u,n.text),i(f)&&i(p=f.hook)&&i(p=p.postpatch)&&p(e,n)}}}function S(e,t,n){if(r(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}var P=p("attrs,class,staticClass,staticStyle,key");function I(e,t,n,o){var s,a=t.tag,l=t.data,c=t.children;if(o=o||l&&l.pre,t.elm=e,r(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(l)&&(i(s=l.hook)&&i(s=s.init)&&s(t,!0),i(s=t.componentInstance)))return u(t,n),!0;if(i(a)){if(i(c))if(e.hasChildNodes())if(i(s=l)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var h=!0,d=e.firstChild,p=0;p<c.length;p++){if(!d||!I(d,c[p],n,o)){h=!1;break}d=d.nextSibling}if(!h||d)return!1}else m(t,c,n);if(i(l)){var f=!1;for(var g in l)if(!P(g)){f=!0,v(t,n);break}!f&&l.class&&nt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,n,o,s){if(!t(n)){var l,h=!1,u=[];if(t(e))h=!0,d(n,u);else{var p=i(e.nodeType);if(!p&&ii(e,n))k(e,n,u,null,null,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(L)&&(e.removeAttribute(L),o=!0),r(o)&&I(e,n,u))return S(n,u,!0),e;l=e,e=new pe(c.tagName(l).toLowerCase(),{},[],void 0,l)}var f=e.elm,m=c.parentNode(f);if(d(n,u,f._leaveCb?null:m,c.nextSibling(f)),i(n.parent))for(var v=n.parent,y=g(n);v;){for(var b=0;b<a.destroy.length;++b)a.destroy[b](v);if(v.elm=n.elm,y){for(var A=0;A<a.create.length;++A)a.create[A](ti,v);var C=v.data.hook.insert;if(C.merged)for(var P=1;P<C.fns.length;P++)C.fns[P]()}else ei(v);v=v.parent}i(m)?w([e],0,0):i(e.tag)&&x(e)}}return S(n,u,h),n.elm}i(e)&&x(e)}}({nodeOps:Yn,modules:[mi,Ci,tr,rr,mr,H?{create:jr,activate:jr,remove:function(e,t){!0!==e.data.show?Rr(e,t):t()}}:{}].concat(di)});J&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Kr(e,"input")}));var Ur={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?st(n,"postpatch",(function(){Ur.componentUpdated(e,t,n)})):Hr(e,t,n.context),e._vOptions=[].map.call(e.options,Wr)):("textarea"===n.tag||Kn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Gr),e.addEventListener("compositionend",Jr),e.addEventListener("change",Jr),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Hr(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,Wr);r.some((function(e,t){return!M(e,i[t])}))&&(e.multiple?t.value.some((function(e){return qr(e,r)})):t.value!==t.oldValue&&qr(t.value,r))&&Kr(e,"change")}}};function Hr(e,t,n){Vr(e,t),(G||K)&&setTimeout((function(){Vr(e,t)}),0)}function Vr(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],r)o=O(i,Wr(s))>-1,s.selected!==o&&(s.selected=o);else if(M(Wr(s),i))return void(e.selectedIndex!==a&&(e.selectedIndex=a));r||(e.selectedIndex=-1)}}function qr(e,t){return t.every((function(t){return!M(t,e)}))}function Wr(e){return"_value"in e?e._value:e.value}function Gr(e){e.target.composing=!0}function Jr(e){e.target.composing&&(e.target.composing=!1,Kr(e.target,"input"))}function Kr(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Qr(e){return!e.componentInstance||e.data&&e.data.transition?e:Qr(e.componentInstance._vnode)}var Yr={model:Ur,show:{bind:function(e,t,n){var i=t.value,r=(n=Qr(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,Br(n,(function(){e.style.display=o}))):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=Qr(n)).data&&n.data.transition?(n.data.show=!0,i?Br(n,(function(){e.style.display=e.__vOriginalDisplay})):Rr(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},Xr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function eo(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?eo(Vt(t.children)):e}function to(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[w(o)]=r[o];return t}function no(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var io=function(e){return e.tag||pt(e)},ro=function(e){return"show"===e.name},oo={name:"transition",props:Xr,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(io)).length){var i=this.mode,r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var s=eo(r);if(!s)return r;if(this._leaving)return no(e,r);var a="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?a+"comment":a+s.tag:o(s.key)?0===String(s.key).indexOf(a)?s.key:a+s.key:s.key;var l=(s.data||(s.data={})).transition=to(this),c=this._vnode,h=eo(c);if(s.data.directives&&s.data.directives.some(ro)&&(s.data.show=!0),h&&h.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(s,h)&&!pt(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var d=h.data.transition=I({},l);if("out-in"===i)return this._leaving=!0,st(d,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),no(e,r);if("in-out"===i){if(pt(s))return c;var u,p=function(){u()};st(l,"afterEnter",p),st(l,"enterCancelled",p),st(d,"delayLeave",(function(e){u=e}))}}return r}}},so=I({tag:String,moveClass:String},Xr);function ao(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function lo(e){e.data.newPos=e.elm.getBoundingClientRect()}function co(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}delete so.mode;var ho={Transition:oo,TransitionGroup:{props:so,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Qt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=to(this),a=0;a<r.length;a++){var l=r[a];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s)}if(i){for(var c=[],h=[],d=0;d<i.length;d++){var u=i[d];u.data.transition=s,u.data.pos=u.elm.getBoundingClientRect(),n[u.key]?c.push(u):h.push(u)}this.kept=e(t,null,c),this.removed=h}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ao),e.forEach(lo),e.forEach(co),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;Tr(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Sr,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Sr,e),n._moveCb=null,$r(n,t))})}})))},methods:{hasMove:function(e,t){if(!wr)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){yr(n,e)})),vr(n,t),n.style.display="none",this.$el.appendChild(n);var i=Dr(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Cn.config.mustUseProp=Mn,Cn.config.isReservedTag=Wn,Cn.config.isReservedAttr=Tn,Cn.config.getTagNamespace=Gn,Cn.config.isUnknownElement=function(e){if(!H)return!0;if(Wn(e))return!1;if(e=e.toLowerCase(),null!=Jn[e])return Jn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Jn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Jn[e]=/HTMLUnknownElement/.test(t.toString())},I(Cn.options.directives,Yr),I(Cn.options.components,ho),Cn.prototype.__patch__=H?zr:_,Cn.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=me),en(e,"beforeMount"),i=function(){e._update(e._render(),n)},new pn(e,i,_,{before:function(){e._isMounted&&!e._isDestroyed&&en(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,en(e,"mounted")),e}(this,e=e&&H?Qn(e):void 0,t)},H&&setTimeout((function(){R.devtools&&ie&&ie.emit("init",Cn)}),0);var uo,po=/\{\{((?:.|\r?\n)+?)\}\}/g,fo=/[-.*+?^${}()|[\]\/\\]/g,mo=b((function(e){var t=e[0].replace(fo,"\\$&"),n=e[1].replace(fo,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")})),go={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=Ni(e,"class");n&&(e.staticClass=JSON.stringify(n));var i=Li(e,"class",!1);i&&(e.classBinding=i)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},vo={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=Ni(e,"style");n&&(e.staticStyle=JSON.stringify(or(n)));var i=Li(e,"style",!1);i&&(e.styleBinding=i)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},yo=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),bo=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),xo=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),wo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ao=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Co="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+Z.source+"]*",ko="((?:"+Co+"\\:)?"+Co+")",So=new RegExp("^<"+ko),Po=/^\s*(\/?)>/,Io=new RegExp("^<\\/"+ko+"[^>]*>"),Eo=/^<!DOCTYPE [^>]+>/i,_o=/^<!\--/,To=/^<!\[/,$o=p("script,style,textarea",!0),Mo={},Oo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Do=/&(?:lt|gt|quot|amp|#39);/g,Lo=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,No=p("pre,textarea",!0),Bo=function(e,t){return e&&No(e)&&"\n"===t[0]};function Ro(e,t){var n=t?Lo:Do;return e.replace(n,(function(e){return Oo[e]}))}var Zo,Fo,jo,zo,Uo,Ho,Vo,qo,Wo=/^@|^v-on:/,Go=/^v-|^@|^:|^#/,Jo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ko=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qo=/^\(|\)$/g,Yo=/^\[.*\]$/,Xo=/:(.*)$/,es=/^:|^\.|^v-bind:/,ts=/\.[^.\]]+(?=[^\]]*$)/g,ns=/^v-slot(:|$)|^#/,is=/[\r\n]/,rs=/[ \f\t\r\n]+/g,os=b((function(e){return(uo=uo||document.createElement("div")).innerHTML=e,uo.textContent})),ss="_empty_";function as(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:ps(t),rawAttrsMap:{},parent:n,children:[]}}function ls(e,t){var n,i;(i=Li(n=e,"key"))&&(n.key=i),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,function(e){var t=Li(e,"ref");t&&(e.ref=t,e.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){var t;"template"===e.tag?(t=Ni(e,"scope"),e.slotScope=t||Ni(e,"slot-scope")):(t=Ni(e,"slot-scope"))&&(e.slotScope=t);var n=Li(e,"slot");if(n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Ti(e,"slot",n,function(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}(e,"slot"))),"template"===e.tag){var i=Bi(e,ns);if(i){var r=ds(i),o=r.name,s=r.dynamic;e.slotTarget=o,e.slotTargetDynamic=s,e.slotScope=i.value||ss}}else{var a=Bi(e,ns);if(a){var l=e.scopedSlots||(e.scopedSlots={}),c=ds(a),h=c.name,d=c.dynamic,u=l[h]=as("template",[],e);u.slotTarget=h,u.slotTargetDynamic=d,u.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=u,!0})),u.slotScope=a.value||ss,e.children=[],e.plain=!1}}}(e),function(e){"slot"===e.tag&&(e.slotName=Li(e,"name"))}(e),function(e){var t;(t=Li(e,"is"))&&(e.component=t),null!=Ni(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var r=0;r<jo.length;r++)e=jo[r](e,t)||e;return function(e){var t,n,i,r,o,s,a,l,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(i=r=c[t].name,o=c[t].value,Go.test(i))if(e.hasBindings=!0,(s=us(i.replace(Go,"")))&&(i=i.replace(ts,"")),es.test(i))i=i.replace(es,""),o=Si(o),(l=Yo.test(i))&&(i=i.slice(1,-1)),s&&(s.prop&&!l&&"innerHtml"===(i=w(i))&&(i="innerHTML"),s.camel&&!l&&(i=w(i)),s.sync&&(a=Fi(o,"$event"),l?Di(e,'"update:"+('+i+")",a,null,!1,0,c[t],!0):(Di(e,"update:"+w(i),a,null,!1,0,c[t]),k(i)!==w(i)&&Di(e,"update:"+k(i),a,null,!1,0,c[t])))),s&&s.prop||!e.component&&Vo(e.tag,e.attrsMap.type,i)?_i(e,i,o,c[t],l):Ti(e,i,o,c[t],l);else if(Wo.test(i))i=i.replace(Wo,""),(l=Yo.test(i))&&(i=i.slice(1,-1)),Di(e,i,o,s,!1,0,c[t],l);else{var h=(i=i.replace(Go,"")).match(Xo),d=h&&h[1];l=!1,d&&(i=i.slice(0,-(d.length+1)),Yo.test(d)&&(d=d.slice(1,-1),l=!0)),Mi(e,i,r,o,d,l,s,c[t])}else Ti(e,i,JSON.stringify(o),c[t]),!e.component&&"muted"===i&&Vo(e.tag,e.attrsMap.type,i)&&_i(e,i,"true",c[t])}(e),e}function cs(e){var t;if(t=Ni(e,"v-for")){var n=function(e){var t=e.match(Jo);if(t){var n={};n.for=t[2].trim();var i=t[1].trim().replace(Qo,""),r=i.match(Ko);return r?(n.alias=i.replace(Ko,"").trim(),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}(t);n&&I(e,n)}}function hs(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function ds(e){var t=e.name.replace(ns,"");return t||"#"!==e.name[0]&&(t="default"),Yo.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function us(e){var t=e.match(ts);if(t){var n={};return t.forEach((function(e){n[e.slice(1)]=!0})),n}}function ps(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n].name]=e[n].value;return t}var fs=/^xmlns:NS\d+/,ms=/^NS\d+:/;function gs(e){return as(e.tag,e.attrsList.slice(),e.parent)}var vs,ys,bs=[go,vo,{preTransformNode:function(e,t){if("input"===e.tag){var n,i=e.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Li(e,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=Ni(e,"v-if",!0),o=r?"&&("+r+")":"",s=null!=Ni(e,"v-else",!0),a=Ni(e,"v-else-if",!0),l=gs(e);cs(l),$i(l,"type","checkbox"),ls(l,t),l.processed=!0,l.if="("+n+")==='checkbox'"+o,hs(l,{exp:l.if,block:l});var c=gs(e);Ni(c,"v-for",!0),$i(c,"type","radio"),ls(c,t),hs(l,{exp:"("+n+")==='radio'"+o,block:c});var h=gs(e);return Ni(h,"v-for",!0),$i(h,":type",n),ls(h,t),hs(l,{exp:r,block:h}),s?l.else=!0:a&&(l.elseif=a),l}}}}],xs={expectHTML:!0,modules:bs,directives:{model:function(e,t,n){var i=t.value,r=t.modifiers,o=e.tag,s=e.attrsMap.type;if(e.component)return Zi(e,i,r),!1;if("select"===o)!function(e,t,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";Di(e,"change",i=i+" "+Fi(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(e,i,r);else if("input"===o&&"checkbox"===s)!function(e,t,n){var i=n&&n.number,r=Li(e,"value")||"null",o=Li(e,"true-value")||"true",s=Li(e,"false-value")||"false";_i(e,"checked","Array.isArray("+t+")?_i("+t+","+r+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),Di(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Fi(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Fi(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Fi(t,"$$c")+"}",null,!0)}(e,i,r);else if("input"===o&&"radio"===s)!function(e,t,n){var i=n&&n.number,r=Li(e,"value")||"null";_i(e,"checked","_q("+t+","+(r=i?"_n("+r+")":r)+")"),Di(e,"change",Fi(t,r),null,!0)}(e,i,r);else if("input"===o||"textarea"===o)!function(e,t,n){var i=e.attrsMap.type,r=n||{},o=r.lazy,s=r.number,a=r.trim,l=!o&&"range"!==i,c=o?"change":"range"===i?Wi:"input",h="$event.target.value";a&&(h="$event.target.value.trim()"),s&&(h="_n("+h+")");var d=Fi(t,h);l&&(d="if($event.target.composing)return;"+d),_i(e,"value","("+t+")"),Di(e,c,d,null,!0),(a||s)&&Di(e,"blur","$forceUpdate()")}(e,i,r);else if(!R.isReservedTag(o))return Zi(e,i,r),!1;return!0},text:function(e,t){t.value&&_i(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&_i(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:yo,mustUseProp:Mn,canBeLeftOpenTag:bo,isReservedTag:Wn,getTagNamespace:Gn,staticKeys:function(e){return e.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(",")}(bs)},ws=b((function(e){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}));var As=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Cs=/\([^)]*?\);*$/,ks=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ss={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ps={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Is=function(e){return"if("+e+")return null;"},Es={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Is("$event.target !== $event.currentTarget"),ctrl:Is("!$event.ctrlKey"),shift:Is("!$event.shiftKey"),alt:Is("!$event.altKey"),meta:Is("!$event.metaKey"),left:Is("'button' in $event && $event.button !== 0"),middle:Is("'button' in $event && $event.button !== 1"),right:Is("'button' in $event && $event.button !== 2")};function _s(e,t){var n=t?"nativeOn:":"on:",i="",r="";for(var o in e){var s=Ts(e[o]);e[o]&&e[o].dynamic?r+=o+","+s+",":i+='"'+o+'":'+s+","}return i="{"+i.slice(0,-1)+"}",r?n+"_d("+i+",["+r.slice(0,-1)+"])":n+i}function Ts(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map((function(e){return Ts(e)})).join(",")+"]";var t=ks.test(e.value),n=As.test(e.value),i=ks.test(e.value.replace(Cs,""));if(e.modifiers){var r="",o="",s=[];for(var a in e.modifiers)if(Es[a])o+=Es[a],Ss[a]&&s.push(a);else if("exact"===a){var l=e.modifiers;o+=Is(["ctrl","shift","alt","meta"].filter((function(e){return!l[e]})).map((function(e){return"$event."+e+"Key"})).join("||"))}else s.push(a);return s.length&&(r+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map($s).join("&&")+")return null;"}(s)),o&&(r+=o),"function($event){"+r+(t?"return "+e.value+".apply(null, arguments)":n?"return ("+e.value+").apply(null, arguments)":i?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(i?"return "+e.value:e.value)+"}"}function $s(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ss[e],i=Ps[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var Ms={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:_},Os=function(e){this.options=e,this.warn=e.warn||Ii,this.transforms=Ei(e.modules,"transformCode"),this.dataGenFns=Ei(e.modules,"genData"),this.directives=I(I({},Ms),e.directives);var t=e.isReservedTag||T;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ds(e,t){var n=new Os(t);return{render:"with(this){return "+(e?"script"===e.tag?"null":Ls(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ls(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Ns(e,t);if(e.once&&!e.onceProcessed)return Bs(e,t);if(e.for&&!e.forProcessed)return Zs(e,t);if(e.if&&!e.ifProcessed)return Rs(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',i=Us(e,t),r="_t("+n+(i?",function(){return "+i+"}":""),o=e.attrs||e.dynamicAttrs?qs((e.attrs||[]).concat(e.dynamicAttrs||[]).map((function(e){return{name:w(e.name),value:e.value,dynamic:e.dynamic}}))):null,s=e.attrsMap["v-bind"];return!o&&!s||i||(r+=",null"),o&&(r+=","+o),s&&(r+=(o?"":",null")+","+s),r+")"}(e,t);var n;if(e.component)n=function(e,t,n){var i=t.inlineTemplate?null:Us(t,n,!0);return"_c("+e+","+Fs(t,n)+(i?","+i:"")+")"}(e.component,e,t);else{var i;(!e.plain||e.pre&&t.maybeComponent(e))&&(i=Fs(e,t));var r=e.inlineTemplate?null:Us(e,t,!0);n="_c('"+e.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var o=0;o<t.transforms.length;o++)n=t.transforms[o](e,n);return n}return Us(e,t)||"void 0"}function Ns(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Ls(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Bs(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Rs(e,t);if(e.staticInFor){for(var n="",i=e.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Ls(e,t)+","+t.onceId+++","+n+")":Ls(e,t)}return Ns(e,t)}function Rs(e,t,n,i){return e.ifProcessed=!0,function e(t,n,i,r){if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+e(t,n,i,r):""+s(o.block);function s(e){return i?i(e,n):e.once?Bs(e,n):Ls(e,n)}}(e.ifConditions.slice(),t,n,i)}function Zs(e,t,n,i){var r=e.for,o=e.alias,s=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(i||"_l")+"(("+r+"),function("+o+s+a+"){return "+(n||Ls)(e,t)+"})"}function Fs(e,t){var n="{",i=function(e,t){var n=e.directives;if(n){var i,r,o,s,a="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){o=n[i],s=!0;var c=t.directives[o.name];c&&(s=!!c(e,o,t.warn)),s&&(l=!0,a+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return l?a.slice(0,-1)+"]":void 0}}(e,t);i&&(n+=i+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var r=0;r<t.dataGenFns.length;r++)n+=t.dataGenFns[r](e);if(e.attrs&&(n+="attrs:"+qs(e.attrs)+","),e.props&&(n+="domProps:"+qs(e.props)+","),e.events&&(n+=_s(e.events,!1)+","),e.nativeEvents&&(n+=_s(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var i=e.for||Object.keys(t).some((function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||js(n)})),r=!!e.if;if(!i)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==ss||o.for){i=!0;break}o.if&&(r=!0),o=o.parent}var s=Object.keys(t).map((function(e){return zs(t[e],n)})).join(",");return"scopedSlots:_u(["+s+"]"+(i?",null,true":"")+(!i&&r?",null,false,"+function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(s):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=function(e,t){var n=e.children[0];if(n&&1===n.type){var i=Ds(n,t.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map((function(e){return"function(){"+e+"}"})).join(",")+"]}"}}(e,t);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+qs(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function js(e){return 1===e.type&&("slot"===e.tag||e.children.some(js))}function zs(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return Rs(e,t,zs,"null");if(e.for&&!e.forProcessed)return Zs(e,t,zs);var i=e.slotScope===ss?"":String(e.slotScope),r="function("+i+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(Us(e,t)||"undefined")+":undefined":Us(e,t)||"undefined":Ls(e,t))+"}",o=i?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+r+o+"}"}function Us(e,t,n,i,r){var o=e.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=n?t.maybeComponent(s)?",1":",0":"";return""+(i||Ls)(s,t)+a}var l=n?function(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i];if(1===r.type){if(Hs(r)||r.ifConditions&&r.ifConditions.some((function(e){return Hs(e.block)}))){n=2;break}(t(r)||r.ifConditions&&r.ifConditions.some((function(e){return t(e.block)})))&&(n=1)}}return n}(o,t.maybeComponent):0,c=r||Vs;return"["+o.map((function(e){return c(e,t)})).join(",")+"]"+(l?","+l:"")}}function Hs(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Vs(e,t){return 1===e.type?Ls(e,t):3===e.type&&e.isComment?(i=e,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(n=e).type?n.expression:Ws(JSON.stringify(n.text)))+")";var n,i}function qs(e){for(var t="",n="",i=0;i<e.length;i++){var r=e[i],o=Ws(r.value);r.dynamic?n+=r.name+","+o+",":t+='"'+r.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function Ws(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Gs(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),_}}function Js(e){var t=Object.create(null);return function(n,i,r){(i=I({},i)).warn,delete i.warn;var o=i.delimiters?String(i.delimiters)+n:n;if(t[o])return t[o];var s=e(n,i),a={},l=[];return a.render=Gs(s.render,l),a.staticRenderFns=s.staticRenderFns.map((function(e){return Gs(e,l)})),t[o]=a}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Ks,Qs,Ys=(Ks=function(e,t){var n=function(e,t){Zo=t.warn||Ii,Ho=t.isPreTag||T,Vo=t.mustUseProp||T,qo=t.getTagNamespace||T,t.isReservedTag,jo=Ei(t.modules,"transformNode"),zo=Ei(t.modules,"preTransformNode"),Uo=Ei(t.modules,"postTransformNode"),Fo=t.delimiters;var n,i,r=[],o=!1!==t.preserveWhitespace,s=t.whitespace,a=!1,l=!1;function c(e){if(h(e),a||e.processed||(e=ls(e,t)),r.length||e===n||n.if&&(e.elseif||e.else)&&hs(n,{exp:e.elseif,block:e}),i&&!e.forbidden)if(e.elseif||e.else)s=e,(c=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(i.children))&&c.if&&hs(c,{exp:s.elseif,block:s});else{if(e.slotScope){var o=e.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[o]=e}i.children.push(e),e.parent=i}var s,c;e.children=e.children.filter((function(e){return!e.slotScope})),h(e),e.pre&&(a=!1),Ho(e.tag)&&(l=!1);for(var d=0;d<Uo.length;d++)Uo[d](e,t)}function h(e){if(!l)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var n,i,r=[],o=t.expectHTML,s=t.isUnaryTag||T,a=t.canBeLeftOpenTag||T,l=0;e;){if(n=e,i&&$o(i)){var c=0,h=i.toLowerCase(),d=Mo[h]||(Mo[h]=new RegExp("([\\s\\S]*?)(</"+h+"[^>]*>)","i")),u=e.replace(d,(function(e,n,i){return c=i.length,$o(h)||"noscript"===h||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Bo(h,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));l+=e.length-u.length,e=u,P(h,l-c,l)}else{var p=e.indexOf("<");if(0===p){if(_o.test(e)){var f=e.indexOf("--\x3e");if(f>=0){t.shouldKeepComment&&t.comment(e.substring(4,f),l,l+f+3),C(f+3);continue}}if(To.test(e)){var m=e.indexOf("]>");if(m>=0){C(m+2);continue}}var g=e.match(Eo);if(g){C(g[0].length);continue}var v=e.match(Io);if(v){var y=l;C(v[0].length),P(v[1],y,l);continue}var b=k();if(b){S(b),Bo(b.tagName,e)&&C(1);continue}}var x=void 0,w=void 0,A=void 0;if(p>=0){for(w=e.slice(p);!(Io.test(w)||So.test(w)||_o.test(w)||To.test(w)||(A=w.indexOf("<",1))<0);)p+=A,w=e.slice(p);x=e.substring(0,p)}p<0&&(x=e),x&&C(x.length),t.chars&&x&&t.chars(x,l-x.length,l)}if(e===n){t.chars&&t.chars(e);break}}function C(t){l+=t,e=e.substring(t)}function k(){var t=e.match(So);if(t){var n,i,r={tagName:t[1],attrs:[],start:l};for(C(t[0].length);!(n=e.match(Po))&&(i=e.match(Ao)||e.match(wo));)i.start=l,C(i[0].length),i.end=l,r.attrs.push(i);if(n)return r.unarySlash=n[1],C(n[0].length),r.end=l,r}}function S(e){var n=e.tagName,l=e.unarySlash;o&&("p"===i&&xo(n)&&P(i),a(n)&&i===n&&P(n));for(var c=s(n)||!!l,h=e.attrs.length,d=new Array(h),u=0;u<h;u++){var p=e.attrs[u],f=p[3]||p[4]||p[5]||"",m="a"===n&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[u]={name:p[1],value:Ro(f,m)}}c||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:e.start,end:e.end}),i=n),t.start&&t.start(n,d,c,e.start,e.end)}function P(e,n,o){var s,a;if(null==n&&(n=l),null==o&&(o=l),e)for(a=e.toLowerCase(),s=r.length-1;s>=0&&r[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var c=r.length-1;c>=s;c--)t.end&&t.end(r[c].tag,n,o);r.length=s,i=s&&r[s-1].tag}else"br"===a?t.start&&t.start(e,[],!0,n,o):"p"===a&&(t.start&&t.start(e,[],!1,n,o),t.end&&t.end(e,n,o))}P()}(e,{warn:Zo,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,o,s,h,d){var u=i&&i.ns||qo(e);G&&"svg"===u&&(o=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];fs.test(i.name)||(i.name=i.name.replace(ms,""),t.push(i))}return t}(o));var p,f=as(e,o,i);u&&(f.ns=u),"style"!==(p=f).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||ne()||(f.forbidden=!0);for(var m=0;m<zo.length;m++)f=zo[m](f,t)||f;a||(function(e){null!=Ni(e,"v-pre")&&(e.pre=!0)}(f),f.pre&&(a=!0)),Ho(f.tag)&&(l=!0),a?function(e){var t=e.attrsList,n=t.length;if(n)for(var i=e.attrs=new Array(n),r=0;r<n;r++)i[r]={name:t[r].name,value:JSON.stringify(t[r].value)},null!=t[r].start&&(i[r].start=t[r].start,i[r].end=t[r].end);else e.pre||(e.plain=!0)}(f):f.processed||(cs(f),function(e){var t=Ni(e,"v-if");if(t)e.if=t,hs(e,{exp:t,block:e});else{null!=Ni(e,"v-else")&&(e.else=!0);var n=Ni(e,"v-else-if");n&&(e.elseif=n)}}(f),function(e){null!=Ni(e,"v-once")&&(e.once=!0)}(f)),n||(n=f),s?c(f):(i=f,r.push(f))},end:function(e,t,n){var o=r[r.length-1];r.length-=1,i=r[r.length-1],c(o)},chars:function(e,t,n){if(i&&(!G||"textarea"!==i.tag||i.attrsMap.placeholder!==e)){var r,c,h,d=i.children;(e=l||e.trim()?"script"===(r=i).tag||"style"===r.tag?e:os(e):d.length?s?"condense"===s&&is.test(e)?"":" ":o?" ":"":"")&&(l||"condense"!==s||(e=e.replace(rs," ")),!a&&" "!==e&&(c=function(e,t){var n=t?mo(t):po;if(n.test(e)){for(var i,r,o,s=[],a=[],l=n.lastIndex=0;i=n.exec(e);){(r=i.index)>l&&(a.push(o=e.slice(l,r)),s.push(JSON.stringify(o)));var c=Si(i[1].trim());s.push("_s("+c+")"),a.push({"@binding":c}),l=r+i[0].length}return l<e.length&&(a.push(o=e.slice(l)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}(e,Fo))?h={type:2,expression:c.expression,tokens:c.tokens,text:e}:" "===e&&d.length&&" "===d[d.length-1].text||(h={type:3,text:e}),h&&d.push(h))}},comment:function(e,t,n){if(i){var r={type:3,text:e,isComment:!0};i.children.push(r)}}}),n}(e.trim(),t);!1!==t.optimize&&function(e,t){e&&(vs=ws(t.staticKeys||""),ys=t.isReservedTag||T,function e(t){if(t.static=function(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||f(e.tag)||!ys(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(vs))))}(t),1===t.type){if(!ys(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var n=0,i=t.children.length;n<i;n++){var r=t.children[n];e(r),r.static||(t.static=!1)}if(t.ifConditions)for(var o=1,s=t.ifConditions.length;o<s;o++){var a=t.ifConditions[o].block;e(a),a.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var i=0,r=t.children.length;i<r;i++)e(t.children[i],n||!!t.for);if(t.ifConditions)for(var o=1,s=t.ifConditions.length;o<s;o++)e(t.ifConditions[o].block,n)}}(e,!1))}(n,t);var i=Ds(n,t);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(e){function t(t,n){var i=Object.create(e),r=[],o=[];if(n)for(var s in n.modules&&(i.modules=(e.modules||[]).concat(n.modules)),n.directives&&(i.directives=I(Object.create(e.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(i[s]=n[s]);i.warn=function(e,t,n){(n?o:r).push(e)};var a=Ks(t.trim(),i);return a.errors=r,a.tips=o,a}return{compile:t,compileToFunctions:Js(t)}})(xs),Xs=(Ys.compile,Ys.compileToFunctions);function ea(e){return(Qs=Qs||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Qs.innerHTML.indexOf("&#10;")>0}var ta=!!H&&ea(!1),na=!!H&&ea(!0),ia=b((function(e){var t=Qn(e);return t&&t.innerHTML})),ra=Cn.prototype.$mount;return Cn.prototype.$mount=function(e,t){if((e=e&&Qn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=ia(i));else{if(!i.nodeType)return this;i=i.innerHTML}else e&&(i=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(i){var r=Xs(i,{outputSourceRange:!1,shouldDecodeNewlines:ta,shouldDecodeNewlinesForHref:na,delimiters:n.delimiters,comments:n.comments},this),o=r.render,s=r.staticRenderFns;n.render=o,n.staticRenderFns=s}}return ra.call(this,e,t)},Cn.compile=Xs,Cn}()},2868:()=>{},4777:()=>{},9830:()=>{},209:()=>{},7414:()=>{},2618:e=>{e.exports={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let i="",r=n;for(;r--;)i+=e[Math.random()*e.length|0];return i}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(2934),t=n.n(e),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ssc-container",staticStyle:{position:"relative"},attrs:{oncontextmenu:"return false;"}},[e.headerEnabled?n("div",{staticClass:"ssc-header",style:{background:e.headerBackground}},[n("div",{staticClass:"ssc-header-search"},[e.zoomInput?n("span",{style:{color:e.headerColor}},[e._v("Zoom:")]):e._e(),e._v(" "),e.zoomInput?n("input",{directives:[{name:"model",rawName:"v-model",value:e.textZoom,expression:"textZoom"}],staticClass:"ssc-zoom",attrs:{type:"text"},domProps:{value:e.textZoom},on:{blur:e.onZoomSubmitted,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onZoomSubmitted.apply(null,arguments)},input:function(t){t.target.composing||(e.textZoom=t.target.value)}}}):e._e(),e._v(" "),e.zoomButton?n("span",{staticClass:"ssc-button",on:{click:e.zoomToScheme}},[e._v("Auto-Zoom")]):e._e()]),e._v(" "),n("div",{staticClass:"ssc-header-title",style:{color:e.headerColor}},[e._v("\n            "+e._s(e.title)+"\n        ")]),e._v(" "),n("div",{staticClass:"ssc-header-right"},[n("span",{style:{color:e.headerColor}},[e._v("built with")]),e._v(" "),n("a",{style:{color:e.linkColor},attrs:{target:"_top",href:e.homeLink}},[e._v("Schemio")])])]):e._e(),e._v(" "),n("div",{staticClass:"ssc-body"},[e.schemeContainer?n("SvgEditor",{ref:"svgEditor",attrs:{editorId:e.editorId,"scheme-container":e.schemeContainer,zoom:e.vZoom,"use-mouse-wheel":e.useMouseWheel,mode:"view",userEventBus:e.userEventBus,highlightedItems:e.highlightedItems},on:{"mouse-wheel":e.mouseWheel,"mouse-move":e.mouseMove,"mouse-down":e.mouseDown,"mouse-up":e.mouseUp,"mouse-double-click":e.mouseDoubleClick,"screen-transform-updated":e.onScreenTransformUpdated}}):e._e(),e._v(" "),e.itemTooltip.shown?n("item-tooltip",{key:"item-tooltip-"+e.itemTooltip.id,attrs:{item:e.itemTooltip.item,x:e.itemTooltip.x,y:e.itemTooltip.y},on:{close:function(t){e.itemTooltip.shown=!1}}}):e._e(),e._v(" "),e.sidePanel.item?n("div",{staticClass:"ssc-side-panel-right",style:{width:e.sidePanelWidth+"px"}},[n("div",{staticClass:"ssc-side-panel-content"},[n("span",{staticClass:"ssc-button",on:{click:function(t){e.sidePanel.item=null}}},[e._v("Close")]),e._v(" "),n("item-details",{attrs:{item:e.sidePanel.item}})],1)]):e._e()],1)])};i._withStripped=!0;var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"svg-editor",attrs:{id:"svg-editor"}},[n("svg",{ref:"svgDomElement",staticClass:"svg-editor-plot",class:e.cssClass,style:{background:e.schemeContainer.scheme.style.backgroundColor},attrs:{id:"svg-plot-"+e.editorId,"data-void":"true",oncontextmenu:"return false;"},on:{mousemove:e.mouseMove,touchstart:e.touchStart,touchend:e.touchEnd,touchmove:e.touchMove,mousedown:e.mouseDown,mouseup:e.mouseUp,dragenter:e.onDragEnter,dragover:e.onDragOver,dragleave:e.onDragLeave}},["view"===e.mode&&e.schemeContainer?n("g",[n("g",{attrs:{"data-type":"scene-transform",transform:e.transformSvg}},[e._l(e.schemeContainer.worldItems,(function(t){return t.visible&&"hud"!==t.shape?n("g",{staticClass:"item-container",class:"item-cursor-"+t.cursor},[n("ItemSvg",{key:t.id+"-"+t.shape+"-"+e.textSelectionEnabled+"-"+e.itemsReloadKey,attrs:{item:t,editorId:e.editorId,mode:e.mode,textSelectionEnabled:e.textSelectionEnabled,patchIndex:e.patchIndex},on:{"frame-animator":e.onFrameAnimatorEvent}})],1):e._e()})),e._v(" "),e._l(e.worldHighlightedItems,(function(t){return n("g",{attrs:{transform:t.transform}},[n("path",{style:{opacity:t.opacity},attrs:{d:t.path,fill:t.fill,stroke:t.stroke,"stroke-width":t.strokeSize+6/(t.scalingFactor*e.safeZoom)+"px","data-item-id":t.id,"data-preview-ignore":"true"}})])}))],2),e._v(" "),e._l(e.selectedItemLinks,(function(t,i){return n("g",{attrs:{"data-preview-ignore":"true"}},[n("a",{staticClass:"item-link",attrs:{id:"item-link-"+i,"xlink:href":e.linksAnimated?"#":t.url,target:"_blank",title:t.title},on:{click:function(n){return e.onSvgItemLinkClick(t.url,arguments[0])}}},[n("circle",{attrs:{cx:t.x,cy:t.y,r:12,stroke:e.linkPalette[i%e.linkPalette.length],fill:e.linkPalette[i%e.linkPalette.length]}}),e._v(" "),n("foreignObject",{attrs:{x:t.x-7,y:t.y-6,width:16,height:16}},[n("div",{staticClass:"item-link-icon"},[n("i",{class:t.iconClass})])]),e._v(" "),n("foreignObject",{attrs:{x:t.x+16,y:t.y-11,width:t.width,height:t.height}},[n("span",{staticClass:"item-link-title"},[e._v(e._s(e._f("formatLinkTitle")(t)))])])])])})),e._v(" "),n("g",e._l(e.schemeContainer.hudItems,(function(t){return t.visible?n("g",{style:{opacity:t.opacity/100,"mix-blend-mode":t.blendMode},attrs:{transform:e.createHUDTransform(t)}},e._l(t.childItems,(function(t){return t.visible?n("ItemSvg",{key:t.id+"-"+t.shape+"-"+e.textSelectionEnabled+"-"+e.itemsReloadKey,attrs:{item:t,editorId:e.editorId,textSelectionEnabled:e.textSelectionEnabled,patchIndex:e.patchIndex,mode:e.mode},on:{"frame-animator":e.onFrameAnimatorEvent}}):e._e()})),1):e._e()})),0)],2):e._e(),e._v(" "),"edit"===e.mode?n("g",[n("g",{staticClass:"grid",attrs:{"data-preview-ignore":"true",transform:e.gridTransform,"data-void":"true"}},[e._l(e.gridCount.x,(function(t){return n("line",{class:{"grid-line-zero":t===e.gridCount.x0},attrs:{x1:t*e.gridStep,y1:"0",x2:t*e.gridStep,y2:e.height+2*e.gridStep,stroke:e.schemeContainer.scheme.style.gridColor,"data-void":"true"}})})),e._v(" "),e._l(e.gridCount.y,(function(t){return n("line",{class:{"grid-line-zero":t===e.gridCount.y0},attrs:{x1:"0",y1:t*e.gridStep,x2:e.width+2*e.gridStep,y2:t*e.gridStep,stroke:e.schemeContainer.scheme.style.gridColor,"data-void":"true"}})}))],2),e._v(" "),n("rect",{attrs:{"data-preview-ignore":"true",x:"0",y:"0",width:e.width,height:e.height,fill:e.fileDropLayerFill},on:{dragenter:e.onFileDragEnter,dragover:e.onFileDragOver,dragleave:e.onFileDragLeave,drop:e.onFileDrop}}),e._v(" "),n("g",{attrs:{"data-type":"scene-transform",transform:e.transformSvg}},[e._l(e.schemeContainer.worldItems,(function(t){return t.visible?n("g",{staticClass:"item-container",class:"item-cursor-"+t.cursor},[n("ItemSvg",{key:t.id+"-"+t.shape+"-"+e.itemsReloadKey,attrs:{item:t,editorId:e.editorId,patchIndex:e.patchIndex,mode:e.mode}})],1):e._e()})),e._v(" "),e.schemeContainer.activeBoundaryBox?n("g",{attrs:{"data-preview-ignore":"true"}},[n("rect",{staticClass:"boundary-box",attrs:{stroke:e.schemeContainer.scheme.style.boundaryBoxColor,x:e.schemeContainer.activeBoundaryBox.x,y:e.schemeContainer.activeBoundaryBox.y,width:e.schemeContainer.activeBoundaryBox.w,height:e.schemeContainer.activeBoundaryBox.h}})]):e._e(),e._v(" "),e._t("scene-transform"),e._v(" "),e._l(e.worldHighlightedItems,(function(t){return n("g",{attrs:{transform:t.transform}},[n("path",{style:{opacity:t.opacity},attrs:{d:t.path,fill:t.fill,stroke:t.stroke,"stroke-width":t.strokeSize+6/(t.scalingFactor*e.safeZoom)+"px","data-item-id":t.id,"stroke-linejoin":"round","data-preview-ignore":"true"}}),e._v(" "),e._l(t.pins,(function(i){return n("circle",{staticStyle:{opacity:"0.5"},attrs:{cx:i.x,cy:i.y,r:8/(t.scalingFactor*e.safeZoom),"data-preview-ignore":"true",fill:t.stroke}})}))],2)}))],2),e._v(" "),e.multiSelectBox?n("g",[n("rect",{staticClass:"multi-select-box",attrs:{x:e._x(e.multiSelectBox.x),y:e._y(e.multiSelectBox.y),width:e._z(e.multiSelectBox.w),height:e._z(e.multiSelectBox.h)}})]):e._e(),e._v(" "),e.horizontalSnapper?n("line",{staticStyle:{stroke:"red",opacity:"0.4","stroke-width":"1px"},attrs:{x1:0,y1:e._y(e.horizontalSnapper.value),x2:e.width,y2:e._y(e.horizontalSnapper.value)}}):e._e(),e._v(" "),e.verticalSnapper?n("line",{staticStyle:{stroke:"red",opacity:"0.4","stroke-width":"1px"},attrs:{x1:e._x(e.verticalSnapper.value),y1:0,x2:e._x(e.verticalSnapper.value),y2:e.height}}):e._e(),e._v(" "),e.stateLayerShown?n("rect",{staticClass:"state-hover-layer",attrs:{x:"0",y:"0",width:e.width,height:e.height,fill:"rgba(255, 255, 255, 0.0)"}}):e._e()]):e._e()]),e._v(" "),e._t("overlay")],2)};r._withStripped=!0;var o=n(6234),s=n(3590),a=n(7196),l=n(1377),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{attrs:{transform:e.svgItemTransform,"data-svg-item-container-id":e.item.id,"data-item-id":e.item.id}},[e.itemSvgOutlinePath&&e.patchOutline&&e.patchIsDiffColoringEnabled?n("path",{attrs:{"data-preview-ignore":"true",d:e.itemSvgOutlinePath,"data-item-id":e.item.id,"stroke-width":e.patchOutlineStrokeSize,stroke:e.patchOutline,fill:"none"}}):e._e(),e._v(" "),e.effectFill?n("advanced-fill",{key:"effect-fill-"+e.item.id+"-"+e.revision,attrs:{fillId:"effect-fill-"+e.item.id,fill:e.effectFill,area:e.item.area}}):e._e(),e._v(" "),n("g",{style:{opacity:e.item.opacity/100,"mix-blend-mode":e.item.blendMode}},[e._l(e.backgroundEffects,(function(t){return n("g",{domProps:{innerHTML:e._s(t)}})})),e._v(" "),n("defs",e._l(e.svgFilters,(function(t){return n("filter",{attrs:{id:t.id,x:"-50%",y:"-50%",width:"200%",height:"200%"},domProps:{innerHTML:e._s(t.html)}})})),0),e._v(" "),n("g",{attrs:{filter:e.filterUrl,"data-component-key":"item-component-"+e.item.id+"-"+e.item.shape+"-"+e.revision}},[e.shouldBeDrawn&&e.shapeComponent&&e.item.visible?n(e.shapeComponent,{key:"item-component-"+e.item.id+"-"+e.item.shape+"-"+e.revision,tag:"component",style:{opacity:e.item.selfOpacity/100},attrs:{item:e.item,editorId:e.editorId,mode:e.mode},on:{"frame-animator":e.onFrameAnimatorEvent}}):e._e(),e._v(" "),!e.shapeComponent&&e.item.visible&&e.shapePrimitives&&e.shouldBeDrawn?n("g",{style:{opacity:e.item.selfOpacity/100}},e._l(e.shapePrimitives,(function(t,i){return n("g",["text"===t.type?n("g",[n("foreignObject",{attrs:{x:t.area.x,y:t.area.y,width:t.area.w,height:t.area.h}},[n("div",{style:{width:t.area.w+"px",height:t.area.h+"px",color:t.fontColor,"font-size":t.fontSize+"px"},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("div",[e._v(e._s(t.text))])])]),e._v(" "),n("rect",{attrs:{x:t.area.x,y:t.area.y,width:t.area.w,height:t.area.h,"stroke-width":"0","data-item-id":e.item.id,fill:"rgba(255,255,255,0.0)"}})]):n("g",[t.fill?n("advanced-fill",{key:"advanced-fill-"+e.item.id+"-"+i+"-"+e.revision,attrs:{fillId:"fill-templated-"+e.item.id+"-"+i,fill:t.fill,area:e.item.area}}):e._e(),e._v(" "),t.svgPath?n("path",{attrs:{d:t.svgPath,"stroke-width":t.strokeSize+"px",stroke:t.strokeColor,"stroke-dasharray":e.computeStrokeDashArray(t.strokePattern,t.strokeSize),"stroke-dashoffset":e.item.meta.strokeOffset,"data-item-id":e.item.id,"stroke-linejoin":"round",fill:e.computeSvgFill(t.fill,"fill-templated-"+e.item.id+"-"+i)}}):e._e()],1)])})),0):e._e(),e._v(" "),"missing"===e.shapeType&&e.item.visible?n("g",{staticClass:"missing-shape"},[n("rect",{attrs:{x:"0",y:"0",width:e.item.area.w,height:e.item.area.h}}),e._v(" "),n("foreignObject",{attrs:{x:"0",y:"0",width:e.item.area.w,height:e.item.area.h}},[n("div",{style:{width:e.item.area.w+"px",height:e.item.area.h+"px"},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("div",{style:e.missingShapeTextStyle},[e._v("Missing Shape")])])])]):e._e(),e._v(" "),e.shouldBeDrawn?n("g",e._l(e.textSlots,(function(t){return t.name!==e.hiddenTextSlotName?n("g",{style:{opacity:e.item.selfOpacity/100}},[n("foreignObject",{ref:"textSlots",refInFor:!0,attrs:{"data-text-slot-name":t.name,id:"item-text-slot-"+e.item.id+"-"+t.name,x:t.area.x,y:t.area.y,width:t.area.w,height:t.area.h}},[n("div",{staticClass:"item-text-container",class:t.cssClass,style:t.style,attrs:{xmlns:"http://www.w3.org/1999/xhtml","data-item-id":e.item.id}},[n("div",{staticClass:"item-text-element",staticStyle:{display:"inline-block"},attrs:{"data-item-text-element-item-id":e.item.id},domProps:{innerHTML:e._s(t.sanitizedText)}})])])]):e._e()})),0):e._e()],1),e._v(" "),e._l(e.foregroundEffects,(function(t){return n("g",{domProps:{innerHTML:e._s(t)}})})),e._v(" "),n("g",{attrs:{id:"animation-container-"+e.item.id}}),e._v(" "),e.item._childItems&&e.item.visible&&"edit"===e.mode?n("g",{style:e.componentChildrenLayerStyle},e._l(e.item._childItems,(function(t){return t.visible?n("ItemSvg",{key:"itsvg-"+t.id+"-"+t.shape+"-"+e.item.meta.revision,attrs:{item:t,editorId:e.editorId,patchIndex:e.patchIndex,mode:e.mode},on:{"frame-animator":e.onFrameAnimatorEvent}}):e._e()})),1):e._e(),e._v(" "),e.shouldBeDrawn&&e.itemSvgOutlinePath&&!e.textSelectionEnabled?n("path",{staticClass:"svg-event-layer",style:{cursor:e.item.cursor},attrs:{"data-preview-ignore":"true",id:"item-svg-path-"+e.item.id,d:e.itemSvgOutlinePath,"data-item-id":e.item.id,"stroke-width":e.hoverPathStrokeWidth,stroke:e.hoverPathStroke,fill:e.hoverPathFill},on:{dragenter:e.onItemDragEnter,dragover:e.onItemDragOver,dragleave:e.onItemDragLeave,drop:e.onItemDrop}}):e._e(),e._v(" "),"edit"===e.mode&&!e.isSelected&&e.showItemDetailMarkers&&(e.hasDescription||e.hasLinks||e.hasFiles)?n("g",{attrs:{"data-preview-ignore":"true"}},[n("foreignObject",{attrs:{x:e.detailsMarker.x,y:e.detailsMarker.y,width:e.detailsMarker.w,height:e.detailsMarker.h,"data-item-id":e.item.id}},[n("div",{staticClass:"item-details-marker-icon",attrs:{xmlns:"http://www.w3.org/1999/xhtml","data-item-id":e.item.id}},[e.hasFiles?n("i",{staticClass:"icon fa-solid fa-paperclip",attrs:{"data-item-id":e.item.id}}):e.hasLinks?n("i",{staticClass:"icon fa-solid fa-link",attrs:{"data-item-id":e.item.id}}):n("i",{staticClass:"icon fa-solid fa-paragraph",attrs:{"data-item-id":e.item.id}})])]),e._v(" "),n("rect",{style:{cursor:e.item.cursor},attrs:{x:e.detailsMarker.x,y:e.detailsMarker.y,width:e.detailsMarker.w,height:e.detailsMarker.h,"data-type":"item-details-marker","data-item-id":e.item.id,fill:"rgba(0,0,0,0)"}})]):e._e(),e._v(" "),"view"!==e.mode||e.textSelectionEnabled?e._e():n("g",e._l(e.customAreas,(function(t){return n("path",{staticClass:"svg-event-layer",style:{cursor:t.cursor?t.cursor:e.item.cursor},attrs:{"data-preview-ignore":"true",id:"item-svg-path-"+e.item.id,d:t.path,"data-type":"custom-item-area","data-item-id":e.item.id,"data-custom-area-id":t.id,"stroke-width":e.hoverPathStrokeWidth,stroke:"rgba(255, 255, 255, 0)",fill:e.hoverPathFill}})})),0),e._v(" "),"missing"===e.shapeType?n("rect",{staticClass:"svg-event-layer",attrs:{"data-preview-ignore":"true","data-item-id":e.item.id,x:"0",y:"0",width:e.item.area.w,height:e.item.area.h,stroke:"rgba(255, 255, 255, 0)",fill:e.hoverPathFill}}):e._e(),e._v(" "),e.item.clip||"component"===e.item.shape&&"embedded"!==e.item.shapeProps.kind?n("defs",[n("clipPath",{attrs:{id:"item-clip-path-"+e.item.id}},[e.itemSvgOutlinePath?n("path",{staticClass:"svg-event-layer",attrs:{d:e.itemSvgOutlinePath,"data-item-id":e.item.id,"stroke-width":"0px",stroke:"rgba(255, 255, 255, 0)",fill:"rgba(255, 255, 255, 0)"}}):e._e()])]):e._e(),e._v(" "),e.item.childItems&&e.item.visible?n("g",{style:e.childrenLayerStyle},e._l(e.item.childItems,(function(t){return t.visible&&("hud"!==t.shape&&"view"===e.mode||"edit"===e.mode)?n("ItemSvg",{key:"itsvg-"+t.id+"-"+t.shape+"-"+e.textSelectionEnabled,attrs:{item:t,editorId:e.editorId,textSelectionEnabled:e.textSelectionEnabled,patchIndex:e.patchIndex,mode:e.mode},on:{"frame-animator":e.onFrameAnimatorEvent}}):e._e()})),1):e._e(),e._v(" "),e.item._childItems&&e.item.visible&&"view"===e.mode?n("g",{style:e.componentChildrenLayerStyle},e._l(e.item._childItems,(function(t){return t.visible&&"hud"!==t.shape?n("ItemSvg",{key:"itsvg-"+t.id+"-"+t.shape+"-"+e.textSelectionEnabled,attrs:{item:t,editorId:e.editorId,textSelectionEnabled:e.textSelectionEnabled,mode:e.mode},on:{"frame-animator":e.onFrameAnimatorEvent}}):e._e()})),1):e._e()],2)],1)};c._withStripped=!0;var h=n(9421),d=n(4502),u=n(9149),p=n(520),f=n(3762),m=n(5635),g=n(8113),v=n(8595),y=n(4925);function b(e){const t=[];let n="";const i=[],r=[];return(0,o.Ed)(e.effects,((o,s)=>{const a=(0,g.Bn)(o.effect);if(a){const l=a.applyEffect(e,s,o.args);if("svg-filter"===l.kind){const i=`item-svg-filter-effect-${e.id}-${s}`;t.push({id:i,html:l.html}),n+=`url(#${i}) `}else"back"===l.kind?i.push(l.html):"front"===l.kind&&r.push(l.html)}})),{svgFilters:t,filterUrl:n,backgroundEffects:i,foregroundEffects:r}}function x(e){const t=u.Z.getShapePropDescriptor(e,"strokeSize");return t&&"number"===t.type}const w={name:"ItemSvg",props:{editorId:{type:String,required:!0},item:{type:Object},mode:{type:String},patchIndex:{type:Object,default:null},mode:{type:String,default:"edit"},textSelectionEnabled:{type:Boolean,default:!1}},components:{AdvancedFill:h.ZP},mounted(){this.switchShape(this.item.shape),v.Z.item.changed.specific.$on(this.editorId,this.item.id,this.onItemChanged),v.Z.item.selected.specific.$on(this.editorId,this.item.id,this.onItemSelected),v.Z.item.deselected.specific.$on(this.editorId,this.item.id,this.onItemDeselected),v.Z.textSlot.triggered.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),v.Z.textSlot.canceled.specific.$on(this.editorId,this.item.id,this.onItemTextSlotEditCanceled);const e=u.Z.find(this.item.shape);if(e&&e.shapeEvents.mounted&&e.shapeEvents.mounted(this.$store,this.item,this.$refs.textSlots,this.editorId),"edit"===this.mode){const e=document.getElementById(`in-place-text-edit-wrapper-${this.editorId}-${this.item.id}`);if(!e)return;this.hiddenTextSlotName=e.getAttribute("data-slot-name")}},beforeDestroy(){v.Z.item.changed.specific.$off(this.editorId,this.item.id,this.onItemChanged),v.Z.item.selected.specific.$off(this.editorId,this.item.id,this.onItemSelected),v.Z.item.deselected.specific.$off(this.editorId,this.item.id,this.onItemDeselected),v.Z.textSlot.triggered.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditTriggered),v.Z.textSlot.canceled.specific.$off(this.editorId,this.item.id,this.onItemTextSlotEditCanceled)},data(){const e=u.Z.find(this.item.shape),t={shapeType:e?e.shapeType:"missing",shapeComponent:null,oldShape:this.item.shape,shapePrimitives:[],itemSvgOutlinePath:null,shouldRenderText:!0,isSelected:this.item.meta&&this.item.meta.selected,revision:0,textSlots:[],hiddenTextSlotName:null,supportsStrokeSize:!!e&&x(e),hasDescription:(0,a.U3)(this.item),hasLinks:Array.isArray(this.item.links)&&this.item.links.length>0,hasFiles:Array.isArray(this.item.links)&&this.item.links.findIndex((e=>"file"===e.type))>=0,detailsMarker:e.getDetailsMarker(this.item),svgFilters:[],filterUrl:"",backgroundEffects:[],foregroundEffects:[],svgItemTransform:this.calculateSVGItemTransform(),customAreas:e&&e.computeCustomAreas?e.computeCustomAreas(this.item):[],draggingFileOver:!1,hoverPathFill:this.getHoverPathFill()};e&&(e.editorProps&&e.editorProps.customTextRendering?t.shouldRenderText=!1:t.textSlots=this.generateTextSlots());const{svgFilters:n,filterUrl:i,backgroundEffects:r,foregroundEffects:o}=b(this.item);return t.effectFill=this.getEffectFill(),t.svgFilters=n,t.filterUrl=i,t.backgroundEffects=r,t.foregroundEffects=o,t},methods:{getHoverPathFill(){return this.draggingFileOver?"rgba(140, 255, 140, 0.6)":"path"===this.item.shape&&this.item.shapeProps.fill&&"none"===this.item.shapeProps.fill.type?"none":"connector"!==this.item.shape||this.item.shapeProps.thick?"rgba(255, 255, 255, 0)":"none"},onItemDragEnter(e){"edit"===this.mode&&e.dataTransfer&&this.$store.state.apiClient&&this.$store.state.apiClient.uploadFile&&(this.draggingFileOver=!0)},onItemDragOver(e){"edit"===this.mode&&e.dataTransfer&&this.$store.state.apiClient&&this.$store.state.apiClient.uploadFile&&(this.draggingFileOver=!0)},onItemDragLeave(e){this.draggingFileOver=!1},onItemDrop(e){if(this.draggingFileOver=!1,e.preventDefault(),"edit"!==this.mode||!this.$store.state.apiClient||!this.$store.state.apiClient.uploadFile)return;let t=[...e.dataTransfer.items].filter((e=>"file"===e.kind));0!==t.length&&("link"===this.item.shape&&(t=[t[0]]),t.map((e=>e.getAsFile())).map((e=>{const t=e.name;return y.Z.addInfoSystemMessage(this.$store,`Uploading file "${t}"...`,`file-uploading-${t}`,"fas fa-spinner fa-spin fa-1x"),this.$store.state.apiClient.uploadFile(e).then((e=>{"link"===this.item.shape?(this.item.shapeProps.url=e,this.item.shapeProps.icon="file",y.Z.addInfoSystemMessage(this.$store,`Updated link url to ${e}`,`item-link-url-changed-${this.item.id}`),v.Z.item.changed.specific.$emit(this.editorId,this.item.id),v.Z.schemeChangeCommitted.$emit(this.editorId,`items.${this.item.id}.links`)):(Array.isArray(this.item.links)||(this.item.links=[]),this.item.links.push({title:t,url:e,type:"file"}),y.Z.addInfoSystemMessage(this.$store,`Attached file "${t}" to item`,`item-link-url-changed-${this.item.id}-${t}`),v.Z.item.changed.specific.$emit(this.editorId,this.item.id,"links"),v.Z.schemeChangeCommitted.$emit(this.editorId,`items.${this.item.id}.links`))})).catch((e=>(console.error(e),e.response&&e.response.data&&e.response.data.message?y.Z.addErrorSystemMessage(this.$store,e.response.data.message,`item-upload-error-${t}`):y.Z.addErrorSystemMessage(this.$store,"Something went wrong, could not upload file",`item-upload-error-${t}`),null)))})))},getEffectFill(){const e=u.Z.find(this.item.shape);if(!e)return null;const t=u.Z.getShapeArgs(e);return this.item.effects&&this.item.effects.length>0&&"advanced-color"===t.fill.type?this.item.shapeProps.fill:null},calculateSVGItemTransform(){const e=s.Z.standardTransformWithArea(s.Z.identityMatrix(),this.item.area);return`matrix(${e[0][0]},${e[1][0]},${e[0][1]},${e[1][1]},${e[0][2]},${e[1][2]})`},switchShape(e){this.oldShape=this.item.shape;const t=u.Z.find(e);t&&(this.shapeType=t.shapeType,this.supportsStrokeSize=x(t),this.customAreas=t&&t.computeCustomAreas?t.computeCustomAreas(this.item):[],t.vueComponent?this.shapeComponent=t.vueComponent:this.shapeComponent=null,"templated"===t.shapeType?this.shapePrimitives=t.computePrimitives(this.item):"standard"===t.shapeType&&(this.shapePrimitives=[{fill:this.item.shapeProps.fill,strokeColor:this.item.shapeProps.strokeColor,strokeSize:this.item.shapeProps.strokeSize,strokePattern:this.item.shapeProps.strokePattern,type:"path",svgPath:t.computePath(this.item)}]),this.effectFill=this.getEffectFill(),"view"===this.mode&&t.editorProps&&t.editorProps.disableEventLayer||(this.itemSvgOutlinePath=t.computeOutline(this.item)))},computeStrokeDashArray:(e,t)=>d.Z.createDashArray(e,t),onItemDeselected(){this.isSelected=!1},onItemSelected(){this.isSelected=!0},onItemChanged(e,t){this.hoverPathFill=this.getHoverPathFill(),this.svgItemTransform=this.calculateSVGItemTransform(),this.effectFill=this.getEffectFill();const n=u.Z.find(this.item.shape);if(!n)return void(this.revision+=1);this.hasDescription=(0,a.U3)(this.item),this.hasLinks=Array.isArray(this.item.links)&&this.item.links.length>0,this.hasFiles=Array.isArray(this.item.links)&&this.item.links.findIndex((e=>"file"===e.type))>=0,this.detailsMarker=n.getDetailsMarker(this.item),this.oldShape!==this.item.shape?this.switchShape(this.item.shape):n&&("templated"===n.shapeType?this.shapePrimitives=n.computePrimitives(this.item):"standard"===n.shapeType&&(this.shapePrimitives=[{fill:this.item.shapeProps.fill,strokeColor:this.item.shapeProps.strokeColor,strokeSize:this.item.shapeProps.strokeSize,strokePattern:this.item.shapeProps.strokePattern,type:"path",svgPath:n.computePath(this.item)}]),"view"===this.mode&&n.editorProps&&n.editorProps.disableEventLayer||(this.itemSvgOutlinePath=n.computeOutline(this.item)),this.customAreas=n&&n.computeCustomAreas?n.computeCustomAreas(this.item):[]),n.editorProps&&n.editorProps.customTextRendering||(this.textSlots=this.generateTextSlots());const{svgFilters:i,filterUrl:r,backgroundEffects:o,foregroundEffects:s}=b(this.item);this.svgFilters=i,this.filterUrl=r,this.backgroundEffects=o,this.foregroundEffects=s,this.revision+=1,this.$forceUpdate()},onFrameAnimatorEvent(e){this.$emit("frame-animator",e)},generateTextSlots(){const e=u.Z.find(this.item.shape);if(!e)return[];const t=p.Z.clone(e.getTextSlots(this.item)),n=[];return(0,o.Ed)(t,(e=>{const t=this.item.textSlots[e.name];t&&(e.text=t.text||"",e.sanitizedText=(0,f.Z)(e.text),e.cssClass||(e.cssClass=""),e.style=(0,m.A)(t),e.style.width=`${e.area.w}px`,e.style.height=`${e.area.h}px`,n.push(e))})),n},onItemTextSlotEditTriggered(e,t,n,i){this.hiddenTextSlotName=t},onItemTextSlotEditCanceled(e,t){this.hiddenTextSlotName===t&&(this.hiddenTextSlotName=null),this.$nextTick((()=>{const e=u.Z.find(this.item.shape);if(e&&e.onTextSlotTextUpdate){const n=this.$refs.textSlots.find((e=>e.getAttribute("data-text-slot-name")===t));if(!n)return;e.onTextSlotTextUpdate(this.$store,this.item,t,n)}}))},computeSvgFill:(e,t)=>(0,h.pz)(e,t)},computed:{hoverPathStrokeWidth(){return this.draggingFileOver?"8px":this.supportsStrokeSize?parseInt(this.item.shapeProps.strokeSize)+2+"px":"0px"},hoverPathStroke(){return this.draggingFileOver?"rgba(130, 240, 130, 0.7)":"rgba(255, 255, 255, 0)"},shouldBeDrawn(){if(!this.item.visible)return!1;const e=u.Z.find(this.item.shape);return!(!e||"view"===this.mode&&e.editorProps&&e.editorProps.onlyEditMode)},componentChildrenLayerStyle(){return this.item.clip||"component"===this.item.shape?{"clip-path":`url(#item-clip-path-${this.item.id})`}:{}},childrenLayerStyle(){return this.item.clip?{"clip-path":`url(#item-clip-path-${this.item.id})`}:{}},patchOutline(){if(this.patchIndex){if(this.patchIndex.addedItems.has(this.item.id))return this.$store.getters.patchAdditionsColor;if(this.patchIndex.deletedItems.has(this.item.id))return this.$store.getters.patchDeletionsColor;if(this.patchIndex.modifiedItems.has(this.item.id))return this.$store.getters.patchModificationsColor}return null},patchIsDiffColoringEnabled(){return this.$store.getters.patchIsDiffColoringEnabled},patchOutlineStrokeSize(){return this.supportsStrokeSize?parseInt(this.item.shapeProps.strokeSize)+10+"px":"8px"},missingShapeTextStyle(){return{"font-size":Math.min(this.item.area.w,this.item.area.h)/6+"px",display:"inline-block"}},showItemDetailMarkers(){return this.$store.getters.showItemDetailMarkers}},watch:{draggingFileOver(e){this.hoverPathFill=this.getHoverPathFill()}}};var A=n(1900);const C=(0,A.Z)(w,c,[],!1,null,null,null).exports;var k=n(9874),S=n(1757),P=n(2644),I=n(2672),E=n(9737),_=n(3805),T=n(6085),$=n(6222),M=n(9669),O=n.n(M);function D(e,t){const n=function(e){const t=new Set;return(0,a.Hp)(e,(e=>{e.shape&&!u.Z.find(e.shape)&&t.add(e.shape)})),Array.from(t)}(e);return n&&n.length>0?function(e,t){const n=new Set;if(e.forEach((e=>{const t=e.split(":");3===t.length&&n.add(t[2])})),0===n.size)return Promise.resolve(null);const i=t.state.assetsPath||"/assets",r=i.endsWith("/")?"":"/";return O().get(`${i}${r}shapes/shapes.json`).then((e=>{const i=e.data;if(!i)return null;const r=new Map;return i.forEach((e=>{r.set(e.id,e)})),Promise.all(Array.from(n).map((e=>{const n=r.get(e);return n?O().get(n.ref).then((n=>{const i="string"==typeof n.data?JSON.parse(n.data):n.data;!function(e,t,n){if("object"!=typeof n||!Array.isArray(n.shapes))throw new Error(`Invalid shape group in ${url}`);n.shapes.forEach((e=>{if("templated"!==e.shapeConfig.shapeType)return;const n=function(e,t){return`ext:${t.shapeConfig.id}:${e}`}(t,e);u.Z.registerTemplatedShape(n,e.shapeConfig)})),y.Z.registerShapeGroupId(e,t)}(t,e,i)})):Promise.resolve(null)})))}))}(n,t):Promise.resolve()}var L=n(9532),N=n(70);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=n(4670),j=n.n(F);const z=new(n(2017).Yd)("UserEventBus");class U{constructor(e){this.editorId=e,this.itemEventSubscribers={},this.revision=j().generate()}subscribeItemEvent(e,t,n,i){this.itemEventSubscribers.hasOwnProperty(e)||(this.itemEventSubscribers[e]={}),this.itemEventSubscribers[e].hasOwnProperty(n)||(this.itemEventSubscribers[e][n]=[]),this.itemEventSubscribers[e][n].push({itemName:t,callback:i})}emitItemEvent(e,t,...n){z.infoEvent(t,[e]);const i=this.itemEventSubscribers[e];i&&i[t]&&(0,o.Ed)(i[t],(i=>{try{r={type:"schemio:item-event",name:i.itemName,event:t,args:n},window.parent!=window&&window.parent.postMessage(r,"*")}catch(e){console.error(e)}var r;i.callback.apply(null,[this,this.revision,e,t,n])}))}clear(){this.itemEventSubscribers={},this.revision=j().generate()}clearEventsForItem(e){this.itemEventSubscribers.hasOwnProperty(e)&&delete this.itemEventSubscribers[e]}isActionAllowed(e){return this.revision===e}}var H=n(3860);window.addEventListener("keydown",(function(e){q&&q.onKeyDown(e)})),window.addEventListener("keyup",(function(e){q&&q.onKeyUp(e)}));const V={0:"Digit0",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",Up:"ArrowUp",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Space:"Space",Enter:"Enter",Escape:"Escape"};for(let e=65;e<90;e++){const t=String.fromCharCode(e);V[t]="Key"+t}let q=null;class W{constructor(e,t){this.id=j().generate(),this.userEventBus=e,this.schemeContainer=t,this.loaded=!1,this.keyBinds={down:{},up:{}}}init(){q=this}onKeyDown(e){const t=this.keyBinds.down[e.code];if(t&&Array.isArray(t))for(let e=t.length-1;e>=0;e--){const n=this.schemeContainer.findItemById(t[e]);n?n.shapeProps.active&&this.userEventBus.emitItemEvent(n.id,H.NH):t.splice(e,1)}}onKeyUp(e){const t=this.keyBinds.up[e.code];if(t&&Array.isArray(t))for(let e=t.length-1;e>=0;e--){const n=this.schemeContainer.findItemById(t[e]);n?n.shapeProps.active&&this.userEventBus.emitItemEvent(n.id,H.Sn):t.splice(e,1)}}deregisterItemEvents(e){const t=V[e.shapeProps.key];t&&(this._deregisterItemEventsFrom(this.keyBinds.up[t],e.id),this._deregisterItemEventsFrom(this.keyBinds.down[t],e.id))}_deregisterItemEventsFrom(e,t){if(e&&Array.isArray(e))for(let n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)}registerKeyBindItem(e){if("key_bind"===!e.shape)return;const t=V[e.shapeProps.key];t&&(e.shapeProps.down&&(this.keyBinds.down.hasOwnProperty(t)||(this.keyBinds.down[t]=[]),this.keyBinds.down[t].push(e.id)),e.shapeProps.up&&(this.keyBinds.up.hasOwnProperty(t)||(this.keyBinds.up[t]=[]),this.keyBinds.up[t].push(e.id)))}destroy(){q&&q.id===this.id&&(q=null),this.keyBinds={down:{},up:{}},this.userEventBus=null,this.schemeContainer=null}}const G={type:"void"},J={x:0,y:0},K={props:{editorId:{type:String,required:!0},mode:{type:String,default:"edit"},textSelectionEnabled:{type:Boolean,default:!1},stateLayerShown:{type:Boolean,default:!1},userEventBus:{type:Object,default:null},patchIndex:{type:Object,default:null},highlightedItems:{type:Object,default:null},zoomedItems:{type:Array,default:null},zoomToItemsTrigger:{type:String,default:null},schemeContainer:{default:null,type:Object},zoom:{default:1,type:Number},useMouseWheel:{default:!0,type:Boolean},itemsReloadKey:{default:0,type:Number}},components:{ItemSvg:C},beforeMount(){if("view"===this.mode){this.loadUserKeyBinders(),this.reindexUserEvents(),this.prepareFrameAnimations();const e=this.schemeContainer.scheme.scripts.main.source;if(e)try{this.compiledMainScript=(0,L.BJ)(e)}catch(e){this.compiledMainScript=null,console.error(e),y.Z.addErrorSystemMessage(this.$store,"Failed to compile main script","main-script-compilation-error")}}v.Z.zoomToAreaRequested.$on(this.editorId,this.onBringToView),v.Z.item.linksShowRequested.any.$on(this.editorId,this.onShowItemLinks),v.Z.item.clicked.any.$on(this.editorId,this.onAnyItemClicked),v.Z.item.changed.any.$on(this.editorId,this.onAnyItemChanged),v.Z.void.clicked.$on(this.editorId,this.onVoidClicked),v.Z.void.doubleClicked.$on(this.editorId,this.onVoidDoubleClicked),v.Z.item.selected.any.$on(this.editorId,this.onAnyItemSelected),v.Z.component.mounted.any.$on(this.editorId,this.onComponentSchemeMounted),v.Z.component.loadFailed.any.$on(this.editorId,this.onComponentLoadFailed),v.Z.framePlayer.prepared.$on(this.editorId,this.onFramePlayerPrepared),v.Z.clickableMarkers.toggled.$on(this.editorId,this.toggleClickableMarkers),v.Z.editorResized.$on(this.editorId,this.updateSvgSize),v.Z.component.loadRequested.any.$on(this.editorId,this.onComponentLoadRequested)},mounted(){if(this.updateSvgSize(),window.addEventListener("resize",this.updateSvgSize),window.addEventListener("message",this.onExternalMessage,!1),this.useMouseWheel){var e=this.$refs.svgDomElement;e&&e.addEventListener("wheel",this.mouseWheel)}if("view"===this.mode){if(this.compiledMainScript&&this.userEventBus)try{const e=(0,N.Nd)(this.schemeContainer,this.userEventBus);this.compiledMainScript.evalNode(e),this.schemeContainer.mainScopeData=e.data}catch(e){console.error(e),y.Z.addErrorSystemMessage(this.$store,"Failed to execute main script","main-script-failure")}(0,o.Ed)(this.itemsForInit,((e,t)=>{this.userEventBus.emitItemEvent(t,T.Z.standardEvents.init.id)}))}},beforeDestroy(){if(this.highlightAnimated=!0,window.removeEventListener("message",this.onExternalMessage),window.removeEventListener("resize",this.updateSvgSize),this.mouseEventsEnabled=!1,v.Z.zoomToAreaRequested.$off(this.editorId,this.onBringToView),v.Z.item.linksShowRequested.any.$off(this.editorId,this.onShowItemLinks),v.Z.item.clicked.any.$off(this.editorId,this.onAnyItemClicked),v.Z.item.changed.any.$off(this.editorId,this.onAnyItemChanged),v.Z.void.clicked.$off(this.editorId,this.onVoidClicked),v.Z.void.doubleClicked.$off(this.editorId,this.onVoidDoubleClicked),v.Z.item.selected.any.$off(this.editorId,this.onAnyItemSelected),v.Z.component.mounted.any.$off(this.editorId,this.onComponentSchemeMounted),v.Z.component.loadFailed.any.$off(this.editorId,this.onComponentLoadFailed),v.Z.framePlayer.prepared.$off(this.editorId,this.onFramePlayerPrepared),v.Z.clickableMarkers.toggled.$off(this.editorId,this.toggleClickableMarkers),v.Z.editorResized.$off(this.editorId,this.updateSvgSize),v.Z.component.loadRequested.any.$off(this.editorId,this.onComponentLoadRequested),"view"===this.mode&&this.destroyUserKeyBinders(),this.useMouseWheel){const e=this.$refs.svgDomElement;e&&e.removeEventListener("wheel",this.mouseWheel)}},data(){return{mouseEventsEnabled:!("view"===this.mode&&this.textSelectionEnabled),linkPalette:["#ec4b4b","#bd4bec","#4badec","#226D18","#6A590E","#0F8989","#7B245B"],lastClickPoint:null,doubleClickLastTime:-1e3,width:window.innerWidth,height:window.innerHeight,selectedItemLinks:[],linksAnimated:!1,lastHoveredItem:null,itemsForInit:{},clickableItemMarkers:[],worldHighlightedItems:[],lastTouchStartTime:0,lastTouchStartCoords:{x:-1e3,y:-1e3},draggingFileOver:!1,highlightAnimated:!1,highlightAnimationTime:0,compiledMainScript:null,keyBinder:new W(this.userEventBus,this.schemeContainer)}},methods:{loadUserKeyBinders(){this.keyBinder.init(),this.schemeContainer.getItems().forEach((e=>{"key_bind"===e.shape&&this.keyBinder.registerKeyBindItem(e)}))},destroyUserKeyBinders(){this.keyBinder.destroy()},onExternalMessage(e){if("view"===this.mode&&this.userEventBus&&"object"==typeof e.data&&"item-event"===e.data.type&&e.data.hasOwnProperty("name")&&e.data.hasOwnProperty("event")){const t=e.data.name,n=e.data.event,i=Array.isArray(e.data.args)?e.data.args:[],r=this.schemeContainer.findItemByName(t);if(!r)return;this.userEventBus.emitItemEvent(r.id,n,...i)}},onComponentLoadRequested(e){this.$store.state.apiClient&&this.$store.state.apiClient.getScheme&&(e._childItems&&e._childItems.length>0&&(e._childItems=[]),e.meta.componentLoadFailed=!1,this.$store.state.apiClient.getScheme(e.shapeProps.schemeId).then((e=>e&&e.scheme?D(e.scheme.items,this.$store).catch((e=>{console.error(e),y.Z.addErrorSystemMessage(this.$store,"Failed to load shapes")})).then((()=>e)):Promise.reject("Empty document"))).then((t=>{const n=t.scheme,i=new S.ZP(n,this.editorId,this.mode,this.$store.state.apiClient,{onSchemeChangeCommitted:e=>v.Z.schemeChangeCommitted.$emit(this.editorId,e)});this.schemeContainer.attachItemsToComponentItem(e,i.scheme.items),this.schemeContainer.prepareFrameAnimationsForItems(),this.schemeContainer.reindexTags(),v.Z.item.changed.specific.$emit(this.editorId,e.id),"component"===e.shape&&e.shapeProps.autoZoom&&this.zoomToItems([e]),this.$nextTick((()=>{v.Z.component.mounted.specific.$emit(this.editorId,e.id,e,n)}))})).catch((t=>{console.error(t),y.Z.addErrorSystemMessage(this.$store,"Failed to load component","scheme-component-load"),e.meta.componentLoadFailed=!0,v.Z.component.loadFailed.specific.$emit(this.editorId,e.id,e)})))},zoomToItems(e){if(0===e.length)return void(0===this.schemeContainer.scheme.items.length&&(this.schemeContainer.screenTransform.scale=1,this.schemeContainer.screenTransform.x=0,this.schemeContainer.screenTransform.y=0,this.informUpdateOfScreenTransform(this.schemeContainer.screenTransform)));const t=(0,P.PR)(e,this.mode);t&&this.onBringToView(t,!0)},updateSvgSize(){if(!this.$refs.svgDomElement)return;const e=this.$refs.svgDomElement.getBoundingClientRect();this.width=e.width,this.height=e.height,this.schemeContainer.screenSettings.width=e.width,this.schemeContainer.screenSettings.height=e.height,this.$emit("svg-size-updated",{width:this.width,height:this.height})},mouseCoordsFromEvent(e){return e.touches?e.touches.length>0?this.mouseCoordsFromPageCoords(e.touches[0].pageX,e.touches[0].pageY):e.changedTouches.length>0?this.mouseCoordsFromPageCoords(e.changedTouches[0].pageX,e.changedTouches[0].pageY):null:this.mouseCoordsFromPageCoords(e.pageX,e.pageY)},mouseCoordsFromPageCoords(e,t){var n=this.$refs.svgDomElement.getBoundingClientRect(),i=e-n.left,r=t-n.top;return{x:Math.round(i),y:Math.round(r)}},identifyElement(e,t){if(e){const n=e.getAttribute("data-type");if("path-segment"===n)return{type:n,pathIndex:parseInt(e.getAttribute("data-path-index")),segmentIndex:parseInt(e.getAttribute("data-path-segment-index"))};if("path-point"===n)return{type:n,pointIndex:parseInt(e.getAttribute("data-path-point-index")),pathIndex:parseInt(e.getAttribute("data-path-index"))};if("path-control-point"===n)return{type:n,pointIndex:parseInt(e.getAttribute("data-path-point-index")),pathIndex:parseInt(e.getAttribute("data-path-index")),controlPointIndex:parseInt(e.getAttribute("data-path-control-point-index"))};if("edit-box"===n||"edit-box-template-control"===n||"edit-box-custom-control"===n||"edit-box-rotational-dragger"===n||"edit-box-pivot-dragger"===n||"edit-box-reset-image-crop-link"===n||"edit-box-context-menu-button"===n)return{type:n,editBox:this.schemeContainer.editBox};if("edit-box-resize-dragger"===n)return{type:n,editBox:this.schemeContainer.editBox,draggerEdges:(0,o.UI)(e.getAttribute("data-dragger-edges").split(","),(e=>e.trim()))};if("custom-item-area"===n)return{type:n,item:this.schemeContainer.findItemById(e.getAttribute("data-item-id")),areaId:e.getAttribute("data-custom-area-id")};if("item-details-marker"===n)return{type:n,item:this.schemeContainer.findItemById(e.getAttribute("data-item-id"))};const i=e.getAttribute("data-item-id");if(i){const e=this.schemeContainer.findItemById(i);if(e)return{type:"item",item:e}}const r=e.getAttribute("data-connector-starter-item-id");if(r){const e=this.schemeContainer.findItemById(r);if(e)return{type:"connection-starter",connectorStarter:{item:e,point:t}}}const s=e.getAttribute("data-control-point-id");if(s){const t=this.schemeContainer.findItemById(e.getAttribute("data-control-point-item-id"));if(t)return{type:"control-point",controlPoint:{pointId:s,item:t}}}const a=e.closest(".item-text-element");if(a){const e=this.schemeContainer.findItemById(a.getAttribute("data-item-text-element-item-id"));if(e)return{type:"item-text-element",itemTextElement:{item:e}}}}return G},mouseWheel(e){const t=this.mouseCoordsFromEvent(e),n=this.toLocalPoint(t.x,t.y);this.$emit("mouse-wheel",n.x,n.y,t.x,t.y,e)},touchStart(e){if(!this.mouseEventsEnabled)return;e.preventDefault();const t=this.mouseCoordsFromEvent(e),n=performance.now(),i=(t.x-this.lastTouchStartCoords.x)*(t.x-this.lastTouchStartCoords.x)+(t.y-this.lastTouchStartCoords.y)*(t.y-this.lastTouchStartCoords.y);n-this.lastTouchStartTime<500&&i<50?this.mouseEvent("mouse-double-click",e):this.mouseEvent("mouse-down",e),this.lastTouchStartTime=n,this.lastTouchStartCoords=t},touchEnd(e){this.mouseEventsEnabled&&(e.preventDefault(),this.mouseEvent("mouse-up",e))},touchMove(e){this.mouseEventsEnabled&&(e.preventDefault(),this.mouseEvent("mouse-move",e))},mouseMove(e){this.mouseEventsEnabled&&(e.preventDefault(),this.mouseEvent("mouse-move",e))},mouseDown(e){let t=performance.now(),n=0;this.lastClickPoint&&(n=Math.abs(e.pageX-this.lastClickPoint.x)+Math.abs(e.pageY-this.lastClickPoint.y)),this.lastClickPoint={x:e.pageX,y:e.pageY};const i=t-this.doubleClickLastTime;0===e.button&&n<=2&&i<400?(this.doubleClickLastTime=0,this.mouseDoubleClick(e)):(0===e.button&&(this.doubleClickLastTime=t),this.mouseEvent("mouse-down",e))},mouseUp(e){this.mouseEvent("mouse-up",e)},mouseDoubleClick(e){this.mouseEvent("mouse-double-click",e)},mouseEvent(e,t){if(this.mouseEventsEnabled){var n=this.mouseCoordsFromEvent(t),i=this.toLocalPoint(n.x,n.y);J.x=n.x,J.y=n.y,this.$emit(e,i.x,i.y,n.x,n.y,this.identifyElement(t.srcElement,i),t)}},generateItemHighlight(e,t){const n=u.Z.find(e.shape);if(!n)return;const i=n.computeOutline(e);if(!i)return;const r=(0,P.aR)(e),o=(0,P.pD)(e);let a=Math.max(o.x,o.y);s.Z.tooSmall(a)&&(a=1);let l=6;if("path"===e.shape)l=e.shapeProps.strokeSize;else{const t=u.Z.find(e.shape);u.Z.getShapePropDescriptor(t,"strokeSize")&&(l=e.shapeProps.strokeSize)}const c={id:e.id,transform:`matrix(${r[0][0]},${r[1][0]},${r[0][1]},${r[1][1]},${r[0][2]},${r[1][2]})`,path:i,fill:"none",strokeSize:l,stroke:this.schemeContainer.scheme.style.boundaryBoxColor,pins:[],opacity:.5,scalingFactor:a};return t&&(c.pins=n.getPins(e)),c},highlightItems(e,t){this.worldHighlightedItems=[],this.highlightAnimated=!1,this.highlightAnimationTime=0,(0,o.Ed)(e,(e=>{const n=this.schemeContainer.findItemById(e);if(!n)return;const i=this.generateItemHighlight(n,t);this.worldHighlightedItems.push(i)}))},reindexUserEvents(){this.userEventBus&&(this.userEventBus.clear(),this.indexUserEventsInItems(this.schemeContainer.scheme.items,this.itemsForInit,null))},indexUserEventsInItems(e,t,n){(0,a.Hp)(e,(e=>{e.behavior&&Array.isArray(e.behavior.events)&&e.behavior.events.forEach((i=>{const r=(0,I.z)(this.schemeContainer,n,e,i.actions,(e=>{this.onCompilerError(e)}));i.event===T.Z.standardEvents.init.id&&(t[e.id]=1),this.userEventBus.subscribeItemEvent(e.id,e.name,i.event,r)}))}))},onCompilerError(e){this.$emit("compiler-error",e)},onComponentSchemeMounted(e,t){if(e._childItems){const n={};!function(e,t,n,i,r){n.meta||(n.meta={});const o=t.scripts.main.source;if(o)try{const t=(0,L.BJ)(o),i=(0,N.Nd)(e,r);t.evalNode(i),n.meta.componentScriptScopeData=i.data}catch(e){console.error(e)}n.meta.componentScriptFunctions=[],t.scripts.functions.forEach((e=>{n.meta.componentScriptFunctions.push(R(R({},e),{},{name:`${n.id}/${e.name}`}))})),(0,a.Hp)(i,(e=>{(e.behavior||Array.isArray(e.behavior.events))&&e.behavior.events.forEach((e=>{Array.isArray(e.actions)&&e.actions.forEach((e=>{const t=e.method;t.startsWith("function:")&&(e.method=`function:${n.id}/${t.substring(9)}`)}))}))}))}(this.schemeContainer,t,e,e._childItems,this.userEventBus),(0,a.Hp)(e._childItems,(e=>{"key_bind"===e.shape&&this.keyBinder.registerKeyBindItem(e)})),this.indexUserEventsInItems(e._childItems,n,e),(0,o.Ed)(n,((e,t)=>{this.userEventBus.emitItemEvent(t,T.Z.standardEvents.init.id)}))}"component"===e.shape&&this.userEventBus&&this.userEventBus.emitItemEvent(e.id,$.lK)},onComponentLoadFailed(e){"component"===e.shape&&this.userEventBus&&this.userEventBus.emitItemEvent(e.id,$.LM)},prepareFrameAnimations(){this.schemeContainer.prepareFrameAnimations()},onFramePlayerPrepared(e,t){if("view"!==this.mode)return;const n=this.schemeContainer.getFrameAnimation(e.id);n&&n.setCallbacks(t)},onFrameAnimatorEvent(e){if("view"!==this.mode)return;const t=e.item.id,n=this.schemeContainer.getFrameAnimation(t);n&&("play"===e.operation?(n.setCallbacks(e.callbacks),n.setFrame(e.frame),e.stopFrame?n.setStopFrame(e.stopFrame):n.setStopFrame(-1),(0,E.oK)(this.editorId,n,t,"frame-player")):"setFrame"===e.operation?n.toggleFrame(e.frame):"stop"===e.operation&&n.stop())},onSvgItemLinkClick(e,t){return e.startsWith("/")&&!this.linksAnimated&&(window.open(e,"_blank")||window.location.replace(e),t.preventDefault()),!1},onShowItemLinks(e){"view"===this.mode&&(this.selectedItemLinks=this.generateItemLinks(e),this.$nextTick((()=>{(0,o.Ed)(this.selectedItemLinks,((e,t)=>{const n=document.querySelector(`#item-link-${t} span.item-link-title`);if(n){const t=n.getBoundingClientRect();e.width=t.width,e.height=t.height}}))})),this.startLinksAnimation())},onAnyItemChanged(e,t){"visible"===t&&this.$forceUpdate()},onAnyItemClicked(e){this.removeDrawnLinks(),this.resetHighlightedItems()},onAnyItemSelected(){this.resetHighlightedItems()},resetHighlightedItems(){this.highlightAnimated=!1,this.highlightAnimationTime=0,this.worldHighlightedItems.length>0&&(this.worldHighlightedItems=[])},onVoidClicked(){this.removeDrawnLinks()},onVoidDoubleClicked(e,t,n,i){if("edit"===this.mode){const n=p.Z.clone(a.XZ);n.name=this.schemeContainer.copyNameAndMakeUnique("Label"),n.textSlots={body:{text:"",halign:"left",valign:"top",paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0}},n.shape="none",n.area={x:e,y:t,w:40,h:40},(0,l.z9)(n),this.schemeContainer.addItem(n),this.$nextTick((()=>{v.Z.textSlot.triggered.specific.$emit(this.editorId,n,"body",{x:0,y:0,w:n.area.w,h:n.area.h},!1,!0)}))}},removeDrawnLinks(){this.selectedItemLinks.length>0&&(this.selectedItemLinks=[])},onBringToView(e,t){const n=(0,P.$o)(e,this.width,this.height),i=this.schemeContainer.screenTransform.x,r=this.schemeContainer.screenTransform.y,o=this.schemeContainer.screenTransform.scale;t?(0,E.oK)(this.editorId,new _.ZP({durationMillis:400,animationType:"ease-out",update:e=>{this.schemeContainer.screenTransform.scale=o*(1-e)+n.scale*e,this.schemeContainer.screenTransform.x=i*(1-e)+n.x*e,this.schemeContainer.screenTransform.y=r*(1-e)+n.y*e},destroy:()=>{this.informUpdateOfScreenTransform(this.schemeContainer.screenTransform)}}),"screen","screen-tansform"):(this.schemeContainer.screenTransform.scale=n.scale,this.schemeContainer.screenTransform.x=n.x,this.schemeContainer.screenTransform.y=n.y,this.informUpdateOfScreenTransform(this.schemeContainer.screenTransform))},startLinksAnimation(){this.linksAnimated=!0,(0,E.oK)(this.editorId,new _.ZP({durationMillis:300,update:e=>{(0,o.Ed)(this.selectedItemLinks,(t=>{t.x=t.startX*(1-e)+t.destinationX*e,t.y=t.startY*(1-e)+t.destinationY*e}))},destroy:()=>{this.linksAnimated=!1}}),"screen","links-animation")},generateItemLinks(e){if(e.links&&e.links.length>0){const t=this.schemeContainer.worldPointOnItem(e.area.w/2,e.area.h/2,e);let n=this._x(t.x),i=this._y(t.y),r=n,s=i;(i>this.height-100||i<100)&&(i=this.height/4);let a=Math.max(20,Math.min(40,this.height/(e.links.length+1))),l=i-e.links.length*a/2;const c=this.schemeContainer.worldPointOnItem(e.area.w,0,e);let h=this._x(c.x)+10;this.width-h<300&&(h=Math.max(10,this.width-300));const d=e=>"doc"===e.type&&e.url&&e.url.startsWith("/docs/")&&this.$router&&"history"!==this.$router.mode?"#"+e.url:e.url;return(0,o.UI)(e.links,((e,t)=>({url:d(e),type:e.type,iconClass:this.getIconClassForLink(e),title:e.title,x:n,y:i,startX:r,startY:s,destinationX:h,destinationY:l+a*t,width:1e3,height:30})))}return[]},informUpdateOfScreenTransform(e){v.Z.screenTransformUpdated.$emit(this.editorId,e)},calculateLinkBackgroundRectWidth:e=>e.title?10*e.title.length:10*e.url.length,getIconClassForLink(e){if("file"===e.type){const t=e.title.lastIndexOf("."),n=e.title.substring(Math.max(0,t+1)).toLowerCase();return k.Z.findFileIcon(n).cssClass}return k.Z.findTypeByNameOrDefault(e.type).cssClass},toLocalPoint(e,t){return{x:(e-this.schemeContainer.screenTransform.x)/this.schemeContainer.screenTransform.scale,y:(t-this.schemeContainer.screenTransform.y)/this.schemeContainer.screenTransform.scale}},createHUDTransform(e){let t=0,n=0;return"left"===e.shapeProps.horizontalPosition?t=0:"right"===e.shapeProps.horizontalPosition?t=this.width-e.area.w:"center"===e.shapeProps.horizontalPosition&&(t=(this.width-e.area.w)/2),"top"===e.shapeProps.verticalPosition?n=0:"bottom"===e.shapeProps.verticalPosition?n=this.height-e.area.h:"center"===e.shapeProps.verticalPosition&&(n=(this.height-e.area.h)/2),`translate(${t} ${n})`},onDragEnter(e){e.preventDefault(),e.stopPropagation()},onDragOver(e){e.preventDefault(),e.stopPropagation()},onDragLeave(e){e.preventDefault(),e.stopPropagation()},areaToViewport(e,t){const n=this.pointToViewport(e.x,e.y,t);return{x:n.x,y:n.y,w:e.w*t.scale,h:e.h*t.scale}},pointToViewport:(e,t,n)=>({x:e*n.scale+n.x,y:t*n.scale+n.y}),onFileDragEnter(e){e.dataTransfer&&this.$store.state.apiClient&&this.$store.state.apiClient.uploadFile&&(this.draggingFileOver=!0)},onFileDragOver(e){e.dataTransfer&&this.$store.state.apiClient&&this.$store.state.apiClient.uploadFile&&(this.draggingFileOver=!0)},onFileDragLeave(e){this.draggingFileOver=!1},onFileDrop(e){if(this.draggingFileOver=!1,e.preventDefault(),"edit"!==this.mode||!this.$store.state.apiClient||!this.$store.state.apiClient.uploadFile)return;let t=[...e.dataTransfer.items].filter((e=>"file"===e.kind));if(0===t.length)return;const n=this.mouseCoordsFromPageCoords(e.pageX,e.pageY),i=this.toLocalPoint(n.x,n.y);let r=-1;t.map((e=>e.getAsFile())).map((e=>{const t=e.type||"",n=e.name;return y.Z.addInfoSystemMessage(this.$store,`Uploading file "${n}"...`,`file-uploading-${n}`,"fas fa-spinner fa-spin fa-1x"),this.$store.state.apiClient.uploadFile(e).then((e=>{r+=1;const o=p.Z.clone(a.XZ);if(t.startsWith("image/")){o.name=n,o.shape="image",o.shapeProps={image:e};const t=200;o.area={x:i.x,y:i.y+r*(t+10),w:200,h:t}}else o.name="Link to "+n,o.shape="link",o.shapeProps={url:e,icon:"file"},o.cursor="pointer",o.textSlots={link:{text:n,halign:"left",valign:"top",fontSize:16,paddingLeft:0,paddingTop:0,paddingBottom:0,paddingRight:0,color:"#047EFB"}},o.area={x:i.x,y:i.y+40*r,w:12*n.length+30,h:30};(0,l.z9)(o),this.schemeContainer.addItem(o),v.Z.item.changed.specific.$emit(this.editorId,o.id,"links"),v.Z.schemeChangeCommitted.$emit(this.editorId)})).catch((e=>(console.error(e),e.response&&e.response.data&&e.response.data.message?y.Z.addErrorSystemMessage(this.$store,e.response.data.message,`item-upload-error-${n}`):y.Z.addErrorSystemMessage(this.$store,"Something went wrong, could not upload file",`item-upload-error-${n}`),null)))}))},toggleClickableMarkers(){const e=[];(0,a.tb)(this.schemeContainer.scheme.items,(t=>{if(!t.visible)return!1;if(t.description&&t.description.length>4||t.links&&t.links.length>0||(e=>{if(0===e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t].event;if(n===T.Z.standardEvents.mousein.id||n===T.Z.standardEvents.clicked.id)return!0}return!1})(t.behavior.events)||t.behavior.dragging&&"none"!==t.behavior.dragging){const n=this.generateItemHighlight(t,!1);n.fill=n.stroke,e.push(n)}else if("component"===t.shape&&"external"===t.shapeProps.kind&&!0===t.shapeProps.showButton){const n=(0,P.pD)(t);let i=Math.max(n.x,n.y);s.Z.tooSmall(i)&&(i=1);const r=(0,P.aR)(t);e.push({id:t.id,transform:`matrix(${r[0][0]},${r[1][0]},${r[0][1]},${r[1][1]},${r[0][2]},${r[1][2]})`,path:(0,$.C0)(t),fill:this.schemeContainer.scheme.style.boundaryBoxColor,strokeSize:Math.max(2,t.shapeProps.buttonStrokeSize+2),stroke:this.schemeContainer.scheme.style.boundaryBoxColor,pins:[],opacity:.5,scalingFactor:i})}return!0})),this.worldHighlightedItems=e,this.animateCurrentHighlightedItems()},animateCurrentHighlightedItems(){if(this.highlightAnimationTime=0,this.highlightAnimated)return;if(0===this.worldHighlightedItems.length)return;this.highlightAnimated=!0;const e=t=>{const n=performance.now(),i=n-t;if(this.highlightAnimationTime+=i,!this.highlightAnimated||this.highlightAnimationTime>5e3||0===this.worldHighlightedItems.length)return this.highlightAnimationTime=0,this.highlightAnimated=!1,this.worldHighlightedItems=[],void this.$forceUpdate();let r=1;this.highlightAnimationTime>4e3&&(r=(5e3-this.highlightAnimationTime)/1e3);for(let e=0;e<this.worldHighlightedItems.length;e++)this.worldHighlightedItems[e].opacity=r*(.2*Math.cos(this.highlightAnimationTime/300)+.3);this.$forceUpdate(),requestAnimationFrame((()=>e(n)))};requestAnimationFrame((()=>e(performance.now())))},_x(e){return e*this.schemeContainer.screenTransform.scale+this.schemeContainer.screenTransform.x},_y(e){return e*this.schemeContainer.screenTransform.scale+this.schemeContainer.screenTransform.y},_z(e){return e*this.schemeContainer.screenTransform.scale}},computed:{fileDropLayerFill(){return this.draggingFileOver?"rgba(200,255,200,0.6)":"rgba(255,255,255,0.0)"},cssClass(){const e=["mode-"+this.mode];return"view"===this.mode&&this.textSelectionEnabled||e.push("text-nonselectable"),e},safeZoom(){return this.schemeContainer.screenTransform.scale>1e-5?this.schemeContainer.screenTransform.scale:1},transformSvg(){const e=Math.floor(this.schemeContainer.screenTransform.x||0),t=Math.floor(this.schemeContainer.screenTransform.y||0),n=this.schemeContainer.screenTransform.scale||1;return`translate(${e} ${t}) scale(${n} ${n})`},gridStep(){return s.Z.getSnappingWidthForScale(this.schemeContainer.screenTransform.scale)*this.schemeContainer.screenTransform.scale},gridCount(){const e=s.Z.getSnappingWidthForScale(this.schemeContainer.screenTransform.scale),t=e*this.schemeContainer.screenTransform.scale;if(t<4)return{x:0,y:0,x0:0,y0:0};const n=Math.ceil(this.width/t)+1,i=Math.ceil(this.height/t)+1,r=e*this.schemeContainer.screenTransform.scale;let o=Math.ceil(this.schemeContainer.screenTransform.x%r)-r,a=Math.ceil(this.schemeContainer.screenTransform.y%r)-r;return{x:n,y:i,x0:Math.ceil((this._x(0)-o)/t),y0:Math.ceil((this._y(0)-a)/t)}},gridTransform(){const e=s.Z.getSnappingWidthForScale(this.schemeContainer.screenTransform.scale)*this.schemeContainer.screenTransform.scale;return`translate(${Math.ceil(this.schemeContainer.screenTransform.x%e)-e} ${Math.ceil(this.schemeContainer.screenTransform.y%e)-e})`},multiSelectBox(){return this.$store.getters.multiSelectBox},horizontalSnapper(){return this.$store.getters.horizontalSnapper},verticalSnapper(){return this.$store.getters.verticalSnapper},shouldShowDropMask(){return this.$store.getters.isDraggingItemCreation}},filters:{formatLinkTitle:e=>e.title?e.title:e.url},watch:{textSelectionEnabled(e){this.mouseEventsEnabled=!("view"===this.mode&&e),this.$forceUpdate()},highlightedItems(e){this.highlightItems(e.itemIds,e.showPins)},zoomToItemsTrigger(){this.zoomToItems(this.zoomedItems)}}},Q=K,Y=(0,A.Z)(Q,r,[],!1,null,null,null).exports;var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-tooltip",class:{"item-short-details-tooltip":e.isShortDetails},style:e.tooltipStyle,attrs:{id:e.domId,"data-type":e.dataType,"data-item-id":e.item.id},on:{mouseover:function(t){return e.$emit("mouseover",t)},mouseleave:function(t){return e.$emit("mouseleave",t)}}},[e.isShortDetails?e._e():n("div",{staticClass:"tooltip-header"},[n("span",{staticClass:"item-tooltip-close",style:{color:e.tooltipColor},on:{click:function(t){return e.$emit("close")}}},[e._v("×")]),e._v(" "),n("h3",{style:{color:e.tooltipColor}},[e._v(e._s(e.item.name))])]),e._v(" "),e.hasLinks?n("ul",{staticClass:"item-tooltip-links"},e._l(e.item.links,(function(t){return n("li",[n("a",{attrs:{href:t.url}},[n("i",{staticClass:"icon",class:t.iconClass}),e._v("\n                "+e._s(t.title)+"\n            ")])])})),0):e._e(),e._v(" "),n("div",{staticClass:"item-tooltip-body",domProps:{innerHTML:e._s(e.sanitizedItemDescription)}})])};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}X._withStripped=!0;const ne={props:{item:{type:Object,required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},isShortDetails:{type:Boolean,default:!1}},beforeMount(){document.body.addEventListener("click",this.onBodyClick)},mounted(){const e=document.getElementById(this.domId).getBoundingClientRect(),t=Math.min(0,window.innerWidth-this.x-e.width),n=Math.min(0,window.innerHeight-this.y-e.height);this.positionLeft=this.x+t,this.positionTop=this.y+n},beforeDestroy(){document.body.removeEventListener("click",this.onBodyClick)},data(){const e=this.isShortDetails?300:Math.min(300,.7*window.innerWidth),t=this.isShortDetails?200:Math.min(700,.7*window.innerWidth),n=Math.min(500,.7*window.innerHeight),i=(this.item.links||[]).map((e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if("file"===e.type){const t=e.title.lastIndexOf("."),n=e.title.substring(Math.max(0,t+1));e.iconClass=k.Z.findFileIcon(n).cssClass}else e.iconClass=k.Z.findTypeByNameOrDefault(e.type).cssClass;return t}));return{domId:`item-tooltip-${this.item.id}`,positionLeft:this.x,positionTop:this.y,minWidth:e,maxWidth:t,maxHeight:n,hasLinks:i.length>0,tooltipBackground:this.item.tooltipBackground||"#eeeeee",tooltipColor:this.item.tooltipColor||"#111111"}},methods:{onBodyClick(e){e.srcElement.closest("svg.svg-editor-plot")||e.srcElement.closest(".item-tooltip")||this.$emit("close")}},computed:{tooltipStyle(){return{left:this.positionLeft+"px",top:this.positionTop+"px",background:this.tooltipBackground,color:this.tooltipColor,padding:"10px","min-width":`${this.minWidth}px`,"max-width":`${this.maxWidth}px`,"max-height":`${this.maxHeight}px`}},sanitizedItemDescription(){return(0,f.Z)(this.item.description)},dataType(){return this.isShortDetails?"item-details-tooltip":"item-tooltip"}}},ie=(0,A.Z)(ne,X,[],!1,null,null,null).exports;var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-details"},[n("h3",[e._v(e._s(e.item.name))]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.sanitizedItemDescription)}}),e._v(" "),e.item.links&&e.item.links.length>0?n("div",[n("h5",[e._v("Links")]),e._v(" "),n("ul",{staticClass:"links"},e._l(e.item.links,(function(t){return n("li",[n("a",{staticClass:"link",attrs:{href:t.url,target:"_blank"}},[n("i",{class:e.getLinkCssClass(t)}),e._v("\n                    "+e._s(e._f("formatLinkTitle")(t))+"\n                ")])])})),0)]):e._e()])};re._withStripped=!0;const oe={props:["item"],methods:{getLinkCssClass:e=>k.Z.findTypeByNameOrDefault(e.type).cssClass},computed:{sanitizedItemDescription(){return(0,f.Z)(this.item.description)}},filters:{formatLinkTitle:e=>e.title?e.title:e.url}},se=(0,A.Z)(oe,re,[],!1,null,null,null).exports;var ae=("undefined"!=typeof window?window:void 0!==n.g?n.g:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var n,i=(n=function(t){return t.original===e},t.filter(n)[0]);if(i)return i.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(n){r[n]=le(e[n],t)})),r}function ce(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function he(e){return null!==e&&"object"==typeof e}var de=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},ue={namespaced:{configurable:!0}};ue.namespaced.get=function(){return!!this._rawModule.namespaced},de.prototype.addChild=function(e,t){this._children[e]=t},de.prototype.removeChild=function(e){delete this._children[e]},de.prototype.getChild=function(e){return this._children[e]},de.prototype.hasChild=function(e){return e in this._children},de.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},de.prototype.forEachChild=function(e){ce(this._children,e)},de.prototype.forEachGetter=function(e){this._rawModule.getters&&ce(this._rawModule.getters,e)},de.prototype.forEachAction=function(e){this._rawModule.actions&&ce(this._rawModule.actions,e)},de.prototype.forEachMutation=function(e){this._rawModule.mutations&&ce(this._rawModule.mutations,e)},Object.defineProperties(de.prototype,ue);var pe,fe=function(e){this.register([],e,!1)};function me(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;me(e.concat(i),t.getChild(i),n.modules[i])}}fe.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},fe.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},fe.prototype.update=function(e){me([],this.root,e)},fe.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new de(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r),t.modules&&ce(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},fe.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},fe.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var ge=function(e){var t=this;void 0===e&&(e={}),!pe&&"undefined"!=typeof window&&window.Vue&&ke(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new fe(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new pe,this._makeLocalGettersCache=Object.create(null);var r=this,o=this.dispatch,s=this.commit;this.dispatch=function(e,t){return o.call(r,e,t)},this.commit=function(e,t,n){return s.call(r,e,t,n)},this.strict=i;var a=this._modules.root.state;we(this,a,[],this._modules.root),xe(this,a),n.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:pe.config.devtools)&&function(e){ae&&(e._devtoolHook=ae,ae.emit("vuex:init",e),ae.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){ae.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){ae.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},ve={state:{configurable:!0}};function ye(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function be(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;we(e,n,[],e._modules.root,!0),xe(e,n,t)}function xe(e,t,n){var i=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,o={};ce(r,(function(t,n){o[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var s=pe.config.silent;pe.config.silent=!0,e._vm=new pe({data:{$$state:t},computed:o}),pe.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){}),{deep:!0,sync:!0})}(e),i&&(n&&e._withCommit((function(){i._data.$$state=null})),pe.nextTick((function(){return i.$destroy()})))}function we(e,t,n,i,r){var o=!n.length,s=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=i),!o&&!r){var a=Ae(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){pe.set(a,l,i.state)}))}var c=i.context=function(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var o=Ce(n,i,r),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=t+l),e.dispatch(l,s)},commit:i?e.commit:function(n,i,r){var o=Ce(n,i,r),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=t+l),e.commit(l,s,a)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return Ae(e.state,n)}}}),r}(e,s,n);i.forEachMutation((function(t,n){!function(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,i.state,t)}))}(e,s+n,t,c)})),i.forEachAction((function(t,n){var i=t.root?n:s+n,r=t.handler||t;!function(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push((function(t){var r,o=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(r=o)&&"function"==typeof r.then||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}(e,i,r,c)})),i.forEachGetter((function(t,n){!function(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)})}(e,s+n,t,c)})),i.forEachChild((function(i,o){we(e,t,n.concat(o),i,r)}))}function Ae(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Ce(e,t,n){return he(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function ke(e){pe&&e===pe||function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(pe=e)}ve.state.get=function(){return this._vm._data.$$state},ve.state.set=function(e){},ge.prototype.commit=function(e,t,n){var i=this,r=Ce(e,t,n),o=r.type,s=r.payload,a=(r.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,i.state)})))},ge.prototype.dispatch=function(e,t){var n=this,i=Ce(e,t),r=i.type,o=i.payload,s={type:r,payload:o},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(e){}var l=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(e){}t(e)}))}))}},ge.prototype.subscribe=function(e,t){return ye(e,this._subscribers,t)},ge.prototype.subscribeAction=function(e,t){return ye("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},ge.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch((function(){return e(i.state,i.getters)}),t,n)},ge.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},ge.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),we(this,this.state,e,this._modules.get(e),n.preserveState),xe(this,this.state)},ge.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=Ae(t.state,e.slice(0,-1));pe.delete(n,e[e.length-1])})),be(this)},ge.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},ge.prototype.hotUpdate=function(e){this._modules.update(e),be(this,!0)},ge.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ge.prototype,ve);var Se=Te((function(e,t){var n={};return _e(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=$e(this.$store,0,e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0})),n})),Pe=Te((function(e,t){var n={};return _e(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var o=$e(this.$store,0,e);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),Ie=Te((function(e,t){var n={};return _e(t).forEach((function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||$e(this.$store,0,e))return this.$store.getters[r]},n[i].vuex=!0})),n})),Ee=Te((function(e,t){var n={};return _e(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var o=$e(this.$store,0,e);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n}));function _e(e){return function(e){return Array.isArray(e)||he(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function Te(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function $e(e,t,n){return e._modulesNamespaceMap[n]}function Me(e,t,n){var i=n?e.groupCollapsed:e.group;try{i.call(e,t)}catch(n){e.log(t)}}function Oe(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function De(){var e=new Date;return" @ "+Le(e.getHours(),2)+":"+Le(e.getMinutes(),2)+":"+Le(e.getSeconds(),2)+"."+Le(e.getMilliseconds(),3)}function Le(e,t){return"0",n=t-e.toString().length,new Array(n+1).join("0")+e;var n}const Ne={Store:ge,install:ke,version:"3.6.2",mapState:Se,mapMutations:Pe,mapGetters:Ie,mapActions:Ee,createNamespacedHelpers:function(e){return{mapState:Se.bind(null,e),mapGetters:Ie.bind(null,e),mapMutations:Pe.bind(null,e),mapActions:Ee.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var r=e.mutationTransformer;void 0===r&&(r=function(e){return e});var o=e.actionFilter;void 0===o&&(o=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var a=e.logMutations;void 0===a&&(a=!0);var l=e.logActions;void 0===l&&(l=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var h=le(e.state);void 0!==c&&(a&&e.subscribe((function(e,o){var s=le(o);if(n(e,h,s)){var a=De(),l=r(e),d="mutation "+e.type+a;Me(c,d,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(h)),c.log("%c mutation","color: #03A9F4; font-weight: bold",l),c.log("%c next state","color: #4CAF50; font-weight: bold",i(s)),Oe(c)}h=s})),l&&e.subscribeAction((function(e,n){if(o(e,n)){var i=De(),r=s(e),a="action "+e.type+i;Me(c,a,t),c.log("%c action","color: #03A9F4; font-weight: bold",r),Oe(c)}})))}}};var Be=n(9218);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t().use(Ne);const je="defaultConnectorSmoothing",ze=(0,Be.Ue)("store",100),Ue=new Ne.Store({state:{rootPath:"/",assetsPath:"/assets",routePrefix:"",apiClient:null,editorSubStateName:null,itemMenu:{artPackIds:new Set,artPacks:[],shapeGroupIds:new Set},connecting:{connectorItem:null},patch:{settings:{additionsColor:"rgba(90, 255, 90, 0.4)",deletionsColor:"rgba(255, 90, 90, 0.4)",modificationsColor:"rgba(90, 90, 255, 0.4)"},diffColoringEnabled:!0},defaultConnectorSmoothing:ze.get(je,"linear"),autoRemount:ze.get("autoRemount",!0),showPivot:ze.get("showPivot",!1),showItemDetailMarkers:ze.get("showItemDetailMarkers",!0),copiedStyleItem:null,snap:{grid:ze.get("snap.grid",!1),items:ze.get("snap.items",!0)},itemSurround:{padding:40},itemControlPoints:[],selectedConnectorPath:null,selectedConnector:null,multiSelectBox:null,snappers:{horizontal:null,vertical:null},connectorProposedDestination:{shown:!1,connectorItemId:null,mx:0,my:0},imageUpload:{images:new Map},statusMessage:{message:null,isError:!1},systemMessages:[],draw:{epsilon:0,pencilSize:3,brushSize:5}},mutations:{SET_ROUTE_PREFIX(e,t){e.routePrefix=t},SET_ROOT_PATH(e,t){e.rootPath=t},SET_ASSESTS_PATH(e,t){e.assetsPath=t},SET_API_CLIENT(e,t){e.apiClient=t},TOGGLE_AUTO_REMOUNT(e){e.autoRemount=!e.autoRemount,ze.save("autoRemount",e.autoRemount)},TOGGLE_PIVOT(e){e.showPivot=!e.showPivot,ze.save("showPivot",e.showPivot)},TOGGLE_ITEM_DETAIL_MARKERS(e){e.showItemDetailMarkers=!e.showItemDetailMarkers,ze.save("showItemDetailMarkers",e.showItemDetailMarkers)},SET_DEFAULT_CONNECTOR_SMOOTHING(e,t){e.defaultConnectorSmoothing=t,ze.save(je,t)},SET_GRID_SNAP(e,t){e.snap.grid=t,ze.save("snap.grid",t)},SET_ITEM_SNAP(e,t){e.snap.items=t,ze.save("snap.items",t)},SET_EDITOR_SUB_STATE_NAME(e,t){e.editorSubStateName=t},SET_ITEM_SURROUND_PADDING(e,t){e.itemSurround.padding=t},SET_ITEM_CONTROL_POINTS(e,t){e.itemControlPoints=t},CLEAR_ITEM_CONTROL_POINTS(e){e.itemControlPoints.length=0},SET_MULTI_SELECT_BOX(e,t){e.multiSelectBox=t},SET_SELECTED_CONNECTOR_WITH_PATH(e,{item:t,path:n}){e.selectedConnectorPath=n,e.selectedConnector=t},SET_ITEM_SNAPPER(e,t){"horizontal"===t.snapperType?e.snappers.horizontal=t:"vertical"===t.snapperType&&(e.snappers.vertical=t)},CLEAR_ITEM_SNAPPERS(e){e.snappers.horizontal=null,e.snappers.vertical=null},PROPOSE_CONNECTOR_DESTINATION_ITEMS(e,{connectorItemId:t,mx:n,my:i}){e.connectorProposedDestination.connectorItemId=t,e.connectorProposedDestination.mx=n,e.connectorProposedDestination.my=i,e.connectorProposedDestination.shown=!0},DISABLE_PROPOSE_CONNECTOR_DESTINATION_ITEMS(e){e.connectorProposedDestination.shown=!1},UPDATE_IMAGE_UPLOAD_STATUS(e,{imageId:t,uploading:n,uploadFailed:i}){i&&(e.statusMessage.message="Failed to upload image",e.statusMessage.isError=!0),n&&!i||!e.imageUpload.images.has(t)?e.imageUpload.images.set(t,{uploading:n,date:new Date}):e.imageUpload.images.delete(t);let r=0;if(e.imageUpload.images.forEach((e=>{e.uploading&&(r+=1)})),!e.statusMessage.isError||!e.statusMessage.message)if(r>0){let t="";r>1&&(t="s"),e.statusMessage.message=`Uploading ${r} image${t}`,e.statusMessage.isError=!1}else e.statusMessage.message=null,e.statusMessage.isError=!1},RESET_IMAGE_UPLOAD_STATUS(e){const t=new Date,n=[];e.imageUpload.images.forEach(((e,i)=>{t.getTime()-e.date.getTime()>45e3&&n.push(i)})),(0,o.Ed)(n,(t=>{e.imageUpload.images.delete(t)}))},CLEAR_STATUS_MESSAGE(e){e.statusMessage.message=null,e.statusMessage.isError=!1},SET_STATUS_MESSAGE(e,{message:t,isError:n}){e.statusMessage.message=t,e.statusMessage.isError=n},ADD_SYSTEM_MESSAGE(e,{message:t,status:n,id:i,iconClass:r}){if(i){for(let t=0;t<e.systemMessages.length;t++)if(e.systemMessages[t].id===i)return}else i=j().generate();e.systemMessages.push({id:i,message:t,status:n,iconClass:r}),setTimeout((()=>{for(let t=0;t<e.systemMessages.length;t++)if(e.systemMessages[t].id===i)return void e.systemMessages.splice(t,1)}),5e3)},REMOVE_SYSTEM_MESSAGE(e,t){for(let n=0;n<e.systemMessages.length;n++)if(e.systemMessages[n].id===t)return void e.systemMessages.splice(n,1)},UPDATE_DRAW_PENCIL_SIZE(e,t){isNaN(t)||(e.draw.pencilSize=t)},UPDATE_DRAW_BRUSH_SIZE(e,t){isNaN(t)||(e.draw.brushSize=t)},UPDATE_DRAW_EPSILON(e,t){isNaN(t)||(e.draw.epsilon=t)},COPY_ITEM_STYLE(e,t){e.copiedStyleItem=p.Z.clone(t)},SET_PATCH_DIFF_COLORING_ENABLED(e,t){e.patch.diffColoringEnabled=t},UPDATE_PATCH_DIFF_COLOR(e,{changeType:t,color:n}){"additions"===t?e.patch.settings.additionsColor=n:"deletions"===t?e.patch.settings.deletionsColor=n:"modifications"===t&&(e.patch.settings.modificationsColor=n)},SET_CURRENT_CONNECTOR(e,{item:t}){e.connecting.connectorItem=t},ADD_ART_PACK(e,{artPack:t,artPackId:n}){e.itemMenu.artPackIds.has(n)||(e.itemMenu.artPacks.push(Ze(Ze({},t),{},{id:n})),e.itemMenu.artPackIds.add(n))},REMOVE_ART_PACK(e,t){if(e.itemMenu.artPackIds.has(t)){e.itemMenu.artPackIds.delete(t);for(let n=0;n<e.itemMenu.artPacks.length;n++)if(e.itemMenu.artPacks[n].id===t)return void e.itemMenu.artPacks.splice(n,1)}},REGISTER_SHAPE_GROUP_ID(e,t){e.itemMenu.shapeGroupIds.add(t)}},actions:{setRoutePrefix({commit:e},t){e("SET_ROUTE_PREFIX",t)},setRootPath({commit:e},t){e("SET_ROOT_PATH",t)},setAssetsPath({commit:e},t){e("SET_ASSESTS_PATH",t)},setApiClient({commit:e},t){e("SET_API_CLIENT",t)},setDefaultConnectorSmoothing({commit:e},t){e("SET_DEFAULT_CONNECTOR_SMOOTHING",t)},setGridSnap({commit:e},t){e("SET_GRID_SNAP",t)},setItemSnap({commit:e},t){e("SET_ITEM_SNAP",t)},setEditorSubStateName({commit:e},t){e("SET_EDITOR_SUB_STATE_NAME",t)},setItemSurroundPadding({commit:e},t){e("SET_ITEM_SURROUND_PADDING",t)},setItemControlPoints({commit:e},t){const n=[];(0,o.Ed)(t,((e,t)=>{n.push({id:t,point:e})})),e("SET_ITEM_CONTROL_POINTS",n)},clearItemControlPoints({commit:e}){e("CLEAR_ITEM_CONTROL_POINTS")},setMultiSelectBox({commit:e},t){e("SET_MULTI_SELECT_BOX",t)},setSelectedConnectorWithPath({commit:e},{item:t,path:n}){e("SET_SELECTED_CONNECTOR_WITH_PATH",{item:t,path:n})},setItemSnapper({commit:e},t){e("SET_ITEM_SNAPPER",t)},clearItemSnappers({commit:e}){e("CLEAR_ITEM_SNAPPERS")},toggleAutoRemount({commit:e}){e("TOGGLE_AUTO_REMOUNT")},togglePivot({commit:e}){e("TOGGLE_PIVOT")},toggleItemDetailMarkers({commit:e}){e("TOGGLE_ITEM_DETAIL_MARKERS")},proposeConnectorDestinationItems({commit:e},t){e("PROPOSE_CONNECTOR_DESTINATION_ITEMS",t)},disableProposeConnectorDestinationItems({commit:e}){e("DISABLE_PROPOSE_CONNECTOR_DESTINATION_ITEMS")},updateImageUploadStatus({commit:e},{imageId:t,uploading:n,uploadFailed:i}){e("UPDATE_IMAGE_UPLOAD_STATUS",{imageId:t,uploading:n,uploadFailed:i}),setTimeout((()=>{e("RESET_IMAGE_UPLOAD_STATUS")}),6e4)},clearStatusMessage({commit:e}){e("CLEAR_STATUS_MESSAGE")},setErrorStatusMessage({commit:e},t){e("SET_STATUS_MESSAGE",{message:t,isError:!0})},addSystemMessage({commit:e},{message:t,status:n,id:i,iconClass:r}){e("ADD_SYSTEM_MESSAGE",{message:t,status:n,id:i,iconClass:r})},removeSystemMessage({commit:e},t){e("REMOVE_SYSTEM_MESSAGE",t)},updateDrawEpsilon({commit:e},t){e("UPDATE_DRAW_EPSILON",t)},updateDrawPencilSize({commit:e},t){e("UPDATE_DRAW_PENCIL_SIZE",t)},updateDrawBrushSize({commit:e},t){e("UPDATE_DRAW_BRUSH_SIZE",t)},copyItemStyle({commit:e},t){e("COPY_ITEM_STYLE",t)},setPatchDiffColoringEnabled({commit:e},t){e("SET_PATCH_DIFF_COLORING_ENABLED",t)},updatePatchDiffColor({commit:e},{changeType:t,color:n}){e("UPDATE_PATCH_DIFF_COLOR",{changeType:t,color:n})},setCurrentConnector({commit:e},t){e("SET_CURRENT_CONNECTOR",{item:t})},addArtPack({commit:e},{artPack:t,artPackId:n}){e("ADD_ART_PACK",{artPack:t,artPackId:n})},removeArtPack({commit:e},t){e("REMOVE_ART_PACK",t)},registerShapeGroupId({commit:e},t){e("REGISTER_SHAPE_GROUP_ID",t)}},getters:{apiClient:e=>e.apiClient,itemControlPointsList:e=>e.itemControlPoints,multiSelectBox:e=>e.multiSelectBox,horizontalSnapper:e=>e.snappers.horizontal,verticalSnapper:e=>e.snappers.vertical,shouldSnapToGrid:e=>e.snap.grid,shouldSnapToItems:e=>e.snap.items,autoRemount:e=>e.autoRemount,showPivot:e=>e.showPivot,showItemDetailMarkers:e=>e.showItemDetailMarkers,connectorProposedDestination:e=>e.connectorProposedDestination,statusMessage:e=>e.statusMessage,selectedConnectorPath:e=>e.selectedConnectorPath,selectedConnector:e=>e.selectedConnector,systemMessages:e=>e.systemMessages,drawEpsilon:e=>e.draw.epsilon,drawPencilSize:e=>e.draw.pencilSize,drawBrushSize:e=>e.draw.brushSize,editorSubStateName:e=>e.editorSubStateName,patchAdditionsColor:e=>e.patch.settings.additionsColor,patchDeletionsColor:e=>e.patch.settings.deletionsColor,patchModificationsColor:e=>e.patch.settings.modificationsColor,patchIsDiffColoringEnabled:e=>e.patch.diffColoringEnabled,staticExportAllowed:e=>!(!e.apiClient||!e.apiClient.submitStaticExport),rootPath:e=>e.routePrefix?"/"===e.rootPath?e.routePrefix:e.routePrefix+e.rootPath:e.rootPath,assetsPath:e=>e.routePrefix?e.routePrefix+e.assetsPath:e.assetsPath,routePrefix:e=>e.routePrefix}}),He="ctrl-a",Ve="ctrl-0",qe="space",We="minus",Ge="equals",Je={escape:e=>"Escape"===e.key||"Esc"===e.key||27===e.keyCode,delete:e=>"Backspace"===e.key||"Delete"===e.key||8===e.keyCode||127===e.keyCode,"ctrl-x":e=>"x"===e.key&&(e.metaKey||e.ctrlKey)};Je[He]=e=>"a"===e.key&&(e.metaKey||e.ctrlKey),Je["ctrl-c"]=e=>"c"===e.key&&(e.metaKey||e.ctrlKey),Je["ctrl-v"]=e=>"v"===e.key&&(e.metaKey||e.ctrlKey),Je["ctrl-s"]=e=>"s"===e.key&&(e.metaKey||e.ctrlKey),Je["ctrl-z"]=e=>"z"===e.key&&(e.metaKey||e.ctrlKey)&&!e.shiftKey,Je[Ve]=e=>48===e.keyCode&&(e.metaKey||e.ctrlKey)&&!e.shiftKey,Je["ctrl-shift-z"]=e=>"z"===e.key&&(e.metaKey||e.ctrlKey)&&e.shiftKey,Je["arrow-left"]=e=>"ArrowLeft"===e.key,Je["arrow-right"]=e=>"ArrowRight"===e.key,Je["arrow-up"]=e=>"ArrowUp"===e.key,Je["arrow-down"]=e=>"ArrowDown"===e.key,Je[qe]=e=>" "===e.key||32===e.keyCode,Je[We]=e=>"-"===e.key||189===e.keyCode,Je[Ge]=e=>"="===e.key||187===e.keyCode,Je.ctrl=e=>"Control"===e.key,Je.cmd=e=>"Meta"===e.key,Je.shift=e=>"Shift"===e.key;const Ke=new(t())({});let Qe=null;function Ye(e,t){if(t||(Qe=null),(e=e||window.event).target!==document.body)return;const n=function(e){return(0,o.w_)(Je,(t=>t(e)))}(e);if(n){if(t){if(Qe===n&&!n.startsWith("arrow-"))return;Qe=n}n===He&&e.target&&"body"===e.target.nodeName.toLowerCase()&&e.preventDefault(),Ke.$emit("key-press",t,n,{ctrlCmdPressed:e.metaKey||e.ctrlKey},e)}}document.addEventListener("keydown",(e=>Ye(e,!0))),document.addEventListener("keyup",(e=>Ye(e,!1)));const Xe=[.1,.25,.35,.5,.75,1,1.25,1.5,2,3,4,5,7.5,10];function et(e,t,n){return t*(1-e)+n*e}let tt=null;class nt{constructor(e,t,n,i){this.schemeContainer=null,this.name=n||"",this.store=t,this.editorId=e,this.subState=null,this.previousSubStates=[],this.listener=i,this.pinchToZoomId=0,this.pinchToZoom={id:0,wp1:{x:0,y:0},wp2:{x:0,y:0},x0:0,y0:0,scale:1},this.inertiaDrag={on:!1,speed:0,direction:{x:0,y:0},positionTracker:{idx:0,positions:[]}}}onItemChanged(e){}resetInertiaDrag(){this.inertiaDrag.positionTracker.idx=0,this.inertiaDrag.positionTracker.positions=[],this.inertiaDrag.speed=0,this.inertiaDrag.on=!1}registerInertiaPositions(e,t){this.inertiaDrag.positionTracker.positions.length<5?this.inertiaDrag.positionTracker.positions.push({x:e,y:t,time:performance.now()}):this.inertiaDrag.positionTracker.positions[this.inertiaDrag.positionTracker.idx]={x:e,y:t,time:performance.now()},this.inertiaDrag.positionTracker.idx=(this.inertiaDrag.positionTracker.idx+1)%5}initScreenInertia(){if(this.inertiaDrag.on)return;const e=this.inertiaDrag.positionTracker.positions;if(e.length>2){e.sort(((e,t)=>t.time-e.time));let t=0,n=0,i=0;const r=[1,.5,.3,.1,.05];let o=0;for(let s=0;s<e.length-1;s++){const a=e[s+1],l=e[s],c=Math.sqrt((a.x-l.x)*(a.x-l.x)+(a.y-l.y)*(a.y-l.y));c>.01&&(t+=(l.x-a.x)/c,n+=(l.y-a.y)/c);const h=l.time-a.time;if(h>.01){const e=c/h;if(0===s&&e<.5)return void(this.inertiaDrag.speed=0);i+=e*r[s],o+=r[s]}}t/=e.length-1,n/=e.length-1,this.inertiaDrag.direction.x=t,this.inertiaDrag.direction.y=n,o>0?(this.inertiaDrag.speed=Math.min(10,i/o),this.inertiaDrag.on=!0):(this.inertiaDrag.speed=0,this.inertiaDrag.on=!1)}else this.inertiaDrag.speed=0,this.inertiaDrag.on=!1}loop(e){if(this.inertiaDrag.on)if(this.inertiaDrag.speed>.05){const t=this.schemeContainer.screenTransform.x+this.inertiaDrag.speed*e*this.inertiaDrag.direction.x/2,n=this.schemeContainer.screenTransform.y+this.inertiaDrag.speed*e*this.inertiaDrag.direction.y/2;this.dragScreenTo(t,n),this.inertiaDrag.speed=Math.max(0,this.inertiaDrag.speed-e/200)}else this.inertiaDrag.on=!1}migrateSubState(e){this.subState&&(this.previousSubStates.push(this.subState),this.previousSubStates.length>10&&this.previousSubStates.shift()),this.subState=e,this.subState.listener=this.listener,this.store.dispatch("setEditorSubStateName",this.subState?this.subState.name:"null"),this.listener.onSubStateMigrated()}migrateToPreviousSubState(){this.previousSubStates.length>0&&(this.subState=this.previousSubStates.pop(),this.subState.listener=this.listener,this.store.dispatch("setEditorSubStateName",this.subState?this.subState.name:"null"),this.listener.onSubStateMigrated())}resetPreviousSubStates(){this.previousSubStates=[]}setSchemeContainer(e){this.schemeContainer=e}reset(){}cancel(){this.reset(),this.listener.onCancel(this.name)}keyPressed(e,t){this.subState&&this.subState.keyPressed(e,t)}keyUp(e,t){this.subState&&this.subState.keyUp(e,t)}mouseDoubleClick(e,t,n,i,r,o){this.subState&&this.subState.mouseDoubleClick(e,t,n,i,r,o)}mouseDown(e,t,n,i,r,o){this.pinchToZoomId+=1,this.subState&&this.subState.mouseDown(e,t,n,i,r,o)}mouseMove(e,t,n,i,r,o){this.subState&&this.subState.mouseMove(e,t,n,i,r,o)}mouseUp(e,t,n,i,r,o){this.subState&&this.subState.mouseUp(e,t,n,i,r,o)}mobilePinchToZoom(e){if(e.preventDefault(),this.pinchToZoom.id!==this.pinchToZoomId)return void this.initPinchToZoom(e);if(2!==e.touches.length)return;const t=this.pinchToZoom.wp1,n=this.pinchToZoom.wp2,i=e.touches[0].pageX,r=e.touches[0].pageY,o=e.touches[1].pageX,a=e.touches[1].pageY,l=t.x-n.x,c=t.y-n.y;if(Math.abs(l)>Math.abs(c)){if(s.Z.tooSmall(l))return;this.schemeContainer.screenTransform.scale=s.Z.clamp(Math.abs((i-o)/l),5e-4,1e5)}else{if(s.Z.tooSmall(c))return;this.schemeContainer.screenTransform.scale=s.Z.clamp(Math.abs((r-a)/c),5e-4,1e5)}const h=i-t.x*this.schemeContainer.screenTransform.scale,d=o-n.x*this.schemeContainer.screenTransform.scale,u=r-t.y*this.schemeContainer.screenTransform.scale,p=a-n.y*this.schemeContainer.screenTransform.scale;this.schemeContainer.screenTransform.x=(h+d)/2,this.schemeContainer.screenTransform.y=(u+p)/2,v.Z.screenTransformUpdated.$emit(this.editorId,this.schemeContainer.screenTransform)}initPinchToZoom(e){if(2!==e.touches.length)return;const t=this.schemeContainer.screenTransform.x,n=this.schemeContainer.screenTransform.y,i=this.schemeContainer.screenTransform.scale;this.pinchToZoom.id=this.pinchToZoomId,this.pinchToZoom.wp1={x:(e.touches[0].pageX-t)/i,y:(e.touches[0].pageY-n)/i},this.pinchToZoom.wp2={x:(e.touches[1].pageX-t)/i,y:(e.touches[1].pageY-n)/i},this.pinchToZoom.scale=this.schemeContainer.screenTransform.scale,this.pinchToZoom.x0=this.schemeContainer.screenTransform.x,this.pinchToZoom.y0=this.schemeContainer.screenTransform.y}mouseWheel(e,t,n,i,r){r&&this.zoomByWheel(n,i,r.deltaY)}zoomByWheel(e,t,n){const i=(100+Math.min(120,Math.sqrt(Math.abs(n))))/100;var r=0,o=this.schemeContainer.screenTransform.x,s=this.schemeContainer.screenTransform.y;if(n<0){const n=e-(r=this.schemeContainer.screenTransform.scale*i)*(e-o)/this.schemeContainer.screenTransform.scale,a=t-r*(t-s)/this.schemeContainer.screenTransform.scale;this.schemeContainer.screenTransform.scale=r,this.dragScreenTo(n,a)}else if(this.schemeContainer.screenTransform.scale>.05){const n=e-(r=this.schemeContainer.screenTransform.scale/i)*(e-o)/this.schemeContainer.screenTransform.scale,a=t-r*(t-s)/this.schemeContainer.screenTransform.scale;this.schemeContainer.screenTransform.scale=r,this.dragScreenTo(n,a)}}resetZoom(){this.changeZoomTo(1)}zoomOut(){const e=this.schemeContainer.screenTransform.scale;let t=Xe[0],n=!1;for(let i=0;i<Xe.length&&!n;i++)Xe[i]<e?t=Xe[i]:n=!0;this.changeZoomTo(t)}zoomIn(){const e=this.schemeContainer.screenTransform.scale;let t=Xe[Xe.length-1],n=!1,i=Xe.length-1;for(;!n;)Xe[i]>e?t=Xe[i]:n=!0,i-=1,i<0&&(n=!0);this.changeZoomTo(t)}changeZoomTo(e){!function(e,t,n){const i=e.screenTransform.x,r=e.screenTransform.y,o=document.getElementById(`svg-plot-${e.editorId}`).getBoundingClientRect(),a=o.width/2,l=o.height/2,c=a-t*(a-i)/e.screenTransform.scale,h=l-t*(l-r)/e.screenTransform.scale,d={t:0,finished:!1,oldScale:e.screenTransform.scale,oldX:e.screenTransform.x,oldY:e.screenTransform.y,newScale:t,newX:c,newY:h};tt&&(tt.finished=!0);const u=t=>{const i=performance.now(),r=i-t;d.t+=8*r/1e3;const o=(0,_.rJ)(s.Z.clamp(d.t,0,1),_.jU.EASE_OUT);e.screenTransform.scale=et(o,d.oldScale,d.newScale),e.screenTransform.x=et(o,d.oldX,d.newX),e.screenTransform.y=et(o,d.oldY,d.newY),n(e.screenTransform),v.Z.screenTransformUpdated.$emit(e.editorId,e.screenTransform),!d.finished&&d.t<1&&window.requestAnimationFrame((()=>{u(i)}))};u(performance.now()),tt=d}(this.schemeContainer,e,(e=>{v.Z.screenTransformUpdated.$emit(this.editorId,e)}))}dragScreenOffset(e,t){let n=this.schemeContainer.screenTransform.x+e,i=this.schemeContainer.screenTransform.y+t;this.dragScreenTo(n,i)}getScreenBounds(){return null}getScreenBoundsPadding(){return{x:10,y:10}}dragScreenTo(e,t){const n=this.getScreenBounds(),i=this.schemeContainer.screenTransform.scale,r=this.getScreenBoundsPadding();if(n){const o=-n.x*i,s=-n.y*i,a=this.schemeContainer.screenSettings.width-(n.x+n.w)*i,l=this.schemeContainer.screenSettings.height-(n.y+n.h)*i,c={min:Math.min(o,a),max:Math.max(o,a)},h={min:Math.min(s,l),max:Math.max(s,l)};this.schemeContainer.screenTransform.x=Math.max(c.min-r.x,Math.min(e,c.max+r.x)),this.schemeContainer.screenTransform.y=Math.max(h.min-r.y,Math.min(t,h.max+r.y))}else this.schemeContainer.screenTransform.x=e,this.schemeContainer.screenTransform.y=t;v.Z.screenTransformUpdated.$emit(this.editorId,this.schemeContainer.screenTransform)}isSnappingToItemsEnabled(){return this.store.state.snap.items}snapToGrid(e){const t=s.Z.getSnappingWidthForScale(this.schemeContainer.screenTransform.scale);return this.store.state.snap.grid?Math.round(e/t)*t:e}snapPoints(e,t,n,i){if(!e)return{dx:n,dy:i};let r=n,s=i,a=this.schemeContainer.screenTransform.scale,l=null,c=1e3,h=null,d=1e3;if(this.isSnappingToItemsEnabled()&&((0,o.Ed)(this.schemeContainer.relativeSnappers.horizontal,(n=>{t.has(n.item.id)||(0,o.Ed)(e.horizontal,(e=>{let t=Math.abs(n.value-e.y-i);t*a<6&&t<c&&(l={snapper:n,dy:n.value-e.y},c=t)}))})),(0,o.Ed)(this.schemeContainer.relativeSnappers.vertical,(i=>{t.has(i.item.id)||(0,o.Ed)(e.vertical,(e=>{let t=Math.abs(i.value-e.x-n);t*a<6&&t<d&&(h={snapper:i,dx:i.value-e.x},d=t)}))}))),l)y.Z.setItemSnapper(this.store,l.snapper),s=l.dy;else if(this.store.state.snap.grid){let t=1e3;(0,o.Ed)(e.horizontal,(e=>{const n=this.snapToGrid(e.y+i),r=Math.abs(n-e.y);r<t&&(t=r,s=n-e.y)}))}if(h)y.Z.setItemSnapper(this.store,h.snapper),r=h.dx;else if(this.store.state.snap.grid){let t=1e3;(0,o.Ed)(e.vertical,(e=>{const i=this.snapToGrid(e.x+n),o=Math.abs(i-e.x);o<t&&(t=o,r=i-e.x)}))}return{dx:r,dy:s}}getUpdatePrecision(){return this.schemeContainer.screenTransform.scale<.5?0:Math.max(0,Math.round(Math.log10(100*this.schemeContainer.screenTransform.scale)-1))}round(e){return s.Z.roundPrecise(e,this.getUpdatePrecision())}}class it extends nt{constructor(e,t){super(e.editorId,e.store,t),this.schemeContainer=e.schemeContainer,this.parentState=e}getScreenBounds(){return this.parentState.getScreenBounds()}getScreenBoundsPadding(){return this.parentState.getScreenBoundsPadding()}migrate(e){this.parentState.migrateSubState(e)}migrateSubState(e){this.parentState.migrateSubState(e)}migrateToPreviousSubState(){this.parentState.migrateToPreviousSubState()}cancel(){this.parentState.cancel()}getSchemeContainer(){return this.parentState.schemeContainer}}class rt extends it{constructor(e,t,n){super(e,"drag-screen"),this.schemeContainer=e.schemeContainer,this.originalClickPoint=n,this.exitOnMouseUp=t,this.originalScreenOffset={x:this.schemeContainer.screenTransform.x,y:this.schemeContainer.screenTransform.y},this.parentState.resetInertiaDrag()}keyUp(e,t){e===qe&&this.migrateToPreviousSubState()}mouseDown(e,t,n,i,r,o){this.originalClickPoint={x:e,y:t,mx:n,my:i},this.originalScreenOffset={x:this.schemeContainer.screenTransform.x,y:this.schemeContainer.screenTransform.y},this.parentState.resetInertiaDrag()}mouseMove(e,t,n,i,r,o){if(this.originalClickPoint){if(0===o.buttons)return void this.mouseUp(e,t,n,i,r,o);this.parentState.registerInertiaPositions(n,i),this.dragScreenTo(Math.floor(this.originalScreenOffset.x+n-this.originalClickPoint.mx),Math.floor(this.originalScreenOffset.y+i-this.originalClickPoint.my))}}mouseUp(e,t,n,i,r,o){this.originalClickPoint=null,this.parentState.initScreenInertia(),v.Z.screenTransformUpdated.$emit(this.editorId,this.schemeContainer.screenTransform),this.exitOnMouseUp&&this.migrateToPreviousSubState()}}const ot=nt,st=T.Z.standardEvents.mousein.id,at=T.Z.standardEvents.mouseout.id,lt=T.Z.standardEvents.clicked.id;function ct(e,t){window.requestAnimationFrame((()=>{const n=performance.now();e.loop(n-t)&&ct(e,n)}))}class ht{constructor(e,t){this.schemeContainer=e,this.shouldLoop=!0,this.pos={x:0,y:0},this.localClickPoint=t}start(){ct(this,performance.now())}updateItemPosition(e){this.pos=(0,P.rs)(this.localClickPoint.x,this.localClickPoint.y,e)}loop(e){const t=this.pos.x*this.schemeContainer.screenTransform.scale+this.schemeContainer.screenTransform.x,n=this.pos.y*this.schemeContainer.screenTransform.scale+this.schemeContainer.screenTransform.y;return t<20&&(this.schemeContainer.screenTransform.x+=e/2),n<20&&(this.schemeContainer.screenTransform.y+=e/2),t>this.schemeContainer.screenSettings.width-20&&(this.schemeContainer.screenTransform.x-=e/2),n>this.schemeContainer.screenSettings.height-20&&(this.schemeContainer.screenTransform.y-=e/2),this.shouldLoop}stop(){this.shouldLoop=!1}}class dt extends it{constructor(e,t,n,i,r){super(e,"drag-item"),this.listener=t,this.initialClickPoint={x:i,y:r},this.originalItemPosition={x:n.area.x,y:n.area.y},this.item=n,this.moved=!1,this.lastDropCandidate=null,this.looper=new ht(this.schemeContainer,(0,P.N5)(i,r,n));const o=(0,P.rs)(n.area.px*n.area.w,n.area.py*n.area.h,n);this.worldPivotCorrection={x:i-o.x,y:r-o.y}}cancel(){super.cancel(),this.looper.stop()}emit(e,t,...n){this.parentState.emit(e,t,...n)}mouseMove(e,t,n,i,r,o){if(0===o.buttons)return void this.mouseUp(e,t,n,i,r,o);this.moved||(this.emit(this.item,T.Z.standardEvents.dragStart.id),this.looper.start()),this.moved=!0,this.emit(this.item,T.Z.standardEvents.drag.id);const s=this.schemeContainer.relativePointForItem(this.initialClickPoint.x,this.initialClickPoint.y,this.item),l=this.schemeContainer.relativePointForItem(e,t,this.item),c=this.originalItemPosition.x+l.x-s.x,h=this.originalItemPosition.y+l.y-s.y;this.item.behavior.dragging===a.qv.dragndrop.id?this.handleDroppableMouseMove(c,h):this.item.behavior.dragging===a.qv.path.id&&this.item.behavior.dragPath?this.handlePathMouseMove(e,t):(this.item.area.x=c,this.item.area.y=h),this.schemeContainer.readjustItemAndDescendants(this.item.id,!0),this.looper.updateItemPosition(this.item),v.Z.item.changed.specific.$emit(this.editorId,this.item.id,"area")}handlePathMouseMove(e,t){const n=this.schemeContainer.findElementsBySelector(this.item.behavior.dragPath);if(0===n.length)return;let i=-1,r=null,a=null,l=null,c=-1;if(n.forEach((n=>{if(n.id===this.item.id||n.meta.ancestorIds&&(0,o.cq)(n.meta.ancestorIds)>=0)return;const h=(0,P.Ls)(n);if(!h)return;const d=(0,P.N5)(e-this.worldPivotCorrection.x,t-this.worldPivotCorrection.y,n),u=s.Z.closestPointOnPath(d.x,d.y,h);if(!u)return;const p=(0,P.rs)(u.x,u.y,n),f=(p.x-e)*(p.x-e)+(p.y-t)*(p.y-t);(f<i||i<0)&&(i=f,r=p,a=n,l=h,c=u.distance)})),!r)return;const h=s.Z.findTranslationMatchingWorldPoint(r.x,r.y,this.item.area.w*this.item.area.px,this.item.area.h*this.item.area.py,this.item.area,this.item.meta.transformMatrix);if(this.item.area.x=h.x,this.item.area.y=h.y,this.item.behavior.dragPathAlign){const e=l.getPointAtLength(c+1),t=l.getPointAtLength(c-1),n=(0,P.rs)(e.x,e.y,a),i=(0,P.rs)(t.x,t.y,a),r=n.x-i.x,o=n.y-i.y,h=r*r+o*o;if(!s.Z.tooSmall(h)){const e=Math.sqrt(h),t=r/e,n=o/e,i=180*s.Z.fullAngleForNormalizedVector(t,n)/Math.PI;this.item.area.r=i,isFinite(this.item.behavior.dragPathRotation)&&(this.item.area.r+=this.item.behavior.dragPathRotation)}}}handleDroppableMouseMove(e,t){this.item.area.x=e,this.item.area.y=t;const n=this.findDesignatedDropItem();if(!this.lastDropCandidate||n&&n.id===this.lastDropCandidate.id||(this.emit(this.item,T.Z.standardEvents.dragObjectOut.id,this.lastDropCandidate),this.emit(this.lastDropCandidate,T.Z.standardEvents.dragObjectOut.id,this.item)),!n)return void(this.lastDropCandidate=null);const i=this.getDropPosition(n);i&&(this.item.area.x=i.x,this.item.area.y=i.y),this.lastDropCandidate&&this.lastDropCandidate.id===n.id||(this.emit(this.item,T.Z.standardEvents.dragObjectIn.id,n),this.emit(n,T.Z.standardEvents.dragObjectIn.id,this.item)),this.lastDropCandidate=n}getDropPosition(e){const t=(0,P.rs)(e.area.w/2,e.area.h/2,e);return s.Z.findTranslationMatchingWorldPoint(t.x,t.y,this.item.area.w/2,this.item.area.h/2,this.item.area,this.item.meta.transformMatrix)}mouseUp(e,t,n,i,r,o){if(this.looper.stop(),this.emit(this.item,T.Z.standardEvents.dragEnd.id),!this.moved)return this.parentState.handleItemClick(this.item,n,i),void this.migrateToPreviousSubState();if(this.item.behavior.dragging===a.qv.dragndrop.id){const e=this.lastDropCandidate;if(e){const t=this.getDropPosition(e);t&&(this.item.area.x=t.x,this.item.area.y=t.y),this.emit(this.item,T.Z.standardEvents.drop.id,e),this.emit(e,T.Z.standardEvents.receiveDrop.id,this.item)}else this.item.area.x=this.originalItemPosition.x,this.item.area.y=this.originalItemPosition.y}v.Z.item.changed.specific.$emit(this.editorId,this.item.id,"area"),this.migrateToPreviousSubState()}findDesignatedDropItem(){if("self"===this.item.behavior.dropTo)return null;const e=this.schemeContainer.findElementsBySelector(this.item.behavior.dropTo,null),t=(0,P.av)([this.item]);let n=null;const i=t.w*t.h;return e.forEach((e=>{if(e.id===this.item.id||e.meta.ancestorIds&&(0,o.cq)(e.meta.ancestorIds)>=0)return;const r=(0,P.av)([e]),a=s.Z.overlappingArea(t,r);a&&a.w*a.h>i/2&&(n=e)})),n}}class ut extends it{constructor(e,t,n){super(e,"idle"),this.listener=t,this.mouseMovedAfterClick=!1,this.initialClickPoint=null,this.currentHoveredItem=null,this.hoveredItemIds=new Set,this.userEventBus=n,this.schemeContainer=this.parentState.schemeContainer}reset(){this.softReset(),this.hoveredItemIds=new Set}softReset(){this.mouseMovedAfterClick=!1,this.initialClickPoint=null}keyPressed(e,t){e===We?this.zoomOut():e===Ge?this.zoomIn():e===Ve&&this.resetZoom()}mouseDown(e,t,n,i,r,o){if(super.mouseDown(e,t,n,i,r,o),this.mouseMovedAfterClick=!1,this.initialClickPoint={x:n,y:i},!function(e){return 1===e.button}(o)&&r&&"item"===r.type){if("none"!==r.item.behavior.dragging)return void this.migrateSubState(new dt(this,this.listener,r.item,e,t));if(r.item.meta.ancestorDraggableId){const n=this.schemeContainer.findItemById(r.item.meta.ancestorDraggableId);if(n)return void this.migrateSubState(new dt(this,this.listener,n,e,t))}}}mouseUp(e,t,n,i,r,o){if(!this.mouseMovedAfterClick){if(r&&r.item){this.listener.onItemClicked(r.item,e,t);const o=u.Z.find(r.item.shape);if(o&&o.onMouseDown){const n=(0,P.N5)(e,t,r.item);o.onMouseDown(this.editorId,r.item,r.areaId,n.x,n.y)}this.parentState.handleItemClick(r.item,n,i)}else o.target&&o.target.closest(".item-link")||this.listener.onVoidClicked();this.softReset()}}mouseMove(e,t,n,i,r,o){if(o.touches&&2===o.touches.length)this.mobilePinchToZoom(o);else if(this.initialClickPoint&&Math.abs(n-this.initialClickPoint.x)+Math.abs(i-this.initialClickPoint.y)>3)this.mouseMovedAfterClick=!0,o.preventDefault(),0===o.buttons?this.softReset():this.migrate(new rt(this.parentState,!0,{x:e,y:t,mx:n,my:i}));else{if(r.item){const n=u.Z.find(r.item.shape);if(n&&n.onMouseMove){const i=(0,P.N5)(e,t,r.item);n.onMouseMove(this.editorId,r.item,r.areaId,i.x,i.y)}}this.handleItemHoverEvents(r)}}sendItemEventById(e,t){const n=this.schemeContainer.findItemById(e);n&&this.emit(n,t)}handleItemHoverEvents(e){if(e&&("item"===e.type||"custom-item-area"===e.type)&&e.item)if(this.currentHoveredItem){if(this.currentHoveredItem.id!==e.item.id){let t=new Set;e.item.meta&&Array.isArray(e.item.meta.ancestorIds)&&(t=new Set(e.item.meta.ancestorIds)),t.add(e.item.id),this.hoveredItemIds.forEach((e=>{t.has(e)||(this.hoveredItemIds.delete(e),this.sendMouseOutEvent(e))})),t.forEach((e=>{this.hoveredItemIds.has(e)||(this.hoveredItemIds.add(e),this.sendItemEventById(e,st))})),this.currentHoveredItem=e.item}}else e.item.meta&&Array.isArray(e.item.meta.ancestorIds)?(this.hoveredItemIds=new Set(e.item.meta.ancestorIds.concat([e.item.id])),e.item.meta.ancestorIds.forEach((e=>{this.sendItemEventById(e,st)}))):this.hoveredItemIds=new Set([e.item.id]),this.emit(e.item,st),this.currentHoveredItem=e.item;else this.hoveredItemIds.forEach((e=>{this.sendMouseOutEvent(e)})),this.hoveredItemIds.clear(),this.currentHoveredItem=null}sendMouseOutEvent(e){this.sendItemEventById(e,at);const t=this.schemeContainer.findItemById(e);if(!t)return;const n=u.Z.find(t.shape);n&&n.onMouseOut&&n.onMouseOut(this.editorId,t)}emit(e,t,...n){this.parentState.emit(e,t,...n)}handleItemClick(e,t,n){this.parentState.handleItemClick(e,t,n)}}const pt=class extends ot{constructor(e,t,n,i){super(e,t,"interact",i),this.subState=null,this.userEventBus=n,this.screenBoundsUpdateTimer=null,this.screenBounds=null,this.screenBoundsPadding={x:10,y:10}}cancel(){super.cancel(),this.screenBoundsUpdateTimer&&(clearTimeout(this.screenBoundsUpdateTimer),this.screenBoundsUpdateTimer=null)}reset(){this.screenBoundsUpdateTimer&&(clearTimeout(this.screenBoundsUpdateTimer),this.screenBoundsUpdateTimer=null),this.screenBounds=null,this.updateScreenBounds(),this.migrateSubState(new ut(this,this.listener,this.userEventBus))}scheduleScreenBoundsUpdate(){this.screenBoundsUpdateTimer&&clearTimeout(this.screenBoundsUpdateTimer),this.screenBoundsUpdateTimer=setTimeout((()=>this.updateScreenBounds()),500)}onItemChanged(e){this.scheduleScreenBoundsUpdate()}getScreenBounds(){return this.screenBounds}getScreenBoundsPadding(){return this.screenBoundsPadding}updateScreenBounds(){let e=null;const t=[],n=i=>{for(let r=0;r<i.length;r++){const o=i[r];if("dummy"===o.shape&&o.shapeProps.screenBounds)return e=o,!1;o.visible&&"hud"!==o.shape&&(t.push(o),o.clip||(Array.isArray(o.childItems)&&n(o.childItems),Array.isArray(o._childItems)&&n(o._childItems)))}return!0};n(this.schemeContainer.scheme.items);const i=(0,P.av)(e?[e]:t);this.screenBounds=i,e?(this.screenBoundsPadding.x=0,this.screenBoundsPadding.y=0):(this.screenBoundsPadding.x=.95*this.schemeContainer.screenSettings.width,this.screenBoundsPadding.y=.95*this.schemeContainer.screenSettings.height),this.dragScreenTo(this.schemeContainer.screenTransform.x,this.schemeContainer.screenTransform.y)}handleItemClick(e,t,n){this.emit(e,lt),e.links&&e.links.length>0&&this.listener.onItemLinksShowRequested(e),(0,a.U3)(e)&&(e.interactionMode===a.pp.SIDE_PANEL?this.listener.onItemSidePanelRequested(e):e.interactionMode===a.pp.TOOLTIP&&this.listener.onItemTooltipRequested(e,t,n))}emit(e,t,...n){e&&e.id&&this.userEventBus.emitItemEvent(e.id,t,...n)}},ft={props:{scheme:{type:Object},zoom:{type:Number,default:100},autoZoom:{type:Boolean,default:!0},sidePanelWidth:{type:Number,default:400},useMouseWheel:{type:Boolean,default:!0},homeLink:{type:String,default:"https://github.com/ishubin/schemio"},linkColor:{type:String,default:"#b0d8f5"},headerBackground:{type:String,default:"#555"},headerColor:{type:String,default:"#f0f0f0"},headerEnabled:{type:Boolean,default:!0},zoomButton:{type:Boolean,default:!0},zoomInput:{type:Boolean,default:!0},title:{type:String,default:""}},components:{SvgEditor:Y,ItemTooltip:ie,ItemDetails:se},beforeMount(){this.initSchemeContainer(),v.Z.screenTransformUpdated.$on(this.editorId,this.onScreenTransformUpdated),v.Z.item.changed.any.$on(this.editorId,this.onAnyItemChanged),v.Z.void.clicked.$on(this.editorId,this.onVoidClicked),this.startStateLoop()},beforeDestroy(){v.Z.screenTransformUpdated.$off(this.editorId,this.onScreenTransformUpdated),v.Z.item.changed.any.$off(this.editorId,this.onAnyItemChanged),v.Z.void.clicked.$off(this.editorId,this.onVoidClicked),this.animationRegistry.destroy(),this.stopStateLoop()},created(){this.animationRegistry=(0,E.XS)(this.editorId),this.userEventBus=new U(this.editorId),this.stateInteract=new pt(this.editorId,Ue,this.userEventBus,{onCancel:()=>{},onItemChanged:(e,t)=>v.Z.item.changed.specific.$emit(this.editorId,e,t),onItemClicked:e=>this.onInteractItemClicked(e),onVoidClicked:()=>this.onInteractVoidClicked(),onItemTooltipRequested:(e,t,n)=>this.onItemTooltipTriggered(e,t,n),onItemSidePanelRequested:e=>this.onItemSidePanelTriggered(e),onItemLinksShowRequested:e=>v.Z.item.linksShowRequested.any.$emit(this.editorId,e),onScreenTransformUpdated:e=>this.onScreenTransformUpdated(e),onItemsHighlighted:e=>this.highlightedItems=e,onSubStateMigrated:()=>{}})},data(){return{editorId:"standalone-"+j().generate(),schemeContainer:null,initialized:!1,textZoom:""+this.zoom,vZoom:this.zoom,itemTooltip:{id:null,item:null,shown:!1,x:0,y:0},highlightedItems:{itemIds:[],showPins:!1},sidePanel:{item:null},isStateLooping:!1}},methods:{onAnyItemChanged(e){this.stateInteract.onItemChanged(e)},initSchemeContainer(){D(this.scheme.items,this.$store).catch((e=>{console.error("Failed to load shapes",e)})).then((()=>{this.schemeContainer=new S.ZP(this.scheme,this.editorId,"view",this.$store.state.apiClient),this.stateInteract.schemeContainer=this.schemeContainer;const e=this.schemeContainer.getBoundingBoxOfItems((0,P.wW)(this.schemeContainer.getItems()));this.schemeContainer.screenSettings.boundingBox=e,this.stateInteract.reset(),this.initialized=!0,this.autoZoom&&this.zoomToScheme()}))},mouseWheel(e,t,n,i,r){this.initialized&&this.stateInteract.mouseWheel(e,t,n,i,r)},mouseDown(e,t,n,i,r,o){this.initialized&&this.stateInteract.mouseDown(e,t,n,i,r,o)},mouseUp(e,t,n,i,r,o){this.initialized&&this.stateInteract.mouseUp(e,t,n,i,r,o)},mouseMove(e,t,n,i,r,o){this.initialized&&this.stateInteract.mouseMove(e,t,n,i,r,o)},mouseDoubleClick(e,t,n,i,r,o){this.initialized&&this.stateInteract.mouseDoubleClick(e,t,n,i,r,o)},onScreenTransformUpdated(e){this.textZoom=""+Math.round(1e4*e.scale)/100},onInteractVoidClicked(){this.itemTooltip.shown=!1,v.Z.void.clicked.$emit(this.editorId)},onInteractItemClicked(e){this.itemTooltip.shown=!1,v.Z.item.clicked.any.$emit(this.editorId,e)},onItemTooltipTriggered(e,t,n){this.itemTooltip.id=e.id,this.itemTooltip.item=e,this.itemTooltip.x=t,this.itemTooltip.y=n,this.itemTooltip.shown=!0},onItemSidePanelTriggered(e){this.sidePanel.item=e},onZoomSubmitted(){this.vZoom=parseFloat(this.textZoom),this.initialized&&(this.schemeContainer.screenTransform.scale=this.vZoom/100)},onVoidClicked(){this.sidePanel.item=null},zoomToScheme(){this.zoomToItems(this.schemeContainer.getItems())},zoomToItems(e){if(e&&e.length>0){const t=this.getBoundingBoxOfItems(e);t&&v.Z.zoomToAreaRequested.$emit(this.editorId,t,!1)}},getBoundingBoxOfItems(e){let t=null;return(0,o.Ed)(e,(e=>{t?(t.x>e.area.x&&(t.x=e.area.x),t.y>e.area.y&&(t.y=e.area.y),t.x+t.w<e.area.x+e.area.w&&(t.w=e.area.x+e.area.w-t.x),t.y+t.h<e.area.y+e.area.h&&(t.h=e.area.y+e.area.h-t.y)):t={x:e.area.x,y:e.area.y,w:e.area.w,h:e.area.h}})),t},startStateLoop(){this.isStateLooping=!0,this.stateLoop(0)},stateLoop(e){const t=performance.now();this.stateInteract.loop(Math.min(100,e)),this.isStateLooping&&window.requestAnimationFrame((()=>{this.stateLoop(performance.now()-t)}))},stopStateLoop(){this.isStateLooping=!1}}},mt=(0,A.Z)(ft,i,[],!1,null,null,null).exports;function gt(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}window.schemioViewScheme=(e,n,i)=>{const r=i||{};r.apiClient&&Ue.dispatch("setApiClient",r.apiClient),Ue.dispatch("setAssetsPath",r.assetsPath||"/"),new(t())({components:{StandaloneSchemeView:mt},store:Ue,data:()=>({scheme:n,zoom:Math.max(5e-5,parseFloat(r.zoom)||100),autoZoom:gt(r,"autoZoom",!0),sidePanelWidth:parseInt(r.sidePanelWidth)||400,useMouseWheel:gt(r,"useMouseWheel",!0),homeLink:gt(r,"homeLink","https://schem.io"),linkColor:gt(r,"linkColor","#b0d8f5"),headerBackground:gt(r,"headerBackground","#555"),headerColor:gt(r,"headerColor","#f0f0f0"),headerEnabled:gt(r,"headerEnabled",!0),zoomButton:gt(r,"zoomButton",!0),zoomInput:gt(r,"zoomInput",!0),title:gt(r,"title","")}),template:'<standalone-scheme-view :scheme="scheme" :zoom="zoom" :auto-zoom="autoZoom" :link-color="linkColor" :header-background="headerBackground" :headerColor="headerColor" :header-enabled="headerEnabled" :zoom-button="zoomButton" :zoom-input="zoomInput" :home-link="homeLink" :side-panel-width="sidePanelWidth" :use-mouse-wheel="useMouseWheel" :title="title"/>'}).$mount(e)}})()})();